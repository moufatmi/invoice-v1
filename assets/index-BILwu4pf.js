(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Of={exports:{}},kc={},Tf={exports:{}},jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function gy(){if(vg)return jr;vg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function N(se){return se===null||typeof se!="object"?null:(se=b&&se[b]||se["@@iterator"],typeof se=="function"?se:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,P={};function R(se,I,$){this.props=se,this.context=I,this.refs=P,this.updater=$||_}R.prototype.isReactComponent={},R.prototype.setState=function(se,I){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,I,"setState")},R.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function L(){}L.prototype=R.prototype;function M(se,I,$){this.props=se,this.context=I,this.refs=P,this.updater=$||_}var H=M.prototype=new L;H.constructor=M,O(H,R.prototype),H.isPureReactComponent=!0;var oe=Array.isArray,pe=Object.prototype.hasOwnProperty,Ee={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function G(se,I,$){var X,ie={},de=null,xe=null;if(I!=null)for(X in I.ref!==void 0&&(xe=I.ref),I.key!==void 0&&(de=""+I.key),I)pe.call(I,X)&&!ce.hasOwnProperty(X)&&(ie[X]=I[X]);var Oe=arguments.length-2;if(Oe===1)ie.children=$;else if(1<Oe){for(var ge=Array(Oe),rt=0;rt<Oe;rt++)ge[rt]=arguments[rt+2];ie.children=ge}if(se&&se.defaultProps)for(X in Oe=se.defaultProps,Oe)ie[X]===void 0&&(ie[X]=Oe[X]);return{$$typeof:t,type:se,key:de,ref:xe,props:ie,_owner:Ee.current}}function he(se,I){return{$$typeof:t,type:se.type,key:I,ref:se.ref,props:se.props,_owner:se._owner}}function Re(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function V(se){var I={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function($){return I[$]})}var Y=/\/+/g;function fe(se,I){return typeof se=="object"&&se!==null&&se.key!=null?V(""+se.key):I.toString(36)}function re(se,I,$,X,ie){var de=typeof se;(de==="undefined"||de==="boolean")&&(se=null);var xe=!1;if(se===null)xe=!0;else switch(de){case"string":case"number":xe=!0;break;case"object":switch(se.$$typeof){case t:case e:xe=!0}}if(xe)return xe=se,ie=ie(xe),se=X===""?"."+fe(xe,0):X,oe(ie)?($="",se!=null&&($=se.replace(Y,"$&/")+"/"),re(ie,I,$,"",function(rt){return rt})):ie!=null&&(Re(ie)&&(ie=he(ie,$+(!ie.key||xe&&xe.key===ie.key?"":(""+ie.key).replace(Y,"$&/")+"/")+se)),I.push(ie)),1;if(xe=0,X=X===""?".":X+":",oe(se))for(var Oe=0;Oe<se.length;Oe++){de=se[Oe];var ge=X+fe(de,Oe);xe+=re(de,I,$,ge,ie)}else if(ge=N(se),typeof ge=="function")for(se=ge.call(se),Oe=0;!(de=se.next()).done;)de=de.value,ge=X+fe(de,Oe++),xe+=re(de,I,$,ge,ie);else if(de==="object")throw I=String(se),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return xe}function qe(se,I,$){if(se==null)return se;var X=[],ie=0;return re(se,X,"","",function(de){return I.call($,de,ie++)}),X}function Be(se){if(se._status===-1){var I=se._result;I=I(),I.then(function($){(se._status===0||se._status===-1)&&(se._status=1,se._result=$)},function($){(se._status===0||se._status===-1)&&(se._status=2,se._result=$)}),se._status===-1&&(se._status=0,se._result=I)}if(se._status===1)return se._result.default;throw se._result}var me={current:null},te={transition:null},ye={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:te,ReactCurrentOwner:Ee};function be(){throw Error("act(...) is not supported in production builds of React.")}return jr.Children={map:qe,forEach:function(se,I,$){qe(se,function(){I.apply(this,arguments)},$)},count:function(se){var I=0;return qe(se,function(){I++}),I},toArray:function(se){return qe(se,function(I){return I})||[]},only:function(se){if(!Re(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},jr.Component=R,jr.Fragment=r,jr.Profiler=o,jr.PureComponent=M,jr.StrictMode=i,jr.Suspense=h,jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,jr.act=be,jr.cloneElement=function(se,I,$){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var X=O({},se.props),ie=se.key,de=se.ref,xe=se._owner;if(I!=null){if(I.ref!==void 0&&(de=I.ref,xe=Ee.current),I.key!==void 0&&(ie=""+I.key),se.type&&se.type.defaultProps)var Oe=se.type.defaultProps;for(ge in I)pe.call(I,ge)&&!ce.hasOwnProperty(ge)&&(X[ge]=I[ge]===void 0&&Oe!==void 0?Oe[ge]:I[ge])}var ge=arguments.length-2;if(ge===1)X.children=$;else if(1<ge){Oe=Array(ge);for(var rt=0;rt<ge;rt++)Oe[rt]=arguments[rt+2];X.children=Oe}return{$$typeof:t,type:se.type,key:ie,ref:de,props:X,_owner:xe}},jr.createContext=function(se){return se={$$typeof:l,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:a,_context:se},se.Consumer=se},jr.createElement=G,jr.createFactory=function(se){var I=G.bind(null,se);return I.type=se,I},jr.createRef=function(){return{current:null}},jr.forwardRef=function(se){return{$$typeof:c,render:se}},jr.isValidElement=Re,jr.lazy=function(se){return{$$typeof:w,_payload:{_status:-1,_result:se},_init:Be}},jr.memo=function(se,I){return{$$typeof:g,type:se,compare:I===void 0?null:I}},jr.startTransition=function(se){var I=te.transition;te.transition={};try{se()}finally{te.transition=I}},jr.unstable_act=be,jr.useCallback=function(se,I){return me.current.useCallback(se,I)},jr.useContext=function(se){return me.current.useContext(se)},jr.useDebugValue=function(){},jr.useDeferredValue=function(se){return me.current.useDeferredValue(se)},jr.useEffect=function(se,I){return me.current.useEffect(se,I)},jr.useId=function(){return me.current.useId()},jr.useImperativeHandle=function(se,I,$){return me.current.useImperativeHandle(se,I,$)},jr.useInsertionEffect=function(se,I){return me.current.useInsertionEffect(se,I)},jr.useLayoutEffect=function(se,I){return me.current.useLayoutEffect(se,I)},jr.useMemo=function(se,I){return me.current.useMemo(se,I)},jr.useReducer=function(se,I,$){return me.current.useReducer(se,I,$)},jr.useRef=function(se){return me.current.useRef(se)},jr.useState=function(se){return me.current.useState(se)},jr.useSyncExternalStore=function(se,I,$){return me.current.useSyncExternalStore(se,I,$)},jr.useTransition=function(){return me.current.useTransition()},jr.version="18.3.1",jr}var yg;function $p(){return yg||(yg=1,Tf.exports=gy()),Tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function my(){if(wg)return kc;wg=1;var t=$p(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,g){var w,b={},N=null,_=null;g!==void 0&&(N=""+g),h.key!==void 0&&(N=""+h.key),h.ref!==void 0&&(_=h.ref);for(w in h)i.call(h,w)&&!a.hasOwnProperty(w)&&(b[w]=h[w]);if(c&&c.defaultProps)for(w in h=c.defaultProps,h)b[w]===void 0&&(b[w]=h[w]);return{$$typeof:e,type:c,key:N,ref:_,props:b,_owner:o.current}}return kc.Fragment=r,kc.jsx=l,kc.jsxs=l,kc}var bg;function vy(){return bg||(bg=1,Of.exports=my()),Of.exports}var v=vy(),J=$p();const hn=Vm(J);var Ud={},Rf={exports:{}},Vs={},Df={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function yy(){return xg||(xg=1,function(t){function e(te,ye){var be=te.length;te.push(ye);e:for(;0<be;){var se=be-1>>>1,I=te[se];if(0<o(I,ye))te[se]=ye,te[be]=I,be=se;else break e}}function r(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ye=te[0],be=te.pop();if(be!==ye){te[0]=be;e:for(var se=0,I=te.length,$=I>>>1;se<$;){var X=2*(se+1)-1,ie=te[X],de=X+1,xe=te[de];if(0>o(ie,be))de<I&&0>o(xe,ie)?(te[se]=xe,te[de]=be,se=de):(te[se]=ie,te[X]=be,se=X);else if(de<I&&0>o(xe,be))te[se]=xe,te[de]=be,se=de;else break e}}return ye}function o(te,ye){var be=te.sortIndex-ye.sortIndex;return be!==0?be:te.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],g=[],w=1,b=null,N=3,_=!1,O=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(te){for(var ye=r(g);ye!==null;){if(ye.callback===null)i(g);else if(ye.startTime<=te)i(g),ye.sortIndex=ye.expirationTime,e(h,ye);else break;ye=r(g)}}function oe(te){if(P=!1,H(te),!O)if(r(h)!==null)O=!0,Be(pe);else{var ye=r(g);ye!==null&&me(oe,ye.startTime-te)}}function pe(te,ye){O=!1,P&&(P=!1,L(G),G=-1),_=!0;var be=N;try{for(H(ye),b=r(h);b!==null&&(!(b.expirationTime>ye)||te&&!V());){var se=b.callback;if(typeof se=="function"){b.callback=null,N=b.priorityLevel;var I=se(b.expirationTime<=ye);ye=t.unstable_now(),typeof I=="function"?b.callback=I:b===r(h)&&i(h),H(ye)}else i(h);b=r(h)}if(b!==null)var $=!0;else{var X=r(g);X!==null&&me(oe,X.startTime-ye),$=!1}return $}finally{b=null,N=be,_=!1}}var Ee=!1,ce=null,G=-1,he=5,Re=-1;function V(){return!(t.unstable_now()-Re<he)}function Y(){if(ce!==null){var te=t.unstable_now();Re=te;var ye=!0;try{ye=ce(!0,te)}finally{ye?fe():(Ee=!1,ce=null)}}else Ee=!1}var fe;if(typeof M=="function")fe=function(){M(Y)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,qe=re.port2;re.port1.onmessage=Y,fe=function(){qe.postMessage(null)}}else fe=function(){R(Y,0)};function Be(te){ce=te,Ee||(Ee=!0,fe())}function me(te,ye){G=R(function(){te(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){O||_||(O=!0,Be(pe))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(te){switch(N){case 1:case 2:case 3:var ye=3;break;default:ye=N}var be=N;N=ye;try{return te()}finally{N=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ye){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var be=N;N=te;try{return ye()}finally{N=be}},t.unstable_scheduleCallback=function(te,ye,be){var se=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?se+be:se):be=se,te){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=be+I,te={id:w++,callback:ye,priorityLevel:te,startTime:be,expirationTime:I,sortIndex:-1},be>se?(te.sortIndex=be,e(g,te),r(h)===null&&te===r(g)&&(P?(L(G),G=-1):P=!0,me(oe,be-se))):(te.sortIndex=I,e(h,te),O||_||(O=!0,Be(pe))),te},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(te){var ye=N;return function(){var be=N;N=ye;try{return te.apply(this,arguments)}finally{N=be}}}}(Ff)),Ff}var _g;function wy(){return _g||(_g=1,Df.exports=yy()),Df.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function by(){if(kg)return Vs;kg=1;var t=$p(),e=wy();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(n,s){l(n,s),l(n+"Capture",s)}function l(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function N(n){return h.call(b,n)?!0:h.call(w,n)?!1:g.test(n)?b[n]=!0:(w[n]=!0,!1)}function _(n,s,u,p){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,s,u,p){if(s===null||typeof s>"u"||_(n,s,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function P(n,s,u,p,k,j,q){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=k,this.mustUseProperty=u,this.propertyName=n,this.type=s,this.sanitizeURL=j,this.removeEmptyString=q}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){R[n]=new P(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];R[s]=new P(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){R[n]=new P(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){R[n]=new P(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){R[n]=new P(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){R[n]=new P(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){R[n]=new P(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){R[n]=new P(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){R[n]=new P(n,5,!1,n.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function M(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(L,M);R[s]=new P(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(L,M);R[s]=new P(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(L,M);R[s]=new P(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){R[n]=new P(n,1,!1,n.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){R[n]=new P(n,1,!1,n.toLowerCase(),null,!0,!0)});function H(n,s,u,p){var k=R.hasOwnProperty(s)?R[s]:null;(k!==null?k.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,u,k,p)&&(u=null),p||k===null?N(s)&&(u===null?n.removeAttribute(s):n.setAttribute(s,""+u)):k.mustUseProperty?n[k.propertyName]=u===null?k.type===3?!1:"":u:(s=k.attributeName,p=k.attributeNamespace,u===null?n.removeAttribute(s):(k=k.type,u=k===3||k===4&&u===!0?"":""+u,p?n.setAttributeNS(p,s,u):n.setAttribute(s,u))))}var oe=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),Re=Symbol.for("react.provider"),V=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),te=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var be=Object.assign,se;function I(n){if(se===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);se=s&&s[1]||""}return`
`+se+n}var $=!1;function X(n,s){if(!n||$)return"";$=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Ge){var p=Ge}Reflect.construct(n,[],s)}else{try{s.call()}catch(Ge){p=Ge}n.call(s.prototype)}else{try{throw Error()}catch(Ge){p=Ge}n()}}catch(Ge){if(Ge&&p&&typeof Ge.stack=="string"){for(var k=Ge.stack.split(`
`),j=p.stack.split(`
`),q=k.length-1,ue=j.length-1;1<=q&&0<=ue&&k[q]!==j[ue];)ue--;for(;1<=q&&0<=ue;q--,ue--)if(k[q]!==j[ue]){if(q!==1||ue!==1)do if(q--,ue--,0>ue||k[q]!==j[ue]){var Se=`
`+k[q].replace(" at new "," at ");return n.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",n.displayName)),Se}while(1<=q&&0<=ue);break}}}finally{$=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?I(n):""}function ie(n){switch(n.tag){case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return n=X(n.type,!1),n;case 11:return n=X(n.type.render,!1),n;case 1:return n=X(n.type,!0),n;default:return""}}function de(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ce:return"Fragment";case Ee:return"Portal";case he:return"Profiler";case G:return"StrictMode";case fe:return"Suspense";case re:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case Re:return(n._context.displayName||"Context")+".Provider";case Y:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case qe:return s=n.displayName||null,s!==null?s:de(n.type)||"Memo";case Be:s=n._payload,n=n._init;try{return de(n(s))}catch{}}return null}function xe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(s);case 8:return s===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Oe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ge(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rt(n){var s=ge(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),p=""+n[s];if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var k=u.get,j=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return k.call(this)},set:function(q){p=""+q,j.call(this,q)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(q){p=""+q},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function st(n){n._valueTracker||(n._valueTracker=rt(n))}function it(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return n&&(p=ge(n)?n.checked?"true":"false":n.value),n=p,n!==u?(s.setValue(n),!0):!1}function bt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function qt(n,s){var u=s.checked;return be({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function Je(n,s){var u=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;u=Oe(s.value!=null?s.value:u),n._wrapperState={initialChecked:p,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ae(n,s){s=s.checked,s!=null&&H(n,"checked",s,!1)}function Xt(n,s){ae(n,s);var u=Oe(s.value),p=s.type;if(u!=null)p==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?ot(n,s.type,u):s.hasOwnProperty("defaultValue")&&ot(n,s.type,Oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Tt(n,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,u||s===n.value||(n.value=s),n.defaultValue=s}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function ot(n,s,u){(s!=="number"||bt(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var pt=Array.isArray;function vt(n,s,u,p){if(n=n.options,s){s={};for(var k=0;k<u.length;k++)s["$"+u[k]]=!0;for(u=0;u<n.length;u++)k=s.hasOwnProperty("$"+n[u].value),n[u].selected!==k&&(n[u].selected=k),k&&p&&(n[u].defaultSelected=!0)}else{for(u=""+Oe(u),s=null,k=0;k<n.length;k++){if(n[k].value===u){n[k].selected=!0,p&&(n[k].defaultSelected=!0);return}s!==null||n[k].disabled||(s=n[k])}s!==null&&(s.selected=!0)}}function St(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return be({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Rt(n,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(r(92));if(pt(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),u=s}n._wrapperState={initialValue:Oe(u)}}function Yt(n,s){var u=Oe(s.value),p=Oe(s.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),s.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),p!=null&&(n.defaultValue=""+p)}function Qt(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function nr(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zt(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?nr(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var wr,zt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,p,k){MSApp.execUnsafeLocalFunction(function(){return n(s,u,p,k)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(wr=wr||document.createElement("div"),wr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=wr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function sr(n,s){if(s){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=s;return}}n.textContent=s}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xr=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(n){Xr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),wt[s]=wt[n]})});function kr(n,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||wt.hasOwnProperty(n)&&wt[n]?(""+s).trim():s+"px"}function ei(n,s){n=n.style;for(var u in s)if(s.hasOwnProperty(u)){var p=u.indexOf("--")===0,k=kr(u,s[u],p);u==="float"&&(u="cssFloat"),p?n.setProperty(u,k):n[u]=k}}var Sr=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(n,s){if(s){if(Sr[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function On(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mr=null;function mi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dt=null,An=null,Er=null;function xr(n){if(n=fl(n)){if(typeof dt!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Hl(s),dt(n.stateNode,n.type,s))}}function Ft(n){An?Er?Er.push(n):Er=[n]:An=n}function pr(){if(An){var n=An,s=Er;if(Er=An=null,xr(n),s)for(n=0;n<s.length;n++)xr(s[n])}}function bn(n,s){return n(s)}function Cr(){}var qr=!1;function sn(n,s,u){if(qr)return n(s,u);qr=!0;try{return bn(n,s,u)}finally{qr=!1,(An!==null||Er!==null)&&(Cr(),pr())}}function Ct(n,s){var u=n.stateNode;if(u===null)return null;var p=Hl(u);if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Qr=!1;if(c)try{var er={};Object.defineProperty(er,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Qr=!1}function vr(n,s,u,p,k,j,q,ue,Se){var Ge=Array.prototype.slice.call(arguments,3);try{s.apply(u,Ge)}catch(ft){this.onError(ft)}}var Mr=!1,Pr=null,Ur=!1,qn=null,Pi={onError:function(n){Mr=!0,Pr=n}};function Tn(n,s,u,p,k,j,q,ue,Se){Mr=!1,Pr=null,vr.apply(Pi,arguments)}function ti(n,s,u,p,k,j,q,ue,Se){if(Tn.apply(this,arguments),Mr){if(Mr){var Ge=Pr;Mr=!1,Pr=null}else throw Error(r(198));Ur||(Ur=!0,qn=Ge)}}function tn(n){var s=n,u=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(u=s.return),n=s.return;while(n)}return s.tag===3?u:null}function vi(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Li(n){if(tn(n)!==n)throw Error(r(188))}function Un(n){var s=n.alternate;if(!s){if(s=tn(n),s===null)throw Error(r(188));return s!==n?null:n}for(var u=n,p=s;;){var k=u.return;if(k===null)break;var j=k.alternate;if(j===null){if(p=k.return,p!==null){u=p;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===u)return Li(k),n;if(j===p)return Li(k),s;j=j.sibling}throw Error(r(188))}if(u.return!==p.return)u=k,p=j;else{for(var q=!1,ue=k.child;ue;){if(ue===u){q=!0,u=k,p=j;break}if(ue===p){q=!0,p=k,u=j;break}ue=ue.sibling}if(!q){for(ue=j.child;ue;){if(ue===u){q=!0,u=j,p=k;break}if(ue===p){q=!0,p=j,u=k;break}ue=ue.sibling}if(!q)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:s}function Hs(n){return n=Un(n),n!==null?Ii(n):null}function Ii(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ii(n);if(s!==null)return s;n=n.sibling}return null}var ha=e.unstable_scheduleCallback,Ks=e.unstable_cancelCallback,Gr=e.unstable_shouldYield,js=e.unstable_requestPaint,Or=e.unstable_now,ol=e.unstable_getCurrentPriorityLevel,Oi=e.unstable_ImmediatePriority,fa=e.unstable_UserBlockingPriority,pa=e.unstable_NormalPriority,Ta=e.unstable_LowPriority,Es=e.unstable_IdlePriority,ga=null,li=null;function Ra(n){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(ga,n,void 0,(n.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:Do,fn=Math.log,Ro=Math.LN2;function Do(n){return n>>>=0,n===0?32:31-(fn(n)/Ro|0)|0}var Tr=64,zi=4194304;function us(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Cn(n,s){var u=n.pendingLanes;if(u===0)return 0;var p=0,k=n.suspendedLanes,j=n.pingedLanes,q=u&268435455;if(q!==0){var ue=q&~k;ue!==0?p=us(ue):(j&=q,j!==0&&(p=us(j)))}else q=u&~k,q!==0?p=us(q):j!==0&&(p=us(j));if(p===0)return 0;if(s!==0&&s!==p&&(s&k)===0&&(k=p&-p,j=s&-s,k>=j||k===16&&(j&4194240)!==0))return s;if((p&4)!==0&&(p|=u&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=p;0<s;)u=31-ir(s),k=1<<u,p|=n[u],s&=~k;return p}function ma(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(n,s){for(var u=n.suspendedLanes,p=n.pingedLanes,k=n.expirationTimes,j=n.pendingLanes;0<j;){var q=31-ir(j),ue=1<<q,Se=k[q];Se===-1?((ue&u)===0||(ue&p)!==0)&&(k[q]=ma(ue,s)):Se<=s&&(n.expiredLanes|=ue),j&=~ue}}function Cs(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function po(){var n=Tr;return Tr<<=1,(Tr&4194240)===0&&(Tr=64),n}function va(n){for(var s=[],u=0;31>u;u++)s.push(n);return s}function Gs(n,s,u){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-ir(s),n[s]=u}function Da(n,s){var u=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<u;){var k=31-ir(u),j=1<<k;s[k]=0,p[k]=-1,n[k]=-1,u&=~j}}function Fa(n,s){var u=n.entangledLanes|=s;for(n=n.entanglements;u;){var p=31-ir(u),k=1<<p;k&s|n[p]&s&&(n[p]|=s),u&=~k}}var Rr=0;function Nr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var go,Fo,ll,pn,$i,cs=!1,yi=[],rn=null,ds=null,zr=null,$t=new Map,hs=new Map,wi=[],Vi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wi(n,s){switch(n){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":$t.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(s.pointerId)}}function ya(n,s,u,p,k,j){return n===null||n.nativeEvent!==j?(n={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:j,targetContainers:[k]},s!==null&&(s=fl(s),s!==null&&Fo(s)),n):(n.eventSystemFlags|=p,s=n.targetContainers,k!==null&&s.indexOf(k)===-1&&s.push(k),n)}function ui(n,s,u,p,k){switch(s){case"focusin":return rn=ya(rn,n,s,u,p,k),!0;case"dragenter":return ds=ya(ds,n,s,u,p,k),!0;case"mouseover":return zr=ya(zr,n,s,u,p,k),!0;case"pointerover":var j=k.pointerId;return $t.set(j,ya($t.get(j)||null,n,s,u,p,k)),!0;case"gotpointercapture":return j=k.pointerId,hs.set(j,ya(hs.get(j)||null,n,s,u,p,k)),!0}return!1}function wa(n){var s=So(n.target);if(s!==null){var u=tn(s);if(u!==null){if(s=u.tag,s===13){if(s=vi(u),s!==null){n.blockedOn=s,$i(n.priority,function(){ll(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ma(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var u=ba(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var p=new u.constructor(u.type,u);mr=p,u.target.dispatchEvent(p),mr=null}else return s=fl(u),s!==null&&Fo(s),n.blockedOn=u,!1;s.shift()}return!0}function mo(n,s,u){Ma(n)&&u.delete(s)}function Ba(){cs=!1,rn!==null&&Ma(rn)&&(rn=null),ds!==null&&Ma(ds)&&(ds=null),zr!==null&&Ma(zr)&&(zr=null),$t.forEach(mo),hs.forEach(mo)}function fs(n,s){n.blockedOn===s&&(n.blockedOn=null,cs||(cs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ba)))}function Hi(n){function s(k){return fs(k,n)}if(0<yi.length){fs(yi[0],n);for(var u=1;u<yi.length;u++){var p=yi[u];p.blockedOn===n&&(p.blockedOn=null)}}for(rn!==null&&fs(rn,n),ds!==null&&fs(ds,n),zr!==null&&fs(zr,n),$t.forEach(s),hs.forEach(s),u=0;u<wi.length;u++)p=wi[u],p.blockedOn===n&&(p.blockedOn=null);for(;0<wi.length&&(u=wi[0],u.blockedOn===null);)wa(u),u.blockedOn===null&&wi.shift()}var Ti=oe.ReactCurrentBatchConfig,Ps=!0;function qa(n,s,u,p){var k=Rr,j=Ti.transition;Ti.transition=null;try{Rr=1,ps(n,s,u,p)}finally{Rr=k,Ti.transition=j}}function Mo(n,s,u,p){var k=Rr,j=Ti.transition;Ti.transition=null;try{Rr=4,ps(n,s,u,p)}finally{Rr=k,Ti.transition=j}}function ps(n,s,u,p){if(Ps){var k=ba(n,s,u,p);if(k===null)$l(n,s,p,Ls,u),Wi(n,p);else if(ui(k,n,s,u,p))p.stopPropagation();else if(Wi(n,p),s&4&&-1<Vi.indexOf(n)){for(;k!==null;){var j=fl(k);if(j!==null&&go(j),j=ba(n,s,u,p),j===null&&$l(n,s,p,Ls,u),j===k)break;k=j}k!==null&&p.stopPropagation()}else $l(n,s,p,null,u)}}var Ls=null;function ba(n,s,u,p){if(Ls=null,n=mi(p),n=So(n),n!==null)if(s=tn(n),s===null)n=null;else if(u=s.tag,u===13){if(n=vi(s),n!==null)return n;n=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ls=n,null}function Bo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ol()){case Oi:return 1;case fa:return 4;case pa:case Ta:return 16;case Es:return 536870912;default:return 16}default:return 16}}var gs=null,Ki=null,bi=null;function vo(){if(bi)return bi;var n,s=Ki,u=s.length,p,k="value"in gs?gs.value:gs.textContent,j=k.length;for(n=0;n<u&&s[n]===k[n];n++);var q=u-n;for(p=1;p<=q&&s[u-p]===k[j-p];p++);return bi=k.slice(n,1<p?1-p:void 0)}function Gi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function zn(){return!0}function Js(){return!1}function gn(n){function s(u,p,k,j,q){this._reactName=u,this._targetInst=k,this.type=p,this.nativeEvent=j,this.target=q,this.currentTarget=null;for(var ue in n)n.hasOwnProperty(ue)&&(u=n[ue],this[ue]=u?u(j):j[ue]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?zn:Js,this.isPropagationStopped=Js,this}return be(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),s}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=gn(Ys),Is=be({},Ys,{view:0,detail:0}),Ua=gn(Is),Xs,_a,Ji,an=be({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Et,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ji&&(Ji&&n.type==="mousemove"?(Xs=n.screenX-Ji.screenX,_a=n.screenY-Ji.screenY):_a=Xs=0,Ji=n),Xs)},movementY:function(n){return"movementY"in n?n.movementY:_a}}),Os=gn(an),ka=be({},an,{dataTransfer:0}),ul=gn(ka),Qs=be({},Is,{relatedTarget:0}),Ts=gn(Qs),yo=be({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),ms=gn(yo),za=be({},Ys,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),x=gn(za),F=be({},Ys,{data:0}),ee=gn(F),ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Me={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function at(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Qe[n])?!!s[n]:!1}function Et(){return at}var Vt=be({},Is,{key:function(n){if(n.key){var s=ve[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Me[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Et,charCode:function(n){return n.type==="keypress"?Gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hr=gn(Vt),ar=be({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=gn(ar),on=be({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Et}),ln=gn(on),jn=be({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),$n=gn(jn),Pn=be({},an,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),vs=gn(Pn),xi=[9,13,27,32],_i=c&&"CompositionEvent"in window,Zs=null;c&&"documentMode"in document&&(Zs=document.documentMode);var wo=c&&"TextEvent"in window&&!Zs,bo=c&&(!_i||Zs&&8<Zs&&11>=Zs),$a=" ",xo=!1;function ea(n,s){switch(n){case"keyup":return xi.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ci(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gr=!1;function ta(n,s){switch(n){case"compositionend":return ci(s);case"keypress":return s.which!==32?null:(xo=!0,$a);case"textInput":return n=s.data,n===$a&&xo?null:n;default:return null}}function Vn(n,s){if(gr)return n==="compositionend"||!_i&&ea(n,s)?(n=vo(),bi=Ki=gs=null,gr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bo&&s.locale!=="ko"?null:s.data;default:return null}}var _o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!_o[n.type]:s==="textarea"}function ni(n,s,u,p){Ft(p),s=gu(s,"onChange"),0<s.length&&(u=new xa("onChange","change",null,u,p),n.push({event:u,listeners:s}))}var Ri=null,ys=null;function ra(n){Ul(n,0)}function mn(n){var s=$o(n);if(it(s))return n}function Va(n,s){if(n==="change")return s}var f=!1;if(c){var y;if(c){var A="oninput"in document;if(!A){var C=document.createElement("div");C.setAttribute("oninput","return;"),A=typeof C.oninput=="function"}y=A}else y=!1;f=y&&(!document.documentMode||9<document.documentMode)}function T(){Ri&&(Ri.detachEvent("onpropertychange",U),ys=Ri=null)}function U(n){if(n.propertyName==="value"&&mn(ys)){var s=[];ni(s,ys,n,mi(n)),sn(ra,s)}}function Z(n,s,u){n==="focusin"?(T(),Ri=s,ys=u,Ri.attachEvent("onpropertychange",U)):n==="focusout"&&T()}function le(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mn(ys)}function ke(n,s){if(n==="click")return mn(s)}function je(n,s){if(n==="input"||n==="change")return mn(s)}function Ie(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ne=typeof Object.is=="function"?Object.is:Ie;function De(n,s){if(ne(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var u=Object.keys(n),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var k=u[p];if(!h.call(s,k)||!ne(n[k],s[k]))return!1}return!0}function we(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ce(n,s){var u=we(n);n=0;for(var p;u;){if(u.nodeType===3){if(p=n+u.textContent.length,n<=s&&p>=s)return{node:u,offset:s-n};n=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=we(u)}}function Fe(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Fe(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Pe(){for(var n=window,s=bt();s instanceof n.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)n=s.contentWindow;else break;s=bt(n.document)}return s}function Ve(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function He(n){var s=Pe(),u=n.focusedElem,p=n.selectionRange;if(s!==u&&u&&u.ownerDocument&&Fe(u.ownerDocument.documentElement,u)){if(p!==null&&Ve(u)){if(s=p.start,n=p.end,n===void 0&&(n=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(n,u.value.length);else if(n=(s=u.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var k=u.textContent.length,j=Math.min(p.start,k);p=p.end===void 0?j:Math.min(p.end,k),!n.extend&&j>p&&(k=p,p=j,j=k),k=Ce(u,j);var q=Ce(u,p);k&&q&&(n.rangeCount!==1||n.anchorNode!==k.node||n.anchorOffset!==k.offset||n.focusNode!==q.node||n.focusOffset!==q.offset)&&(s=s.createRange(),s.setStart(k.node,k.offset),n.removeAllRanges(),j>p?(n.addRange(s),n.extend(q.node,q.offset)):(s.setEnd(q.node,q.offset),n.addRange(s)))}}for(s=[],n=u;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)n=s[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ke=c&&"documentMode"in document&&11>=document.documentMode,Xe=null,lt=null,yt=null,ut=!1;function gt(n,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ut||Xe==null||Xe!==bt(p)||(p=Xe,"selectionStart"in p&&Ve(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),yt&&De(yt,p)||(yt=p,p=gu(lt,"onSelect"),0<p.length&&(s=new xa("onSelect","select",null,s,u),n.push({event:s,listeners:p}),s.target=Xe)))}function kt(n,s){var u={};return u[n.toLowerCase()]=s.toLowerCase(),u["Webkit"+n]="webkit"+s,u["Moz"+n]="moz"+s,u}var ht={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Nt={},Lt={};c&&(Lt=document.createElement("div").style,"AnimationEvent"in window||(delete ht.animationend.animation,delete ht.animationiteration.animation,delete ht.animationstart.animation),"TransitionEvent"in window||delete ht.transitionend.transition);function It(n){if(Nt[n])return Nt[n];if(!ht[n])return n;var s=ht[n],u;for(u in s)if(s.hasOwnProperty(u)&&u in Lt)return Nt[n]=s[u];return n}var Ut=It("animationend"),Lr=It("animationiteration"),Gt=It("animationstart"),xn=It("transitionend"),vn=new Map,Na="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(n,s){vn.set(n,s),a(s,[n])}for(var Yi=0;Yi<Na.length;Yi++){var Wn=Na[Yi],Rs=Wn.toLowerCase(),fu=Wn[0].toUpperCase()+Wn.slice(1);nn(Rs,"on"+fu)}nn(Ut,"onAnimationEnd"),nn(Lr,"onAnimationIteration"),nn(Gt,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(xn,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),od=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function ql(n,s,u){var p=n.type||"unknown-event";n.currentTarget=u,ti(p,s,void 0,n),n.currentTarget=null}function Ul(n,s){s=(s&4)!==0;for(var u=0;u<n.length;u++){var p=n[u],k=p.event;p=p.listeners;e:{var j=void 0;if(s)for(var q=p.length-1;0<=q;q--){var ue=p[q],Se=ue.instance,Ge=ue.currentTarget;if(ue=ue.listener,Se!==j&&k.isPropagationStopped())break e;ql(k,ue,Ge),j=Se}else for(q=0;q<p.length;q++){if(ue=p[q],Se=ue.instance,Ge=ue.currentTarget,ue=ue.listener,Se!==j&&k.isPropagationStopped())break e;ql(k,ue,Ge),j=Se}}}if(Ur)throw n=qn,Ur=!1,qn=null,n}function Zr(n,s){var u=s[Qi];u===void 0&&(u=s[Qi]=new Set);var p=n+"__bubble";u.has(p)||(zl(s,n,2,!1),u.add(p))}function pu(n,s,u){var p=0;s&&(p|=4),zl(u,n,p,s)}var cl="_reactListening"+Math.random().toString(36).slice(2);function qo(n){if(!n[cl]){n[cl]=!0,i.forEach(function(u){u!=="selectionchange"&&(od.has(u)||pu(u,!1,n),pu(u,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[cl]||(s[cl]=!0,pu("selectionchange",!1,s))}}function zl(n,s,u,p){switch(Bo(s)){case 1:var k=qa;break;case 4:k=Mo;break;default:k=ps}u=k.bind(null,s,u,n),k=void 0,!Qr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(k=!0),p?k!==void 0?n.addEventListener(s,u,{capture:!0,passive:k}):n.addEventListener(s,u,!0):k!==void 0?n.addEventListener(s,u,{passive:k}):n.addEventListener(s,u,!1)}function $l(n,s,u,p,k){var j=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var q=p.tag;if(q===3||q===4){var ue=p.stateNode.containerInfo;if(ue===k||ue.nodeType===8&&ue.parentNode===k)break;if(q===4)for(q=p.return;q!==null;){var Se=q.tag;if((Se===3||Se===4)&&(Se=q.stateNode.containerInfo,Se===k||Se.nodeType===8&&Se.parentNode===k))return;q=q.return}for(;ue!==null;){if(q=So(ue),q===null)return;if(Se=q.tag,Se===5||Se===6){p=j=q;continue e}ue=ue.parentNode}}p=p.return}sn(function(){var Ge=j,ft=mi(u),mt=[];e:{var ct=vn.get(n);if(ct!==void 0){var Ot=xa,Mt=n;switch(n){case"keypress":if(Gi(u)===0)break e;case"keydown":case"keyup":Ot=hr;break;case"focusin":Mt="focus",Ot=Ts;break;case"focusout":Mt="blur",Ot=Ts;break;case"beforeblur":case"afterblur":Ot=Ts;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=Os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=ln;break;case Ut:case Lr:case Gt:Ot=ms;break;case xn:Ot=$n;break;case"scroll":Ot=Ua;break;case"wheel":Ot=vs;break;case"copy":case"cut":case"paste":Ot=x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=Ar}var Wt=(s&4)!==0,Jn=!Wt&&n==="scroll",$e=Wt?ct!==null?ct+"Capture":null:ct;Wt=[];for(var Le=Ge,We;Le!==null;){We=Le;var _t=We.stateNode;if(We.tag===5&&_t!==null&&(We=_t,$e!==null&&(_t=Ct(Le,$e),_t!=null&&Wt.push(Vl(Le,_t,We)))),Jn)break;Le=Le.return}0<Wt.length&&(ct=new Ot(ct,Mt,null,u,ft),mt.push({event:ct,listeners:Wt}))}}if((s&7)===0){e:{if(ct=n==="mouseover"||n==="pointerover",Ot=n==="mouseout"||n==="pointerout",ct&&u!==mr&&(Mt=u.relatedTarget||u.fromElement)&&(So(Mt)||Mt[ki]))break e;if((Ot||ct)&&(ct=ft.window===ft?ft:(ct=ft.ownerDocument)?ct.defaultView||ct.parentWindow:window,Ot?(Mt=u.relatedTarget||u.toElement,Ot=Ge,Mt=Mt?So(Mt):null,Mt!==null&&(Jn=tn(Mt),Mt!==Jn||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(Ot=null,Mt=Ge),Ot!==Mt)){if(Wt=Os,_t="onMouseLeave",$e="onMouseEnter",Le="mouse",(n==="pointerout"||n==="pointerover")&&(Wt=Ar,_t="onPointerLeave",$e="onPointerEnter",Le="pointer"),Jn=Ot==null?ct:$o(Ot),We=Mt==null?ct:$o(Mt),ct=new Wt(_t,Le+"leave",Ot,u,ft),ct.target=Jn,ct.relatedTarget=We,_t=null,So(ft)===Ge&&(Wt=new Wt($e,Le+"enter",Mt,u,ft),Wt.target=We,Wt.relatedTarget=Jn,_t=Wt),Jn=_t,Ot&&Mt)t:{for(Wt=Ot,$e=Mt,Le=0,We=Wt;We;We=Uo(We))Le++;for(We=0,_t=$e;_t;_t=Uo(_t))We++;for(;0<Le-We;)Wt=Uo(Wt),Le--;for(;0<We-Le;)$e=Uo($e),We--;for(;Le--;){if(Wt===$e||$e!==null&&Wt===$e.alternate)break t;Wt=Uo(Wt),$e=Uo($e)}Wt=null}else Wt=null;Ot!==null&&ld(mt,ct,Ot,Wt,!1),Mt!==null&&Jn!==null&&ld(mt,Jn,Mt,Wt,!0)}}e:{if(ct=Ge?$o(Ge):window,Ot=ct.nodeName&&ct.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&ct.type==="file")var Ht=Va;else if(Sa(ct))if(f)Ht=je;else{Ht=le;var tr=Z}else(Ot=ct.nodeName)&&Ot.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(Ht=ke);if(Ht&&(Ht=Ht(n,Ge))){ni(mt,Ht,u,ft);break e}tr&&tr(n,ct,Ge),n==="focusout"&&(tr=ct._wrapperState)&&tr.controlled&&ct.type==="number"&&ot(ct,"number",ct.value)}switch(tr=Ge?$o(Ge):window,n){case"focusin":(Sa(tr)||tr.contentEditable==="true")&&(Xe=tr,lt=Ge,yt=null);break;case"focusout":yt=lt=Xe=null;break;case"mousedown":ut=!0;break;case"contextmenu":case"mouseup":case"dragend":ut=!1,gt(mt,u,ft);break;case"selectionchange":if(Ke)break;case"keydown":case"keyup":gt(mt,u,ft)}var rr;if(_i)e:{switch(n){case"compositionstart":var fr="onCompositionStart";break e;case"compositionend":fr="onCompositionEnd";break e;case"compositionupdate":fr="onCompositionUpdate";break e}fr=void 0}else gr?ea(n,u)&&(fr="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(fr="onCompositionStart");fr&&(bo&&u.locale!=="ko"&&(gr||fr!=="onCompositionStart"?fr==="onCompositionEnd"&&gr&&(rr=vo()):(gs=ft,Ki="value"in gs?gs.value:gs.textContent,gr=!0)),tr=gu(Ge,fr),0<tr.length&&(fr=new ee(fr,n,null,u,ft),mt.push({event:fr,listeners:tr}),rr?fr.data=rr:(rr=ci(u),rr!==null&&(fr.data=rr)))),(rr=wo?ta(n,u):Vn(n,u))&&(Ge=gu(Ge,"onBeforeInput"),0<Ge.length&&(ft=new ee("onBeforeInput","beforeinput",null,u,ft),mt.push({event:ft,listeners:Ge}),ft.data=rr))}Ul(mt,s)})}function Vl(n,s,u){return{instance:n,listener:s,currentTarget:u}}function gu(n,s){for(var u=s+"Capture",p=[];n!==null;){var k=n,j=k.stateNode;k.tag===5&&j!==null&&(k=j,j=Ct(n,u),j!=null&&p.unshift(Vl(n,j,k)),j=Ct(n,s),j!=null&&p.push(Vl(n,j,k))),n=n.return}return p}function Uo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ld(n,s,u,p,k){for(var j=s._reactName,q=[];u!==null&&u!==p;){var ue=u,Se=ue.alternate,Ge=ue.stateNode;if(Se!==null&&Se===p)break;ue.tag===5&&Ge!==null&&(ue=Ge,k?(Se=Ct(u,j),Se!=null&&q.unshift(Vl(u,Se,ue))):k||(Se=Ct(u,j),Se!=null&&q.push(Vl(u,Se,ue)))),u=u.return}q.length!==0&&n.push({event:s,listeners:q})}var Hh=/\r\n?/g,Kh=/\u0000|\uFFFD/g;function ud(n){return(typeof n=="string"?n:""+n).replace(Hh,`
`).replace(Kh,"")}function mu(n,s,u){if(s=ud(s),ud(n)!==s&&u)throw Error(r(425))}function dl(){}var Wl=null,zo=null;function ac(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,cd=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,Gh=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(n){return dd.resolve(null).then(n).catch(Jh)}:oc;function Jh(n){setTimeout(function(){throw n})}function lc(n,s){var u=s,p=0;do{var k=u.nextSibling;if(n.removeChild(u),k&&k.nodeType===8)if(u=k.data,u==="/$"){if(p===0){n.removeChild(k),Hi(s);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=k}while(u);Hi(s)}function Di(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Ds(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return n;s--}else u==="/$"&&s++}n=n.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Aa="__reactFiber$"+Xi,hl="__reactProps$"+Xi,ki="__reactContainer$"+Xi,Qi="__reactEvents$"+Xi,Yh="__reactListeners$"+Xi,Xh="__reactHandles$"+Xi;function So(n){var s=n[Aa];if(s)return s;for(var u=n.parentNode;u;){if(s=u[ki]||u[Aa]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(n=Ds(n);n!==null;){if(u=n[Aa])return u;n=Ds(n)}return s}n=u,u=n.parentNode}return null}function fl(n){return n=n[Aa]||n[ki],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $o(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Hl(n){return n[hl]||null}var uc=[],Wa=-1;function na(n){return{current:n}}function Hr(n){0>Wa||(n.current=uc[Wa],uc[Wa]=null,Wa--)}function Jr(n,s){Wa++,uc[Wa]=n.current,n.current=s}var No={},di=na(No),Zi=na(!1),Vo=No;function pl(n,s){var u=n.type.contextTypes;if(!u)return No;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var k={},j;for(j in u)k[j]=s[j];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=k),k}function es(n){return n=n.childContextTypes,n!=null}function vu(){Hr(Zi),Hr(di)}function hd(n,s,u){if(di.current!==No)throw Error(r(168));Jr(di,s),Jr(Zi,u)}function cc(n,s,u){var p=n.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var k in p)if(!(k in s))throw Error(r(108,xe(n)||"Unknown",k));return be({},u,p)}function Wo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||No,Vo=di.current,Jr(di,n),Jr(Zi,Zi.current),!0}function fd(n,s,u){var p=n.stateNode;if(!p)throw Error(r(169));u?(n=cc(n,s,Vo),p.__reactInternalMemoizedMergedChildContext=n,Hr(Zi),Hr(di),Jr(di,n)):Hr(Zi),Jr(Zi,u)}var Ha=null,Kl=!1,d=!1;function m(n){Ha===null?Ha=[n]:Ha.push(n)}function S(n){Kl=!0,m(n)}function E(){if(!d&&Ha!==null){d=!0;var n=0,s=Rr;try{var u=Ha;for(Rr=1;n<u.length;n++){var p=u[n];do p=p(!0);while(p!==null)}Ha=null,Kl=!1}catch(k){throw Ha!==null&&(Ha=Ha.slice(n+1)),ha(Oi,E),k}finally{Rr=s,d=!1}}return null}var D=[],B=0,z=null,W=0,K=[],Q=0,_e=null,Ue=1,ze="";function Te(n,s){D[B++]=W,D[B++]=z,z=n,W=s}function nt(n,s,u){K[Q++]=Ue,K[Q++]=ze,K[Q++]=_e,_e=n;var p=Ue;n=ze;var k=32-ir(p)-1;p&=~(1<<k),u+=1;var j=32-ir(s)+k;if(30<j){var q=k-k%5;j=(p&(1<<q)-1).toString(32),p>>=q,k-=q,Ue=1<<32-ir(s)+k|u<<k|p,ze=j+n}else Ue=1<<j|u<<k|p,ze=n}function Ye(n){n.return!==null&&(Te(n,1),nt(n,1,0))}function Ne(n){for(;n===z;)z=D[--B],D[B]=null,W=D[--B],D[B]=null;for(;n===_e;)_e=K[--Q],K[Q]=null,ze=K[--Q],K[Q]=null,Ue=K[--Q],K[Q]=null}var Ae=null,et=null,Ze=!1,tt=null;function Pt(n,s){var u=Ia(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=n,s=n.deletions,s===null?(n.deletions=[u],n.flags|=16):s.push(u)}function At(n,s){switch(n.tag){case 5:var u=n.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Ae=n,et=Di(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Ae=n,et=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=_e!==null?{id:Ue,overflow:ze}:null,n.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Ia(18,null,null,0),u.stateNode=s,u.return=n,n.child=u,Ae=n,et=null,!0):!1;default:return!1}}function Jt(n){return(n.mode&1)!==0&&(n.flags&128)===0}function jt(n){if(Ze){var s=et;if(s){var u=s;if(!At(n,s)){if(Jt(n))throw Error(r(418));s=Di(u.nextSibling);var p=Ae;s&&At(n,s)?Pt(p,u):(n.flags=n.flags&-4097|2,Ze=!1,Ae=n)}}else{if(Jt(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ze=!1,Ae=n}}}function Dr(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ae=n}function Fr(n){if(n!==Ae)return!1;if(!Ze)return Dr(n),Ze=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!ac(n.type,n.memoizedProps)),s&&(s=et)){if(Jt(n))throw Ir(),Error(r(418));for(;s;)Pt(n,s),s=Di(s.nextSibling)}if(Dr(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(s===0){et=Di(n.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}n=n.nextSibling}et=null}}else et=Ae?Di(n.stateNode.nextSibling):null;return!0}function Ir(){for(var n=et;n;)n=Di(n.nextSibling)}function _r(){et=Ae=null,Ze=!1}function Kr(n){tt===null?tt=[n]:tt.push(n)}var Yr=oe.ReactCurrentBatchConfig;function dr(n,s,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var p=u.stateNode}if(!p)throw Error(r(147,n));var k=p,j=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===j?s.ref:(s=function(q){var ue=k.refs;q===null?delete ue[j]:ue[j]=q},s._stringRef=j,s)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function _n(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Fi(n){var s=n._init;return s(n._payload)}function Ln(n){function s($e,Le){if(n){var We=$e.deletions;We===null?($e.deletions=[Le],$e.flags|=16):We.push(Le)}}function u($e,Le){if(!n)return null;for(;Le!==null;)s($e,Le),Le=Le.sibling;return null}function p($e,Le){for($e=new Map;Le!==null;)Le.key!==null?$e.set(Le.key,Le):$e.set(Le.index,Le),Le=Le.sibling;return $e}function k($e,Le){return $e=Al($e,Le),$e.index=0,$e.sibling=null,$e}function j($e,Le,We){return $e.index=We,n?(We=$e.alternate,We!==null?(We=We.index,We<Le?($e.flags|=2,Le):We):($e.flags|=2,Le)):($e.flags|=1048576,Le)}function q($e){return n&&$e.alternate===null&&($e.flags|=2),$e}function ue($e,Le,We,_t){return Le===null||Le.tag!==6?(Le=jf(We,$e.mode,_t),Le.return=$e,Le):(Le=k(Le,We),Le.return=$e,Le)}function Se($e,Le,We,_t){var Ht=We.type;return Ht===ce?ft($e,Le,We.props.children,_t,We.key):Le!==null&&(Le.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Be&&Fi(Ht)===Le.type)?(_t=k(Le,We.props),_t.ref=dr($e,Le,We),_t.return=$e,_t):(_t=Od(We.type,We.key,We.props,null,$e.mode,_t),_t.ref=dr($e,Le,We),_t.return=$e,_t)}function Ge($e,Le,We,_t){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==We.containerInfo||Le.stateNode.implementation!==We.implementation?(Le=Ef(We,$e.mode,_t),Le.return=$e,Le):(Le=k(Le,We.children||[]),Le.return=$e,Le)}function ft($e,Le,We,_t,Ht){return Le===null||Le.tag!==7?(Le=tu(We,$e.mode,_t,Ht),Le.return=$e,Le):(Le=k(Le,We),Le.return=$e,Le)}function mt($e,Le,We){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Le=jf(""+Le,$e.mode,We),Le.return=$e,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case pe:return We=Od(Le.type,Le.key,Le.props,null,$e.mode,We),We.ref=dr($e,null,Le),We.return=$e,We;case Ee:return Le=Ef(Le,$e.mode,We),Le.return=$e,Le;case Be:var _t=Le._init;return mt($e,_t(Le._payload),We)}if(pt(Le)||ye(Le))return Le=tu(Le,$e.mode,We,null),Le.return=$e,Le;_n($e,Le)}return null}function ct($e,Le,We,_t){var Ht=Le!==null?Le.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Ht!==null?null:ue($e,Le,""+We,_t);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case pe:return We.key===Ht?Se($e,Le,We,_t):null;case Ee:return We.key===Ht?Ge($e,Le,We,_t):null;case Be:return Ht=We._init,ct($e,Le,Ht(We._payload),_t)}if(pt(We)||ye(We))return Ht!==null?null:ft($e,Le,We,_t,null);_n($e,We)}return null}function Ot($e,Le,We,_t,Ht){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return $e=$e.get(We)||null,ue(Le,$e,""+_t,Ht);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case pe:return $e=$e.get(_t.key===null?We:_t.key)||null,Se(Le,$e,_t,Ht);case Ee:return $e=$e.get(_t.key===null?We:_t.key)||null,Ge(Le,$e,_t,Ht);case Be:var tr=_t._init;return Ot($e,Le,We,tr(_t._payload),Ht)}if(pt(_t)||ye(_t))return $e=$e.get(We)||null,ft(Le,$e,_t,Ht,null);_n(Le,_t)}return null}function Mt($e,Le,We,_t){for(var Ht=null,tr=null,rr=Le,fr=Le=0,ji=null;rr!==null&&fr<We.length;fr++){rr.index>fr?(ji=rr,rr=null):ji=rr.sibling;var Wr=ct($e,rr,We[fr],_t);if(Wr===null){rr===null&&(rr=ji);break}n&&rr&&Wr.alternate===null&&s($e,rr),Le=j(Wr,Le,fr),tr===null?Ht=Wr:tr.sibling=Wr,tr=Wr,rr=ji}if(fr===We.length)return u($e,rr),Ze&&Te($e,fr),Ht;if(rr===null){for(;fr<We.length;fr++)rr=mt($e,We[fr],_t),rr!==null&&(Le=j(rr,Le,fr),tr===null?Ht=rr:tr.sibling=rr,tr=rr);return Ze&&Te($e,fr),Ht}for(rr=p($e,rr);fr<We.length;fr++)ji=Ot(rr,$e,fr,We[fr],_t),ji!==null&&(n&&ji.alternate!==null&&rr.delete(ji.key===null?fr:ji.key),Le=j(ji,Le,fr),tr===null?Ht=ji:tr.sibling=ji,tr=ji);return n&&rr.forEach(function(jl){return s($e,jl)}),Ze&&Te($e,fr),Ht}function Wt($e,Le,We,_t){var Ht=ye(We);if(typeof Ht!="function")throw Error(r(150));if(We=Ht.call(We),We==null)throw Error(r(151));for(var tr=Ht=null,rr=Le,fr=Le=0,ji=null,Wr=We.next();rr!==null&&!Wr.done;fr++,Wr=We.next()){rr.index>fr?(ji=rr,rr=null):ji=rr.sibling;var jl=ct($e,rr,Wr.value,_t);if(jl===null){rr===null&&(rr=ji);break}n&&rr&&jl.alternate===null&&s($e,rr),Le=j(jl,Le,fr),tr===null?Ht=jl:tr.sibling=jl,tr=jl,rr=ji}if(Wr.done)return u($e,rr),Ze&&Te($e,fr),Ht;if(rr===null){for(;!Wr.done;fr++,Wr=We.next())Wr=mt($e,Wr.value,_t),Wr!==null&&(Le=j(Wr,Le,fr),tr===null?Ht=Wr:tr.sibling=Wr,tr=Wr);return Ze&&Te($e,fr),Ht}for(rr=p($e,rr);!Wr.done;fr++,Wr=We.next())Wr=Ot(rr,$e,fr,Wr.value,_t),Wr!==null&&(n&&Wr.alternate!==null&&rr.delete(Wr.key===null?fr:Wr.key),Le=j(Wr,Le,fr),tr===null?Ht=Wr:tr.sibling=Wr,tr=Wr);return n&&rr.forEach(function(fy){return s($e,fy)}),Ze&&Te($e,fr),Ht}function Jn($e,Le,We,_t){if(typeof We=="object"&&We!==null&&We.type===ce&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case pe:e:{for(var Ht=We.key,tr=Le;tr!==null;){if(tr.key===Ht){if(Ht=We.type,Ht===ce){if(tr.tag===7){u($e,tr.sibling),Le=k(tr,We.props.children),Le.return=$e,$e=Le;break e}}else if(tr.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Be&&Fi(Ht)===tr.type){u($e,tr.sibling),Le=k(tr,We.props),Le.ref=dr($e,tr,We),Le.return=$e,$e=Le;break e}u($e,tr);break}else s($e,tr);tr=tr.sibling}We.type===ce?(Le=tu(We.props.children,$e.mode,_t,We.key),Le.return=$e,$e=Le):(_t=Od(We.type,We.key,We.props,null,$e.mode,_t),_t.ref=dr($e,Le,We),_t.return=$e,$e=_t)}return q($e);case Ee:e:{for(tr=We.key;Le!==null;){if(Le.key===tr)if(Le.tag===4&&Le.stateNode.containerInfo===We.containerInfo&&Le.stateNode.implementation===We.implementation){u($e,Le.sibling),Le=k(Le,We.children||[]),Le.return=$e,$e=Le;break e}else{u($e,Le);break}else s($e,Le);Le=Le.sibling}Le=Ef(We,$e.mode,_t),Le.return=$e,$e=Le}return q($e);case Be:return tr=We._init,Jn($e,Le,tr(We._payload),_t)}if(pt(We))return Mt($e,Le,We,_t);if(ye(We))return Wt($e,Le,We,_t);_n($e,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Le!==null&&Le.tag===6?(u($e,Le.sibling),Le=k(Le,We),Le.return=$e,$e=Le):(u($e,Le),Le=jf(We,$e.mode,_t),Le.return=$e,$e=Le),q($e)):u($e,Le)}return Jn}var Hn=Ln(!0),$r=Ln(!1),Si=na(null),Ni=null,kn=null,Kn=null;function hi(){Kn=kn=Ni=null}function ts(n){var s=Si.current;Hr(Si),n._currentValue=s}function Fs(n,s,u){for(;n!==null;){var p=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),n===u)break;n=n.return}}function Sn(n,s){Ni=n,Kn=kn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Us=!0),n.firstContext=null)}function Rn(n){var s=n._currentValue;if(Kn!==n)if(n={context:n,memoizedValue:s,next:null},kn===null){if(Ni===null)throw Error(r(308));kn=n,Ni.dependencies={lanes:0,firstContext:n}}else kn=kn.next=n;return s}var ws=null;function Ao(n){ws===null?ws=[n]:ws.push(n)}function Ka(n,s,u,p){var k=s.interleaved;return k===null?(u.next=u,Ao(s)):(u.next=k.next,k.next=u),s.interleaved=u,Vr(n,p)}function Vr(n,s){n.lanes|=s;var u=n.alternate;for(u!==null&&(u.lanes|=s),u=n,n=n.return;n!==null;)n.childLanes|=s,u=n.alternate,u!==null&&(u.childLanes|=s),u=n,n=n.return;return u.tag===3?u.stateNode:null}var ja=!1;function yu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ms(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Bs(n,s,u){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(Br&2)!==0){var k=p.pending;return k===null?s.next=s:(s.next=k.next,k.next=s),p.pending=s,Vr(n,u)}return k=p.interleaved,k===null?(s.next=s,Ao(p)):(s.next=k.next,k.next=s),p.interleaved=s,Vr(n,u)}function Ho(n,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var p=s.lanes;p&=n.pendingLanes,u|=p,s.lanes=u,Fa(n,u)}}function qs(n,s){var u=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var k=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var q={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};j===null?k=j=q:j=j.next=q,u=u.next}while(u!==null);j===null?k=j=s:j=j.next=s}else k=j=s;u={baseState:p.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:p.shared,effects:p.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=s:n.next=s,u.lastBaseUpdate=s}function Ga(n,s,u,p){var k=n.updateQueue;ja=!1;var j=k.firstBaseUpdate,q=k.lastBaseUpdate,ue=k.shared.pending;if(ue!==null){k.shared.pending=null;var Se=ue,Ge=Se.next;Se.next=null,q===null?j=Ge:q.next=Ge,q=Se;var ft=n.alternate;ft!==null&&(ft=ft.updateQueue,ue=ft.lastBaseUpdate,ue!==q&&(ue===null?ft.firstBaseUpdate=Ge:ue.next=Ge,ft.lastBaseUpdate=Se))}if(j!==null){var mt=k.baseState;q=0,ft=Ge=Se=null,ue=j;do{var ct=ue.lane,Ot=ue.eventTime;if((p&ct)===ct){ft!==null&&(ft=ft.next={eventTime:Ot,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var Mt=n,Wt=ue;switch(ct=s,Ot=u,Wt.tag){case 1:if(Mt=Wt.payload,typeof Mt=="function"){mt=Mt.call(Ot,mt,ct);break e}mt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Wt.payload,ct=typeof Mt=="function"?Mt.call(Ot,mt,ct):Mt,ct==null)break e;mt=be({},mt,ct);break e;case 2:ja=!0}}ue.callback!==null&&ue.lane!==0&&(n.flags|=64,ct=k.effects,ct===null?k.effects=[ue]:ct.push(ue))}else Ot={eventTime:Ot,lane:ct,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},ft===null?(Ge=ft=Ot,Se=mt):ft=ft.next=Ot,q|=ct;if(ue=ue.next,ue===null){if(ue=k.shared.pending,ue===null)break;ct=ue,ue=ct.next,ct.next=null,k.lastBaseUpdate=ct,k.shared.pending=null}}while(!0);if(ft===null&&(Se=mt),k.baseState=Se,k.firstBaseUpdate=Ge,k.lastBaseUpdate=ft,s=k.shared.interleaved,s!==null){k=s;do q|=k.lane,k=k.next;while(k!==s)}else j===null&&(k.shared.lanes=0);Xl|=q,n.lanes=q,n.memoizedState=mt}}function Ko(n,s,u){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var p=n[s],k=p.callback;if(k!==null){if(p.callback=null,p=u,typeof k!="function")throw Error(r(191,k));k.call(p)}}}var gl={},bs=na(gl),ml=na(gl),jo=na(gl);function Ja(n){if(n===gl)throw Error(r(174));return n}function vl(n,s){switch(Jr(jo,s),Jr(ml,n),Jr(bs,gl),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Zt(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Zt(s,n)}Hr(bs),Jr(bs,s)}function Ea(){Hr(bs),Hr(ml),Hr(jo)}function pd(n){Ja(jo.current);var s=Ja(bs.current),u=Zt(s,n.type);s!==u&&(Jr(ml,n),Jr(bs,u))}function hc(n){ml.current===n&&(Hr(bs),Hr(ml))}var un=na(0);function ia(n){for(var s=n;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fc=[];function pc(){for(var n=0;n<fc.length;n++)fc[n]._workInProgressVersionPrimary=null;fc.length=0}var wu=oe.ReactCurrentDispatcher,bu=oe.ReactCurrentBatchConfig,Ca=0,yn=null,Dn=null,In=null,yl=!1,Ya=!1,wl=0,Qh=0;function Gn(){throw Error(r(321))}function xu(n,s){if(s===null)return!1;for(var u=0;u<s.length&&u<n.length;u++)if(!ne(n[u],s[u]))return!1;return!0}function Gl(n,s,u,p,k,j){if(Ca=j,yn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,wu.current=n===null||n.memoizedState===null?B1:q1,n=u(p,k),Ya){j=0;do{if(Ya=!1,wl=0,25<=j)throw Error(r(301));j+=1,In=Dn=null,s.updateQueue=null,wu.current=U1,n=u(p,k)}while(Ya)}if(wu.current=wd,s=Dn!==null&&Dn.next!==null,Ca=0,In=Dn=yn=null,yl=!1,s)throw Error(r(300));return n}function Pa(){var n=wl!==0;return wl=0,n}function sa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?yn.memoizedState=In=n:In=In.next=n,In}function xs(){if(Dn===null){var n=yn.alternate;n=n!==null?n.memoizedState:null}else n=Dn.next;var s=In===null?yn.memoizedState:In.next;if(s!==null)In=s,Dn=n;else{if(n===null)throw Error(r(310));Dn=n,n={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},In===null?yn.memoizedState=In=n:In=In.next=n}return In}function Jl(n,s){return typeof s=="function"?s(n):s}function _u(n){var s=xs(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var p=Dn,k=p.baseQueue,j=u.pending;if(j!==null){if(k!==null){var q=k.next;k.next=j.next,j.next=q}p.baseQueue=k=j,u.pending=null}if(k!==null){j=k.next,p=p.baseState;var ue=q=null,Se=null,Ge=j;do{var ft=Ge.lane;if((Ca&ft)===ft)Se!==null&&(Se=Se.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),p=Ge.hasEagerState?Ge.eagerState:n(p,Ge.action);else{var mt={lane:ft,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};Se===null?(ue=Se=mt,q=p):Se=Se.next=mt,yn.lanes|=ft,Xl|=ft}Ge=Ge.next}while(Ge!==null&&Ge!==j);Se===null?q=p:Se.next=ue,ne(p,s.memoizedState)||(Us=!0),s.memoizedState=p,s.baseState=q,s.baseQueue=Se,u.lastRenderedState=p}if(n=u.interleaved,n!==null){k=n;do j=k.lane,yn.lanes|=j,Xl|=j,k=k.next;while(k!==n)}else k===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Eo(n){var s=xs(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var p=u.dispatch,k=u.pending,j=s.memoizedState;if(k!==null){u.pending=null;var q=k=k.next;do j=n(j,q.action),q=q.next;while(q!==k);ne(j,s.memoizedState)||(Us=!0),s.memoizedState=j,s.baseQueue===null&&(s.baseState=j),u.lastRenderedState=j}return[j,p]}function gd(){}function gc(n,s){var u=yn,p=xs(),k=s(),j=!ne(p.memoizedState,k);if(j&&(p.memoizedState=k,Us=!0),p=p.queue,Nu(vd.bind(null,u,p,n),[n]),p.getSnapshot!==s||j||In!==null&&In.memoizedState.tag&1){if(u.flags|=2048,_s(9,mc.bind(null,u,p,k,s),void 0,null),Ai===null)throw Error(r(349));(Ca&30)!==0||md(u,s,k)}return k}function md(n,s,u){n.flags|=16384,n={getSnapshot:s,value:u},s=yn.updateQueue,s===null?(s={lastEffect:null,stores:null},yn.updateQueue=s,s.stores=[n]):(u=s.stores,u===null?s.stores=[n]:u.push(n))}function mc(n,s,u,p){s.value=u,s.getSnapshot=p,bl(s)&&ku(n)}function vd(n,s,u){return u(function(){bl(s)&&ku(n)})}function bl(n){var s=n.getSnapshot;n=n.value;try{var u=s();return!ne(n,u)}catch{return!0}}function ku(n){var s=Vr(n,1);s!==null&&to(s,n,1,-1)}function Yl(n){var s=sa();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:n},s.queue=n,n=n.dispatch=M1.bind(null,yn,n),[s.memoizedState,n]}function _s(n,s,u,p){return n={tag:n,create:s,destroy:u,deps:p,next:null},s=yn.updateQueue,s===null?(s={lastEffect:null,stores:null},yn.updateQueue=s,s.lastEffect=n.next=n):(u=s.lastEffect,u===null?s.lastEffect=n.next=n:(p=u.next,u.next=n,n.next=p,s.lastEffect=n)),n}function Xa(){return xs().memoizedState}function aa(n,s,u,p){var k=sa();yn.flags|=n,k.memoizedState=_s(1|s,u,void 0,p===void 0?null:p)}function Go(n,s,u,p){var k=xs();p=p===void 0?null:p;var j=void 0;if(Dn!==null){var q=Dn.memoizedState;if(j=q.destroy,p!==null&&xu(p,q.deps)){k.memoizedState=_s(s,u,j,p);return}}yn.flags|=n,k.memoizedState=_s(1|s,u,j,p)}function Su(n,s){return aa(8390656,8,n,s)}function Nu(n,s){return Go(2048,8,n,s)}function yd(n,s){return Go(4,2,n,s)}function Au(n,s){return Go(4,4,n,s)}function ju(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function g0(n,s,u){return u=u!=null?u.concat([n]):null,Go(4,4,ju.bind(null,s,n),u)}function Zh(){}function m0(n,s){var u=xs();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&xu(s,p[1])?p[0]:(u.memoizedState=[n,s],n)}function v0(n,s){var u=xs();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&xu(s,p[1])?p[0]:(n=n(),u.memoizedState=[n,s],n)}function y0(n,s,u){return(Ca&21)===0?(n.baseState&&(n.baseState=!1,Us=!0),n.memoizedState=u):(ne(u,s)||(u=po(),yn.lanes|=u,Xl|=u,n.baseState=!0),s)}function D1(n,s){var u=Rr;Rr=u!==0&&4>u?u:4,n(!0);var p=bu.transition;bu.transition={};try{n(!1),s()}finally{Rr=u,bu.transition=p}}function w0(){return xs().memoizedState}function F1(n,s,u){var p=Sl(n);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},b0(n))x0(s,u);else if(u=Ka(n,s,u,p),u!==null){var k=Ss();to(u,n,p,k),_0(u,s,p)}}function M1(n,s,u){var p=Sl(n),k={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(b0(n))x0(s,k);else{var j=n.alternate;if(n.lanes===0&&(j===null||j.lanes===0)&&(j=s.lastRenderedReducer,j!==null))try{var q=s.lastRenderedState,ue=j(q,u);if(k.hasEagerState=!0,k.eagerState=ue,ne(ue,q)){var Se=s.interleaved;Se===null?(k.next=k,Ao(s)):(k.next=Se.next,Se.next=k),s.interleaved=k;return}}catch{}finally{}u=Ka(n,s,k,p),u!==null&&(k=Ss(),to(u,n,p,k),_0(u,s,p))}}function b0(n){var s=n.alternate;return n===yn||s!==null&&s===yn}function x0(n,s){Ya=yl=!0;var u=n.pending;u===null?s.next=s:(s.next=u.next,u.next=s),n.pending=s}function _0(n,s,u){if((u&4194240)!==0){var p=s.lanes;p&=n.pendingLanes,u|=p,s.lanes=u,Fa(n,u)}}var wd={readContext:Rn,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},B1={readContext:Rn,useCallback:function(n,s){return sa().memoizedState=[n,s===void 0?null:s],n},useContext:Rn,useEffect:Su,useImperativeHandle:function(n,s,u){return u=u!=null?u.concat([n]):null,aa(4194308,4,ju.bind(null,s,n),u)},useLayoutEffect:function(n,s){return aa(4194308,4,n,s)},useInsertionEffect:function(n,s){return aa(4,2,n,s)},useMemo:function(n,s){var u=sa();return s=s===void 0?null:s,n=n(),u.memoizedState=[n,s],n},useReducer:function(n,s,u){var p=sa();return s=u!==void 0?u(s):s,p.memoizedState=p.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},p.queue=n,n=n.dispatch=F1.bind(null,yn,n),[p.memoizedState,n]},useRef:function(n){var s=sa();return n={current:n},s.memoizedState=n},useState:Yl,useDebugValue:Zh,useDeferredValue:function(n){return sa().memoizedState=n},useTransition:function(){var n=Yl(!1),s=n[0];return n=D1.bind(null,n[1]),sa().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,u){var p=yn,k=sa();if(Ze){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Ai===null)throw Error(r(349));(Ca&30)!==0||md(p,s,u)}k.memoizedState=u;var j={value:u,getSnapshot:s};return k.queue=j,Su(vd.bind(null,p,j,n),[n]),p.flags|=2048,_s(9,mc.bind(null,p,j,u,s),void 0,null),u},useId:function(){var n=sa(),s=Ai.identifierPrefix;if(Ze){var u=ze,p=Ue;u=(p&~(1<<32-ir(p)-1)).toString(32)+u,s=":"+s+"R"+u,u=wl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Qh++,s=":"+s+"r"+u.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},q1={readContext:Rn,useCallback:m0,useContext:Rn,useEffect:Nu,useImperativeHandle:g0,useInsertionEffect:yd,useLayoutEffect:Au,useMemo:v0,useReducer:_u,useRef:Xa,useState:function(){return _u(Jl)},useDebugValue:Zh,useDeferredValue:function(n){var s=xs();return y0(s,Dn.memoizedState,n)},useTransition:function(){var n=_u(Jl)[0],s=xs().memoizedState;return[n,s]},useMutableSource:gd,useSyncExternalStore:gc,useId:w0,unstable_isNewReconciler:!1},U1={readContext:Rn,useCallback:m0,useContext:Rn,useEffect:Nu,useImperativeHandle:g0,useInsertionEffect:yd,useLayoutEffect:Au,useMemo:v0,useReducer:Eo,useRef:Xa,useState:function(){return Eo(Jl)},useDebugValue:Zh,useDeferredValue:function(n){var s=xs();return Dn===null?s.memoizedState=n:y0(s,Dn.memoizedState,n)},useTransition:function(){var n=Eo(Jl)[0],s=xs().memoizedState;return[n,s]},useMutableSource:gd,useSyncExternalStore:gc,useId:w0,unstable_isNewReconciler:!1};function Qa(n,s){if(n&&n.defaultProps){s=be({},s),n=n.defaultProps;for(var u in n)s[u]===void 0&&(s[u]=n[u]);return s}return s}function ef(n,s,u,p){s=n.memoizedState,u=u(p,s),u=u==null?s:be({},s,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var bd={isMounted:function(n){return(n=n._reactInternals)?tn(n)===n:!1},enqueueSetState:function(n,s,u){n=n._reactInternals;var p=Ss(),k=Sl(n),j=Ms(p,k);j.payload=s,u!=null&&(j.callback=u),s=Bs(n,j,k),s!==null&&(to(s,n,k,p),Ho(s,n,k))},enqueueReplaceState:function(n,s,u){n=n._reactInternals;var p=Ss(),k=Sl(n),j=Ms(p,k);j.tag=1,j.payload=s,u!=null&&(j.callback=u),s=Bs(n,j,k),s!==null&&(to(s,n,k,p),Ho(s,n,k))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var u=Ss(),p=Sl(n),k=Ms(u,p);k.tag=2,s!=null&&(k.callback=s),s=Bs(n,k,p),s!==null&&(to(s,n,p,u),Ho(s,n,p))}};function k0(n,s,u,p,k,j,q){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,j,q):s.prototype&&s.prototype.isPureReactComponent?!De(u,p)||!De(k,j):!0}function S0(n,s,u){var p=!1,k=No,j=s.contextType;return typeof j=="object"&&j!==null?j=Rn(j):(k=es(s)?Vo:di.current,p=s.contextTypes,j=(p=p!=null)?pl(n,k):No),s=new s(u,j),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=bd,n.stateNode=s,s._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=k,n.__reactInternalMemoizedMaskedChildContext=j),s}function N0(n,s,u,p){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==n&&bd.enqueueReplaceState(s,s.state,null)}function tf(n,s,u,p){var k=n.stateNode;k.props=u,k.state=n.memoizedState,k.refs={},yu(n);var j=s.contextType;typeof j=="object"&&j!==null?k.context=Rn(j):(j=es(s)?Vo:di.current,k.context=pl(n,j)),k.state=n.memoizedState,j=s.getDerivedStateFromProps,typeof j=="function"&&(ef(n,s,j,u),k.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(s=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),s!==k.state&&bd.enqueueReplaceState(k,k.state,null),Ga(n,u,k,p),k.state=n.memoizedState),typeof k.componentDidMount=="function"&&(n.flags|=4194308)}function Eu(n,s){try{var u="",p=s;do u+=ie(p),p=p.return;while(p);var k=u}catch(j){k=`
Error generating stack: `+j.message+`
`+j.stack}return{value:n,source:s,stack:k,digest:null}}function rf(n,s,u){return{value:n,source:null,stack:u??null,digest:s??null}}function nf(n,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var z1=typeof WeakMap=="function"?WeakMap:Map;function A0(n,s,u){u=Ms(-1,u),u.tag=3,u.payload={element:null};var p=s.value;return u.callback=function(){jd||(jd=!0,wf=p),nf(n,s)},u}function j0(n,s,u){u=Ms(-1,u),u.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var k=s.value;u.payload=function(){return p(k)},u.callback=function(){nf(n,s)}}var j=n.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(u.callback=function(){nf(n,s),typeof p!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var q=s.stack;this.componentDidCatch(s.value,{componentStack:q!==null?q:""})}),u}function E0(n,s,u){var p=n.pingCache;if(p===null){p=n.pingCache=new z1;var k=new Set;p.set(s,k)}else k=p.get(s),k===void 0&&(k=new Set,p.set(s,k));k.has(u)||(k.add(u),n=ry.bind(null,n,s,u),s.then(n,n))}function C0(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function P0(n,s,u,p,k){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Ms(-1,1),s.tag=2,Bs(u,s,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=k,n)}var $1=oe.ReactCurrentOwner,Us=!1;function ks(n,s,u,p){s.child=n===null?$r(s,null,u,p):Hn(s,n.child,u,p)}function L0(n,s,u,p,k){u=u.render;var j=s.ref;return Sn(s,k),p=Gl(n,s,u,p,j,k),u=Pa(),n!==null&&!Us?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~k,Jo(n,s,k)):(Ze&&u&&Ye(s),s.flags|=1,ks(n,s,p,k),s.child)}function I0(n,s,u,p,k){if(n===null){var j=u.type;return typeof j=="function"&&!Af(j)&&j.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=j,O0(n,s,j,p,k)):(n=Od(u.type,null,p,s,s.mode,k),n.ref=s.ref,n.return=s,s.child=n)}if(j=n.child,(n.lanes&k)===0){var q=j.memoizedProps;if(u=u.compare,u=u!==null?u:De,u(q,p)&&n.ref===s.ref)return Jo(n,s,k)}return s.flags|=1,n=Al(j,p),n.ref=s.ref,n.return=s,s.child=n}function O0(n,s,u,p,k){if(n!==null){var j=n.memoizedProps;if(De(j,p)&&n.ref===s.ref)if(Us=!1,s.pendingProps=p=j,(n.lanes&k)!==0)(n.flags&131072)!==0&&(Us=!0);else return s.lanes=n.lanes,Jo(n,s,k)}return sf(n,s,u,p,k)}function T0(n,s,u){var p=s.pendingProps,k=p.children,j=n!==null?n.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jr(Pu,oa),oa|=u;else{if((u&1073741824)===0)return n=j!==null?j.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Jr(Pu,oa),oa|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=j!==null?j.baseLanes:u,Jr(Pu,oa),oa|=p}else j!==null?(p=j.baseLanes|u,s.memoizedState=null):p=u,Jr(Pu,oa),oa|=p;return ks(n,s,k,u),s.child}function R0(n,s){var u=s.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function sf(n,s,u,p,k){var j=es(u)?Vo:di.current;return j=pl(s,j),Sn(s,k),u=Gl(n,s,u,p,j,k),p=Pa(),n!==null&&!Us?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~k,Jo(n,s,k)):(Ze&&p&&Ye(s),s.flags|=1,ks(n,s,u,k),s.child)}function D0(n,s,u,p,k){if(es(u)){var j=!0;Wo(s)}else j=!1;if(Sn(s,k),s.stateNode===null)_d(n,s),S0(s,u,p),tf(s,u,p,k),p=!0;else if(n===null){var q=s.stateNode,ue=s.memoizedProps;q.props=ue;var Se=q.context,Ge=u.contextType;typeof Ge=="object"&&Ge!==null?Ge=Rn(Ge):(Ge=es(u)?Vo:di.current,Ge=pl(s,Ge));var ft=u.getDerivedStateFromProps,mt=typeof ft=="function"||typeof q.getSnapshotBeforeUpdate=="function";mt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ue!==p||Se!==Ge)&&N0(s,q,p,Ge),ja=!1;var ct=s.memoizedState;q.state=ct,Ga(s,p,q,k),Se=s.memoizedState,ue!==p||ct!==Se||Zi.current||ja?(typeof ft=="function"&&(ef(s,u,ft,p),Se=s.memoizedState),(ue=ja||k0(s,u,ue,p,ct,Se,Ge))?(mt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(s.flags|=4194308)):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Se),q.props=p,q.state=Se,q.context=Ge,p=ue):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{q=s.stateNode,dc(n,s),ue=s.memoizedProps,Ge=s.type===s.elementType?ue:Qa(s.type,ue),q.props=Ge,mt=s.pendingProps,ct=q.context,Se=u.contextType,typeof Se=="object"&&Se!==null?Se=Rn(Se):(Se=es(u)?Vo:di.current,Se=pl(s,Se));var Ot=u.getDerivedStateFromProps;(ft=typeof Ot=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ue!==mt||ct!==Se)&&N0(s,q,p,Se),ja=!1,ct=s.memoizedState,q.state=ct,Ga(s,p,q,k);var Mt=s.memoizedState;ue!==mt||ct!==Mt||Zi.current||ja?(typeof Ot=="function"&&(ef(s,u,Ot,p),Mt=s.memoizedState),(Ge=ja||k0(s,u,Ge,p,ct,Mt,Se)||!1)?(ft||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(p,Mt,Se),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(p,Mt,Se)),typeof q.componentDidUpdate=="function"&&(s.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof q.componentDidUpdate!="function"||ue===n.memoizedProps&&ct===n.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ue===n.memoizedProps&&ct===n.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Mt),q.props=p,q.state=Mt,q.context=Se,p=Ge):(typeof q.componentDidUpdate!="function"||ue===n.memoizedProps&&ct===n.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ue===n.memoizedProps&&ct===n.memoizedState||(s.flags|=1024),p=!1)}return af(n,s,u,p,j,k)}function af(n,s,u,p,k,j){R0(n,s);var q=(s.flags&128)!==0;if(!p&&!q)return k&&fd(s,u,!1),Jo(n,s,j);p=s.stateNode,$1.current=s;var ue=q&&typeof u.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,n!==null&&q?(s.child=Hn(s,n.child,null,j),s.child=Hn(s,null,ue,j)):ks(n,s,ue,j),s.memoizedState=p.state,k&&fd(s,u,!0),s.child}function F0(n){var s=n.stateNode;s.pendingContext?hd(n,s.pendingContext,s.pendingContext!==s.context):s.context&&hd(n,s.context,!1),vl(n,s.containerInfo)}function M0(n,s,u,p,k){return _r(),Kr(k),s.flags|=256,ks(n,s,u,p),s.child}var of={dehydrated:null,treeContext:null,retryLane:0};function lf(n){return{baseLanes:n,cachePool:null,transitions:null}}function B0(n,s,u){var p=s.pendingProps,k=un.current,j=!1,q=(s.flags&128)!==0,ue;if((ue=q)||(ue=n!==null&&n.memoizedState===null?!1:(k&2)!==0),ue?(j=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(k|=1),Jr(un,k&1),n===null)return jt(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(q=p.children,n=p.fallback,j?(p=s.mode,j=s.child,q={mode:"hidden",children:q},(p&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=q):j=Td(q,p,0,null),n=tu(n,p,u,null),j.return=s,n.return=s,j.sibling=n,s.child=j,s.child.memoizedState=lf(u),s.memoizedState=of,n):uf(s,q));if(k=n.memoizedState,k!==null&&(ue=k.dehydrated,ue!==null))return V1(n,s,q,p,ue,k,u);if(j){j=p.fallback,q=s.mode,k=n.child,ue=k.sibling;var Se={mode:"hidden",children:p.children};return(q&1)===0&&s.child!==k?(p=s.child,p.childLanes=0,p.pendingProps=Se,s.deletions=null):(p=Al(k,Se),p.subtreeFlags=k.subtreeFlags&14680064),ue!==null?j=Al(ue,j):(j=tu(j,q,u,null),j.flags|=2),j.return=s,p.return=s,p.sibling=j,s.child=p,p=j,j=s.child,q=n.child.memoizedState,q=q===null?lf(u):{baseLanes:q.baseLanes|u,cachePool:null,transitions:q.transitions},j.memoizedState=q,j.childLanes=n.childLanes&~u,s.memoizedState=of,p}return j=n.child,n=j.sibling,p=Al(j,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=u),p.return=s,p.sibling=null,n!==null&&(u=s.deletions,u===null?(s.deletions=[n],s.flags|=16):u.push(n)),s.child=p,s.memoizedState=null,p}function uf(n,s){return s=Td({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function xd(n,s,u,p){return p!==null&&Kr(p),Hn(s,n.child,null,u),n=uf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function V1(n,s,u,p,k,j,q){if(u)return s.flags&256?(s.flags&=-257,p=rf(Error(r(422))),xd(n,s,q,p)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(j=p.fallback,k=s.mode,p=Td({mode:"visible",children:p.children},k,0,null),j=tu(j,k,q,null),j.flags|=2,p.return=s,j.return=s,p.sibling=j,s.child=p,(s.mode&1)!==0&&Hn(s,n.child,null,q),s.child.memoizedState=lf(q),s.memoizedState=of,j);if((s.mode&1)===0)return xd(n,s,q,null);if(k.data==="$!"){if(p=k.nextSibling&&k.nextSibling.dataset,p)var ue=p.dgst;return p=ue,j=Error(r(419)),p=rf(j,p,void 0),xd(n,s,q,p)}if(ue=(q&n.childLanes)!==0,Us||ue){if(p=Ai,p!==null){switch(q&-q){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(p.suspendedLanes|q))!==0?0:k,k!==0&&k!==j.retryLane&&(j.retryLane=k,Vr(n,k),to(p,n,k,-1))}return Nf(),p=rf(Error(r(421))),xd(n,s,q,p)}return k.data==="$?"?(s.flags|=128,s.child=n.child,s=ny.bind(null,n),k._reactRetry=s,null):(n=j.treeContext,et=Di(k.nextSibling),Ae=s,Ze=!0,tt=null,n!==null&&(K[Q++]=Ue,K[Q++]=ze,K[Q++]=_e,Ue=n.id,ze=n.overflow,_e=s),s=uf(s,p.children),s.flags|=4096,s)}function q0(n,s,u){n.lanes|=s;var p=n.alternate;p!==null&&(p.lanes|=s),Fs(n.return,s,u)}function cf(n,s,u,p,k){var j=n.memoizedState;j===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:k}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=p,j.tail=u,j.tailMode=k)}function U0(n,s,u){var p=s.pendingProps,k=p.revealOrder,j=p.tail;if(ks(n,s,p.children,u),p=un.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&q0(n,u,s);else if(n.tag===19)q0(n,u,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(Jr(un,p),(s.mode&1)===0)s.memoizedState=null;else switch(k){case"forwards":for(u=s.child,k=null;u!==null;)n=u.alternate,n!==null&&ia(n)===null&&(k=u),u=u.sibling;u=k,u===null?(k=s.child,s.child=null):(k=u.sibling,u.sibling=null),cf(s,!1,k,u,j);break;case"backwards":for(u=null,k=s.child,s.child=null;k!==null;){if(n=k.alternate,n!==null&&ia(n)===null){s.child=k;break}n=k.sibling,k.sibling=u,u=k,k=n}cf(s,!0,u,null,j);break;case"together":cf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _d(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Jo(n,s,u){if(n!==null&&(s.dependencies=n.dependencies),Xl|=s.lanes,(u&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,u=Al(n,n.pendingProps),s.child=u,u.return=s;n.sibling!==null;)n=n.sibling,u=u.sibling=Al(n,n.pendingProps),u.return=s;u.sibling=null}return s.child}function W1(n,s,u){switch(s.tag){case 3:F0(s),_r();break;case 5:pd(s);break;case 1:es(s.type)&&Wo(s);break;case 4:vl(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,k=s.memoizedProps.value;Jr(Si,p._currentValue),p._currentValue=k;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(Jr(un,un.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?B0(n,s,u):(Jr(un,un.current&1),n=Jo(n,s,u),n!==null?n.sibling:null);Jr(un,un.current&1);break;case 19:if(p=(u&s.childLanes)!==0,(n.flags&128)!==0){if(p)return U0(n,s,u);s.flags|=128}if(k=s.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Jr(un,un.current),p)break;return null;case 22:case 23:return s.lanes=0,T0(n,s,u)}return Jo(n,s,u)}var z0,df,$0,V0;z0=function(n,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},df=function(){},$0=function(n,s,u,p){var k=n.memoizedProps;if(k!==p){n=s.stateNode,Ja(bs.current);var j=null;switch(u){case"input":k=qt(n,k),p=qt(n,p),j=[];break;case"select":k=be({},k,{value:void 0}),p=be({},p,{value:void 0}),j=[];break;case"textarea":k=St(n,k),p=St(n,p),j=[];break;default:typeof k.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=dl)}xt(u,p);var q;u=null;for(Ge in k)if(!p.hasOwnProperty(Ge)&&k.hasOwnProperty(Ge)&&k[Ge]!=null)if(Ge==="style"){var ue=k[Ge];for(q in ue)ue.hasOwnProperty(q)&&(u||(u={}),u[q]="")}else Ge!=="dangerouslySetInnerHTML"&&Ge!=="children"&&Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&Ge!=="autoFocus"&&(o.hasOwnProperty(Ge)?j||(j=[]):(j=j||[]).push(Ge,null));for(Ge in p){var Se=p[Ge];if(ue=k?.[Ge],p.hasOwnProperty(Ge)&&Se!==ue&&(Se!=null||ue!=null))if(Ge==="style")if(ue){for(q in ue)!ue.hasOwnProperty(q)||Se&&Se.hasOwnProperty(q)||(u||(u={}),u[q]="");for(q in Se)Se.hasOwnProperty(q)&&ue[q]!==Se[q]&&(u||(u={}),u[q]=Se[q])}else u||(j||(j=[]),j.push(Ge,u)),u=Se;else Ge==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ue=ue?ue.__html:void 0,Se!=null&&ue!==Se&&(j=j||[]).push(Ge,Se)):Ge==="children"?typeof Se!="string"&&typeof Se!="number"||(j=j||[]).push(Ge,""+Se):Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&(o.hasOwnProperty(Ge)?(Se!=null&&Ge==="onScroll"&&Zr("scroll",n),j||ue===Se||(j=[])):(j=j||[]).push(Ge,Se))}u&&(j=j||[]).push("style",u);var Ge=j;(s.updateQueue=Ge)&&(s.flags|=4)}},V0=function(n,s,u,p){u!==p&&(s.flags|=4)};function vc(n,s){if(!Ze)switch(n.tailMode){case"hidden":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function rs(n){var s=n.alternate!==null&&n.alternate.child===n.child,u=0,p=0;if(s)for(var k=n.child;k!==null;)u|=k.lanes|k.childLanes,p|=k.subtreeFlags&14680064,p|=k.flags&14680064,k.return=n,k=k.sibling;else for(k=n.child;k!==null;)u|=k.lanes|k.childLanes,p|=k.subtreeFlags,p|=k.flags,k.return=n,k=k.sibling;return n.subtreeFlags|=p,n.childLanes=u,s}function H1(n,s,u){var p=s.pendingProps;switch(Ne(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(s),null;case 1:return es(s.type)&&vu(),rs(s),null;case 3:return p=s.stateNode,Ea(),Hr(Zi),Hr(di),pc(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(Fr(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tt!==null&&(_f(tt),tt=null))),df(n,s),rs(s),null;case 5:hc(s);var k=Ja(jo.current);if(u=s.type,n!==null&&s.stateNode!=null)$0(n,s,u,p,k),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(r(166));return rs(s),null}if(n=Ja(bs.current),Fr(s)){p=s.stateNode,u=s.type;var j=s.memoizedProps;switch(p[Aa]=s,p[hl]=j,n=(s.mode&1)!==0,u){case"dialog":Zr("cancel",p),Zr("close",p);break;case"iframe":case"object":case"embed":Zr("load",p);break;case"video":case"audio":for(k=0;k<ko.length;k++)Zr(ko[k],p);break;case"source":Zr("error",p);break;case"img":case"image":case"link":Zr("error",p),Zr("load",p);break;case"details":Zr("toggle",p);break;case"input":Je(p,j),Zr("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!j.multiple},Zr("invalid",p);break;case"textarea":Rt(p,j),Zr("invalid",p)}xt(u,j),k=null;for(var q in j)if(j.hasOwnProperty(q)){var ue=j[q];q==="children"?typeof ue=="string"?p.textContent!==ue&&(j.suppressHydrationWarning!==!0&&mu(p.textContent,ue,n),k=["children",ue]):typeof ue=="number"&&p.textContent!==""+ue&&(j.suppressHydrationWarning!==!0&&mu(p.textContent,ue,n),k=["children",""+ue]):o.hasOwnProperty(q)&&ue!=null&&q==="onScroll"&&Zr("scroll",p)}switch(u){case"input":st(p),Tt(p,j,!0);break;case"textarea":st(p),Qt(p);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(p.onclick=dl)}p=k,s.updateQueue=p,p!==null&&(s.flags|=4)}else{q=k.nodeType===9?k:k.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=nr(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=q.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=q.createElement(u,{is:p.is}):(n=q.createElement(u),u==="select"&&(q=n,p.multiple?q.multiple=!0:p.size&&(q.size=p.size))):n=q.createElementNS(n,u),n[Aa]=s,n[hl]=p,z0(n,s,!1,!1),s.stateNode=n;e:{switch(q=On(u,p),u){case"dialog":Zr("cancel",n),Zr("close",n),k=p;break;case"iframe":case"object":case"embed":Zr("load",n),k=p;break;case"video":case"audio":for(k=0;k<ko.length;k++)Zr(ko[k],n);k=p;break;case"source":Zr("error",n),k=p;break;case"img":case"image":case"link":Zr("error",n),Zr("load",n),k=p;break;case"details":Zr("toggle",n),k=p;break;case"input":Je(n,p),k=qt(n,p),Zr("invalid",n);break;case"option":k=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},k=be({},p,{value:void 0}),Zr("invalid",n);break;case"textarea":Rt(n,p),k=St(n,p),Zr("invalid",n);break;default:k=p}xt(u,k),ue=k;for(j in ue)if(ue.hasOwnProperty(j)){var Se=ue[j];j==="style"?ei(n,Se):j==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&zt(n,Se)):j==="children"?typeof Se=="string"?(u!=="textarea"||Se!=="")&&sr(n,Se):typeof Se=="number"&&sr(n,""+Se):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?Se!=null&&j==="onScroll"&&Zr("scroll",n):Se!=null&&H(n,j,Se,q))}switch(u){case"input":st(n),Tt(n,p,!1);break;case"textarea":st(n),Qt(n);break;case"option":p.value!=null&&n.setAttribute("value",""+Oe(p.value));break;case"select":n.multiple=!!p.multiple,j=p.value,j!=null?vt(n,!!p.multiple,j,!1):p.defaultValue!=null&&vt(n,!!p.multiple,p.defaultValue,!0);break;default:typeof k.onClick=="function"&&(n.onclick=dl)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return rs(s),null;case 6:if(n&&s.stateNode!=null)V0(n,s,n.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(u=Ja(jo.current),Ja(bs.current),Fr(s)){if(p=s.stateNode,u=s.memoizedProps,p[Aa]=s,(j=p.nodeValue!==u)&&(n=Ae,n!==null))switch(n.tag){case 3:mu(p.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&mu(p.nodeValue,u,(n.mode&1)!==0)}j&&(s.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Aa]=s,s.stateNode=p}return rs(s),null;case 13:if(Hr(un),p=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ze&&et!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ir(),_r(),s.flags|=98560,j=!1;else if(j=Fr(s),p!==null&&p.dehydrated!==null){if(n===null){if(!j)throw Error(r(318));if(j=s.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Aa]=s}else _r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rs(s),j=!1}else tt!==null&&(_f(tt),tt=null),j=!0;if(!j)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(un.current&1)!==0?fi===0&&(fi=3):Nf())),s.updateQueue!==null&&(s.flags|=4),rs(s),null);case 4:return Ea(),df(n,s),n===null&&qo(s.stateNode.containerInfo),rs(s),null;case 10:return ts(s.type._context),rs(s),null;case 17:return es(s.type)&&vu(),rs(s),null;case 19:if(Hr(un),j=s.memoizedState,j===null)return rs(s),null;if(p=(s.flags&128)!==0,q=j.rendering,q===null)if(p)vc(j,!1);else{if(fi!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(q=ia(n),q!==null){for(s.flags|=128,vc(j,!1),p=q.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=u,u=s.child;u!==null;)j=u,n=p,j.flags&=14680066,q=j.alternate,q===null?(j.childLanes=0,j.lanes=n,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=q.childLanes,j.lanes=q.lanes,j.child=q.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=q.memoizedProps,j.memoizedState=q.memoizedState,j.updateQueue=q.updateQueue,j.type=q.type,n=q.dependencies,j.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return Jr(un,un.current&1|2),s.child}n=n.sibling}j.tail!==null&&Or()>Lu&&(s.flags|=128,p=!0,vc(j,!1),s.lanes=4194304)}else{if(!p)if(n=ia(q),n!==null){if(s.flags|=128,p=!0,u=n.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),vc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!q.alternate&&!Ze)return rs(s),null}else 2*Or()-j.renderingStartTime>Lu&&u!==1073741824&&(s.flags|=128,p=!0,vc(j,!1),s.lanes=4194304);j.isBackwards?(q.sibling=s.child,s.child=q):(u=j.last,u!==null?u.sibling=q:s.child=q,j.last=q)}return j.tail!==null?(s=j.tail,j.rendering=s,j.tail=s.sibling,j.renderingStartTime=Or(),s.sibling=null,u=un.current,Jr(un,p?u&1|2:u&1),s):(rs(s),null);case 22:case 23:return Sf(),p=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(oa&1073741824)!==0&&(rs(s),s.subtreeFlags&6&&(s.flags|=8192)):rs(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function K1(n,s){switch(Ne(s),s.tag){case 1:return es(s.type)&&vu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ea(),Hr(Zi),Hr(di),pc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return hc(s),null;case 13:if(Hr(un),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_r()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Hr(un),null;case 4:return Ea(),null;case 10:return ts(s.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var kd=!1,ns=!1,G1=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Cu(n,s){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Fn(n,s,p)}else u.current=null}function hf(n,s,u){try{u()}catch(p){Fn(n,s,p)}}var W0=!1;function J1(n,s){if(Wl=Ps,n=Pe(),Ve(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var k=p.anchorOffset,j=p.focusNode;p=p.focusOffset;try{u.nodeType,j.nodeType}catch{u=null;break e}var q=0,ue=-1,Se=-1,Ge=0,ft=0,mt=n,ct=null;t:for(;;){for(var Ot;mt!==u||k!==0&&mt.nodeType!==3||(ue=q+k),mt!==j||p!==0&&mt.nodeType!==3||(Se=q+p),mt.nodeType===3&&(q+=mt.nodeValue.length),(Ot=mt.firstChild)!==null;)ct=mt,mt=Ot;for(;;){if(mt===n)break t;if(ct===u&&++Ge===k&&(ue=q),ct===j&&++ft===p&&(Se=q),(Ot=mt.nextSibling)!==null)break;mt=ct,ct=mt.parentNode}mt=Ot}u=ue===-1||Se===-1?null:{start:ue,end:Se}}else u=null}u=u||{start:0,end:0}}else u=null;for(zo={focusedElem:n,selectionRange:u},Ps=!1,Dt=s;Dt!==null;)if(s=Dt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Dt=n;else for(;Dt!==null;){s=Dt;try{var Mt=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Wt=Mt.memoizedProps,Jn=Mt.memoizedState,$e=s.stateNode,Le=$e.getSnapshotBeforeUpdate(s.elementType===s.type?Wt:Qa(s.type,Wt),Jn);$e.__reactInternalSnapshotBeforeUpdate=Le}break;case 3:var We=s.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(_t){Fn(s,s.return,_t)}if(n=s.sibling,n!==null){n.return=s.return,Dt=n;break}Dt=s.return}return Mt=W0,W0=!1,Mt}function yc(n,s,u){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var k=p=p.next;do{if((k.tag&n)===n){var j=k.destroy;k.destroy=void 0,j!==void 0&&hf(s,u,j)}k=k.next}while(k!==p)}}function Sd(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&n)===n){var p=u.create;u.destroy=p()}u=u.next}while(u!==s)}}function ff(n){var s=n.ref;if(s!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof s=="function"?s(n):s.current=n}}function H0(n){var s=n.alternate;s!==null&&(n.alternate=null,H0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Aa],delete s[hl],delete s[Qi],delete s[Yh],delete s[Xh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function K0(n){return n.tag===5||n.tag===3||n.tag===4}function G0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||K0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pf(n,s,u){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(n,s):u.insertBefore(n,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(n,u)):(s=u,s.appendChild(n)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=dl));else if(p!==4&&(n=n.child,n!==null))for(pf(n,s,u),n=n.sibling;n!==null;)pf(n,s,u),n=n.sibling}function gf(n,s,u){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?u.insertBefore(n,s):u.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(gf(n,s,u),n=n.sibling;n!==null;)gf(n,s,u),n=n.sibling}var Mi=null,Za=!1;function xl(n,s,u){for(u=u.child;u!==null;)J0(n,s,u),u=u.sibling}function J0(n,s,u){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(ga,u)}catch{}switch(u.tag){case 5:ns||Cu(u,s);case 6:var p=Mi,k=Za;Mi=null,xl(n,s,u),Mi=p,Za=k,Mi!==null&&(Za?(n=Mi,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Mi.removeChild(u.stateNode));break;case 18:Mi!==null&&(Za?(n=Mi,u=u.stateNode,n.nodeType===8?lc(n.parentNode,u):n.nodeType===1&&lc(n,u),Hi(n)):lc(Mi,u.stateNode));break;case 4:p=Mi,k=Za,Mi=u.stateNode.containerInfo,Za=!0,xl(n,s,u),Mi=p,Za=k;break;case 0:case 11:case 14:case 15:if(!ns&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){k=p=p.next;do{var j=k,q=j.destroy;j=j.tag,q!==void 0&&((j&2)!==0||(j&4)!==0)&&hf(u,s,q),k=k.next}while(k!==p)}xl(n,s,u);break;case 1:if(!ns&&(Cu(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(ue){Fn(u,s,ue)}xl(n,s,u);break;case 21:xl(n,s,u);break;case 22:u.mode&1?(ns=(p=ns)||u.memoizedState!==null,xl(n,s,u),ns=p):xl(n,s,u);break;default:xl(n,s,u)}}function Y0(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new G1),s.forEach(function(p){var k=iy.bind(null,n,p);u.has(p)||(u.add(p),p.then(k,k))})}}function eo(n,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var k=u[p];try{var j=n,q=s,ue=q;e:for(;ue!==null;){switch(ue.tag){case 5:Mi=ue.stateNode,Za=!1;break e;case 3:Mi=ue.stateNode.containerInfo,Za=!0;break e;case 4:Mi=ue.stateNode.containerInfo,Za=!0;break e}ue=ue.return}if(Mi===null)throw Error(r(160));J0(j,q,k),Mi=null,Za=!1;var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(Ge){Fn(k,s,Ge)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)X0(s,n),s=s.sibling}function X0(n,s){var u=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(eo(s,n),Co(n),p&4){try{yc(3,n,n.return),Sd(3,n)}catch(Wt){Fn(n,n.return,Wt)}try{yc(5,n,n.return)}catch(Wt){Fn(n,n.return,Wt)}}break;case 1:eo(s,n),Co(n),p&512&&u!==null&&Cu(u,u.return);break;case 5:if(eo(s,n),Co(n),p&512&&u!==null&&Cu(u,u.return),n.flags&32){var k=n.stateNode;try{sr(k,"")}catch(Wt){Fn(n,n.return,Wt)}}if(p&4&&(k=n.stateNode,k!=null)){var j=n.memoizedProps,q=u!==null?u.memoizedProps:j,ue=n.type,Se=n.updateQueue;if(n.updateQueue=null,Se!==null)try{ue==="input"&&j.type==="radio"&&j.name!=null&&ae(k,j),On(ue,q);var Ge=On(ue,j);for(q=0;q<Se.length;q+=2){var ft=Se[q],mt=Se[q+1];ft==="style"?ei(k,mt):ft==="dangerouslySetInnerHTML"?zt(k,mt):ft==="children"?sr(k,mt):H(k,ft,mt,Ge)}switch(ue){case"input":Xt(k,j);break;case"textarea":Yt(k,j);break;case"select":var ct=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!j.multiple;var Ot=j.value;Ot!=null?vt(k,!!j.multiple,Ot,!1):ct!==!!j.multiple&&(j.defaultValue!=null?vt(k,!!j.multiple,j.defaultValue,!0):vt(k,!!j.multiple,j.multiple?[]:"",!1))}k[hl]=j}catch(Wt){Fn(n,n.return,Wt)}}break;case 6:if(eo(s,n),Co(n),p&4){if(n.stateNode===null)throw Error(r(162));k=n.stateNode,j=n.memoizedProps;try{k.nodeValue=j}catch(Wt){Fn(n,n.return,Wt)}}break;case 3:if(eo(s,n),Co(n),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Hi(s.containerInfo)}catch(Wt){Fn(n,n.return,Wt)}break;case 4:eo(s,n),Co(n);break;case 13:eo(s,n),Co(n),k=n.child,k.flags&8192&&(j=k.memoizedState!==null,k.stateNode.isHidden=j,!j||k.alternate!==null&&k.alternate.memoizedState!==null||(yf=Or())),p&4&&Y0(n);break;case 22:if(ft=u!==null&&u.memoizedState!==null,n.mode&1?(ns=(Ge=ns)||ft,eo(s,n),ns=Ge):eo(s,n),Co(n),p&8192){if(Ge=n.memoizedState!==null,(n.stateNode.isHidden=Ge)&&!ft&&(n.mode&1)!==0)for(Dt=n,ft=n.child;ft!==null;){for(mt=Dt=ft;Dt!==null;){switch(ct=Dt,Ot=ct.child,ct.tag){case 0:case 11:case 14:case 15:yc(4,ct,ct.return);break;case 1:Cu(ct,ct.return);var Mt=ct.stateNode;if(typeof Mt.componentWillUnmount=="function"){p=ct,u=ct.return;try{s=p,Mt.props=s.memoizedProps,Mt.state=s.memoizedState,Mt.componentWillUnmount()}catch(Wt){Fn(p,u,Wt)}}break;case 5:Cu(ct,ct.return);break;case 22:if(ct.memoizedState!==null){eg(mt);continue}}Ot!==null?(Ot.return=ct,Dt=Ot):eg(mt)}ft=ft.sibling}e:for(ft=null,mt=n;;){if(mt.tag===5){if(ft===null){ft=mt;try{k=mt.stateNode,Ge?(j=k.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ue=mt.stateNode,Se=mt.memoizedProps.style,q=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ue.style.display=kr("display",q))}catch(Wt){Fn(n,n.return,Wt)}}}else if(mt.tag===6){if(ft===null)try{mt.stateNode.nodeValue=Ge?"":mt.memoizedProps}catch(Wt){Fn(n,n.return,Wt)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===n)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===n)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===n)break e;ft===mt&&(ft=null),mt=mt.return}ft===mt&&(ft=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:eo(s,n),Co(n),p&4&&Y0(n);break;case 21:break;default:eo(s,n),Co(n)}}function Co(n){var s=n.flags;if(s&2){try{e:{for(var u=n.return;u!==null;){if(K0(u)){var p=u;break e}u=u.return}throw Error(r(160))}switch(p.tag){case 5:var k=p.stateNode;p.flags&32&&(sr(k,""),p.flags&=-33);var j=G0(n);gf(n,j,k);break;case 3:case 4:var q=p.stateNode.containerInfo,ue=G0(n);pf(n,ue,q);break;default:throw Error(r(161))}}catch(Se){Fn(n,n.return,Se)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Y1(n,s,u){Dt=n,Q0(n)}function Q0(n,s,u){for(var p=(n.mode&1)!==0;Dt!==null;){var k=Dt,j=k.child;if(k.tag===22&&p){var q=k.memoizedState!==null||kd;if(!q){var ue=k.alternate,Se=ue!==null&&ue.memoizedState!==null||ns;ue=kd;var Ge=ns;if(kd=q,(ns=Se)&&!Ge)for(Dt=k;Dt!==null;)q=Dt,Se=q.child,q.tag===22&&q.memoizedState!==null?tg(k):Se!==null?(Se.return=q,Dt=Se):tg(k);for(;j!==null;)Dt=j,Q0(j),j=j.sibling;Dt=k,kd=ue,ns=Ge}Z0(n)}else(k.subtreeFlags&8772)!==0&&j!==null?(j.return=k,Dt=j):Z0(n)}}function Z0(n){for(;Dt!==null;){var s=Dt;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ns||Sd(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!ns)if(u===null)p.componentDidMount();else{var k=s.elementType===s.type?u.memoizedProps:Qa(s.type,u.memoizedProps);p.componentDidUpdate(k,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var j=s.updateQueue;j!==null&&Ko(s,j,p);break;case 3:var q=s.updateQueue;if(q!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Ko(s,q,u)}break;case 5:var ue=s.stateNode;if(u===null&&s.flags&4){u=ue;var Se=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&u.focus();break;case"img":Se.src&&(u.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Ge=s.alternate;if(Ge!==null){var ft=Ge.memoizedState;if(ft!==null){var mt=ft.dehydrated;mt!==null&&Hi(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ns||s.flags&512&&ff(s)}catch(ct){Fn(s,s.return,ct)}}if(s===n){Dt=null;break}if(u=s.sibling,u!==null){u.return=s.return,Dt=u;break}Dt=s.return}}function eg(n){for(;Dt!==null;){var s=Dt;if(s===n){Dt=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Dt=u;break}Dt=s.return}}function tg(n){for(;Dt!==null;){var s=Dt;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Sd(4,s)}catch(Se){Fn(s,u,Se)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var k=s.return;try{p.componentDidMount()}catch(Se){Fn(s,k,Se)}}var j=s.return;try{ff(s)}catch(Se){Fn(s,j,Se)}break;case 5:var q=s.return;try{ff(s)}catch(Se){Fn(s,q,Se)}}}catch(Se){Fn(s,s.return,Se)}if(s===n){Dt=null;break}var ue=s.sibling;if(ue!==null){ue.return=s.return,Dt=ue;break}Dt=s.return}}var X1=Math.ceil,Nd=oe.ReactCurrentDispatcher,mf=oe.ReactCurrentOwner,La=oe.ReactCurrentBatchConfig,Br=0,Ai=null,ii=null,Bi=0,oa=0,Pu=na(0),fi=0,wc=null,Xl=0,Ad=0,vf=0,bc=null,zs=null,yf=0,Lu=1/0,Yo=null,jd=!1,wf=null,_l=null,Ed=!1,kl=null,Cd=0,xc=0,bf=null,Pd=-1,Ld=0;function Ss(){return(Br&6)!==0?Or():Pd!==-1?Pd:Pd=Or()}function Sl(n){return(n.mode&1)===0?1:(Br&2)!==0&&Bi!==0?Bi&-Bi:Yr.transition!==null?(Ld===0&&(Ld=po()),Ld):(n=Rr,n!==0||(n=window.event,n=n===void 0?16:Bo(n.type)),n)}function to(n,s,u,p){if(50<xc)throw xc=0,bf=null,Error(r(185));Gs(n,u,p),((Br&2)===0||n!==Ai)&&(n===Ai&&((Br&2)===0&&(Ad|=u),fi===4&&Nl(n,Bi)),$s(n,p),u===1&&Br===0&&(s.mode&1)===0&&(Lu=Or()+500,Kl&&E()))}function $s(n,s){var u=n.callbackNode;ri(n,s);var p=Cn(n,n===Ai?Bi:0);if(p===0)u!==null&&Ks(u),n.callbackNode=null,n.callbackPriority=0;else if(s=p&-p,n.callbackPriority!==s){if(u!=null&&Ks(u),s===1)n.tag===0?S(ng.bind(null,n)):m(ng.bind(null,n)),Gh(function(){(Br&6)===0&&E()}),u=null;else{switch(Nr(p)){case 1:u=Oi;break;case 4:u=fa;break;case 16:u=pa;break;case 536870912:u=Es;break;default:u=pa}u=dg(u,rg.bind(null,n))}n.callbackPriority=s,n.callbackNode=u}}function rg(n,s){if(Pd=-1,Ld=0,(Br&6)!==0)throw Error(r(327));var u=n.callbackNode;if(Iu()&&n.callbackNode!==u)return null;var p=Cn(n,n===Ai?Bi:0);if(p===0)return null;if((p&30)!==0||(p&n.expiredLanes)!==0||s)s=Id(n,p);else{s=p;var k=Br;Br|=2;var j=sg();(Ai!==n||Bi!==s)&&(Yo=null,Lu=Or()+500,Zl(n,s));do try{ey();break}catch(ue){ig(n,ue)}while(!0);hi(),Nd.current=j,Br=k,ii!==null?s=0:(Ai=null,Bi=0,s=fi)}if(s!==0){if(s===2&&(k=Cs(n),k!==0&&(p=k,s=xf(n,k))),s===1)throw u=wc,Zl(n,0),Nl(n,p),$s(n,Or()),u;if(s===6)Nl(n,p);else{if(k=n.current.alternate,(p&30)===0&&!Q1(k)&&(s=Id(n,p),s===2&&(j=Cs(n),j!==0&&(p=j,s=xf(n,j))),s===1))throw u=wc,Zl(n,0),Nl(n,p),$s(n,Or()),u;switch(n.finishedWork=k,n.finishedLanes=p,s){case 0:case 1:throw Error(r(345));case 2:eu(n,zs,Yo);break;case 3:if(Nl(n,p),(p&130023424)===p&&(s=yf+500-Or(),10<s)){if(Cn(n,0)!==0)break;if(k=n.suspendedLanes,(k&p)!==p){Ss(),n.pingedLanes|=n.suspendedLanes&k;break}n.timeoutHandle=oc(eu.bind(null,n,zs,Yo),s);break}eu(n,zs,Yo);break;case 4:if(Nl(n,p),(p&4194240)===p)break;for(s=n.eventTimes,k=-1;0<p;){var q=31-ir(p);j=1<<q,q=s[q],q>k&&(k=q),p&=~j}if(p=k,p=Or()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*X1(p/1960))-p,10<p){n.timeoutHandle=oc(eu.bind(null,n,zs,Yo),p);break}eu(n,zs,Yo);break;case 5:eu(n,zs,Yo);break;default:throw Error(r(329))}}}return $s(n,Or()),n.callbackNode===u?rg.bind(null,n):null}function xf(n,s){var u=bc;return n.current.memoizedState.isDehydrated&&(Zl(n,s).flags|=256),n=Id(n,s),n!==2&&(s=zs,zs=u,s!==null&&_f(s)),n}function _f(n){zs===null?zs=n:zs.push.apply(zs,n)}function Q1(n){for(var s=n;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var k=u[p],j=k.getSnapshot;k=k.value;try{if(!ne(j(),k))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Nl(n,s){for(s&=~vf,s&=~Ad,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var u=31-ir(s),p=1<<u;n[u]=-1,s&=~p}}function ng(n){if((Br&6)!==0)throw Error(r(327));Iu();var s=Cn(n,0);if((s&1)===0)return $s(n,Or()),null;var u=Id(n,s);if(n.tag!==0&&u===2){var p=Cs(n);p!==0&&(s=p,u=xf(n,p))}if(u===1)throw u=wc,Zl(n,0),Nl(n,s),$s(n,Or()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,eu(n,zs,Yo),$s(n,Or()),null}function kf(n,s){var u=Br;Br|=1;try{return n(s)}finally{Br=u,Br===0&&(Lu=Or()+500,Kl&&E())}}function Ql(n){kl!==null&&kl.tag===0&&(Br&6)===0&&Iu();var s=Br;Br|=1;var u=La.transition,p=Rr;try{if(La.transition=null,Rr=1,n)return n()}finally{Rr=p,La.transition=u,Br=s,(Br&6)===0&&E()}}function Sf(){oa=Pu.current,Hr(Pu)}function Zl(n,s){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,cd(u)),ii!==null)for(u=ii.return;u!==null;){var p=u;switch(Ne(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&vu();break;case 3:Ea(),Hr(Zi),Hr(di),pc();break;case 5:hc(p);break;case 4:Ea();break;case 13:Hr(un);break;case 19:Hr(un);break;case 10:ts(p.type._context);break;case 22:case 23:Sf()}u=u.return}if(Ai=n,ii=n=Al(n.current,null),Bi=oa=s,fi=0,wc=null,vf=Ad=Xl=0,zs=bc=null,ws!==null){for(s=0;s<ws.length;s++)if(u=ws[s],p=u.interleaved,p!==null){u.interleaved=null;var k=p.next,j=u.pending;if(j!==null){var q=j.next;j.next=k,p.next=q}u.pending=p}ws=null}return n}function ig(n,s){do{var u=ii;try{if(hi(),wu.current=wd,yl){for(var p=yn.memoizedState;p!==null;){var k=p.queue;k!==null&&(k.pending=null),p=p.next}yl=!1}if(Ca=0,In=Dn=yn=null,Ya=!1,wl=0,mf.current=null,u===null||u.return===null){fi=1,wc=s,ii=null;break}e:{var j=n,q=u.return,ue=u,Se=s;if(s=Bi,ue.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Ge=Se,ft=ue,mt=ft.tag;if((ft.mode&1)===0&&(mt===0||mt===11||mt===15)){var ct=ft.alternate;ct?(ft.updateQueue=ct.updateQueue,ft.memoizedState=ct.memoizedState,ft.lanes=ct.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Ot=C0(q);if(Ot!==null){Ot.flags&=-257,P0(Ot,q,ue,j,s),Ot.mode&1&&E0(j,Ge,s),s=Ot,Se=Ge;var Mt=s.updateQueue;if(Mt===null){var Wt=new Set;Wt.add(Se),s.updateQueue=Wt}else Mt.add(Se);break e}else{if((s&1)===0){E0(j,Ge,s),Nf();break e}Se=Error(r(426))}}else if(Ze&&ue.mode&1){var Jn=C0(q);if(Jn!==null){(Jn.flags&65536)===0&&(Jn.flags|=256),P0(Jn,q,ue,j,s),Kr(Eu(Se,ue));break e}}j=Se=Eu(Se,ue),fi!==4&&(fi=2),bc===null?bc=[j]:bc.push(j),j=q;do{switch(j.tag){case 3:j.flags|=65536,s&=-s,j.lanes|=s;var $e=A0(j,Se,s);qs(j,$e);break e;case 1:ue=Se;var Le=j.type,We=j.stateNode;if((j.flags&128)===0&&(typeof Le.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(_l===null||!_l.has(We)))){j.flags|=65536,s&=-s,j.lanes|=s;var _t=j0(j,ue,s);qs(j,_t);break e}}j=j.return}while(j!==null)}og(u)}catch(Ht){s=Ht,ii===u&&u!==null&&(ii=u=u.return);continue}break}while(!0)}function sg(){var n=Nd.current;return Nd.current=wd,n===null?wd:n}function Nf(){(fi===0||fi===3||fi===2)&&(fi=4),Ai===null||(Xl&268435455)===0&&(Ad&268435455)===0||Nl(Ai,Bi)}function Id(n,s){var u=Br;Br|=2;var p=sg();(Ai!==n||Bi!==s)&&(Yo=null,Zl(n,s));do try{Z1();break}catch(k){ig(n,k)}while(!0);if(hi(),Br=u,Nd.current=p,ii!==null)throw Error(r(261));return Ai=null,Bi=0,fi}function Z1(){for(;ii!==null;)ag(ii)}function ey(){for(;ii!==null&&!Gr();)ag(ii)}function ag(n){var s=cg(n.alternate,n,oa);n.memoizedProps=n.pendingProps,s===null?og(n):ii=s,mf.current=null}function og(n){var s=n;do{var u=s.alternate;if(n=s.return,(s.flags&32768)===0){if(u=H1(u,s,oa),u!==null){ii=u;return}}else{if(u=K1(u,s),u!==null){u.flags&=32767,ii=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{fi=6,ii=null;return}}if(s=s.sibling,s!==null){ii=s;return}ii=s=n}while(s!==null);fi===0&&(fi=5)}function eu(n,s,u){var p=Rr,k=La.transition;try{La.transition=null,Rr=1,ty(n,s,u,p)}finally{La.transition=k,Rr=p}return null}function ty(n,s,u,p){do Iu();while(kl!==null);if((Br&6)!==0)throw Error(r(327));u=n.finishedWork;var k=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var j=u.lanes|u.childLanes;if(Da(n,j),n===Ai&&(ii=Ai=null,Bi=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ed||(Ed=!0,dg(pa,function(){return Iu(),null})),j=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||j){j=La.transition,La.transition=null;var q=Rr;Rr=1;var ue=Br;Br|=4,mf.current=null,J1(n,u),X0(u,n),He(zo),Ps=!!Wl,zo=Wl=null,n.current=u,Y1(u),js(),Br=ue,Rr=q,La.transition=j}else n.current=u;if(Ed&&(Ed=!1,kl=n,Cd=k),j=n.pendingLanes,j===0&&(_l=null),Ra(u.stateNode),$s(n,Or()),s!==null)for(p=n.onRecoverableError,u=0;u<s.length;u++)k=s[u],p(k.value,{componentStack:k.stack,digest:k.digest});if(jd)throw jd=!1,n=wf,wf=null,n;return(Cd&1)!==0&&n.tag!==0&&Iu(),j=n.pendingLanes,(j&1)!==0?n===bf?xc++:(xc=0,bf=n):xc=0,E(),null}function Iu(){if(kl!==null){var n=Nr(Cd),s=La.transition,u=Rr;try{if(La.transition=null,Rr=16>n?16:n,kl===null)var p=!1;else{if(n=kl,kl=null,Cd=0,(Br&6)!==0)throw Error(r(331));var k=Br;for(Br|=4,Dt=n.current;Dt!==null;){var j=Dt,q=j.child;if((Dt.flags&16)!==0){var ue=j.deletions;if(ue!==null){for(var Se=0;Se<ue.length;Se++){var Ge=ue[Se];for(Dt=Ge;Dt!==null;){var ft=Dt;switch(ft.tag){case 0:case 11:case 15:yc(8,ft,j)}var mt=ft.child;if(mt!==null)mt.return=ft,Dt=mt;else for(;Dt!==null;){ft=Dt;var ct=ft.sibling,Ot=ft.return;if(H0(ft),ft===Ge){Dt=null;break}if(ct!==null){ct.return=Ot,Dt=ct;break}Dt=Ot}}}var Mt=j.alternate;if(Mt!==null){var Wt=Mt.child;if(Wt!==null){Mt.child=null;do{var Jn=Wt.sibling;Wt.sibling=null,Wt=Jn}while(Wt!==null)}}Dt=j}}if((j.subtreeFlags&2064)!==0&&q!==null)q.return=j,Dt=q;else e:for(;Dt!==null;){if(j=Dt,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:yc(9,j,j.return)}var $e=j.sibling;if($e!==null){$e.return=j.return,Dt=$e;break e}Dt=j.return}}var Le=n.current;for(Dt=Le;Dt!==null;){q=Dt;var We=q.child;if((q.subtreeFlags&2064)!==0&&We!==null)We.return=q,Dt=We;else e:for(q=Le;Dt!==null;){if(ue=Dt,(ue.flags&2048)!==0)try{switch(ue.tag){case 0:case 11:case 15:Sd(9,ue)}}catch(Ht){Fn(ue,ue.return,Ht)}if(ue===q){Dt=null;break e}var _t=ue.sibling;if(_t!==null){_t.return=ue.return,Dt=_t;break e}Dt=ue.return}}if(Br=k,E(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(ga,n)}catch{}p=!0}return p}finally{Rr=u,La.transition=s}}return!1}function lg(n,s,u){s=Eu(u,s),s=A0(n,s,1),n=Bs(n,s,1),s=Ss(),n!==null&&(Gs(n,1,s),$s(n,s))}function Fn(n,s,u){if(n.tag===3)lg(n,n,u);else for(;s!==null;){if(s.tag===3){lg(s,n,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(_l===null||!_l.has(p))){n=Eu(u,n),n=j0(s,n,1),s=Bs(s,n,1),n=Ss(),s!==null&&(Gs(s,1,n),$s(s,n));break}}s=s.return}}function ry(n,s,u){var p=n.pingCache;p!==null&&p.delete(s),s=Ss(),n.pingedLanes|=n.suspendedLanes&u,Ai===n&&(Bi&u)===u&&(fi===4||fi===3&&(Bi&130023424)===Bi&&500>Or()-yf?Zl(n,0):vf|=u),$s(n,s)}function ug(n,s){s===0&&((n.mode&1)===0?s=1:(s=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var u=Ss();n=Vr(n,s),n!==null&&(Gs(n,s,u),$s(n,u))}function ny(n){var s=n.memoizedState,u=0;s!==null&&(u=s.retryLane),ug(n,u)}function iy(n,s){var u=0;switch(n.tag){case 13:var p=n.stateNode,k=n.memoizedState;k!==null&&(u=k.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(s),ug(n,u)}var cg;cg=function(n,s,u){if(n!==null)if(n.memoizedProps!==s.pendingProps||Zi.current)Us=!0;else{if((n.lanes&u)===0&&(s.flags&128)===0)return Us=!1,W1(n,s,u);Us=(n.flags&131072)!==0}else Us=!1,Ze&&(s.flags&1048576)!==0&&nt(s,W,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;_d(n,s),n=s.pendingProps;var k=pl(s,di.current);Sn(s,u),k=Gl(null,s,p,n,k,u);var j=Pa();return s.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,es(p)?(j=!0,Wo(s)):j=!1,s.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,yu(s),k.updater=bd,s.stateNode=k,k._reactInternals=s,tf(s,p,n,u),s=af(null,s,p,!0,j,u)):(s.tag=0,Ze&&j&&Ye(s),ks(null,s,k,u),s=s.child),s;case 16:p=s.elementType;e:{switch(_d(n,s),n=s.pendingProps,k=p._init,p=k(p._payload),s.type=p,k=s.tag=ay(p),n=Qa(p,n),k){case 0:s=sf(null,s,p,n,u);break e;case 1:s=D0(null,s,p,n,u);break e;case 11:s=L0(null,s,p,n,u);break e;case 14:s=I0(null,s,p,Qa(p.type,n),u);break e}throw Error(r(306,p,""))}return s;case 0:return p=s.type,k=s.pendingProps,k=s.elementType===p?k:Qa(p,k),sf(n,s,p,k,u);case 1:return p=s.type,k=s.pendingProps,k=s.elementType===p?k:Qa(p,k),D0(n,s,p,k,u);case 3:e:{if(F0(s),n===null)throw Error(r(387));p=s.pendingProps,j=s.memoizedState,k=j.element,dc(n,s),Ga(s,p,null,u);var q=s.memoizedState;if(p=q.element,j.isDehydrated)if(j={element:p,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},s.updateQueue.baseState=j,s.memoizedState=j,s.flags&256){k=Eu(Error(r(423)),s),s=M0(n,s,p,u,k);break e}else if(p!==k){k=Eu(Error(r(424)),s),s=M0(n,s,p,u,k);break e}else for(et=Di(s.stateNode.containerInfo.firstChild),Ae=s,Ze=!0,tt=null,u=$r(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(_r(),p===k){s=Jo(n,s,u);break e}ks(n,s,p,u)}s=s.child}return s;case 5:return pd(s),n===null&&jt(s),p=s.type,k=s.pendingProps,j=n!==null?n.memoizedProps:null,q=k.children,ac(p,k)?q=null:j!==null&&ac(p,j)&&(s.flags|=32),R0(n,s),ks(n,s,q,u),s.child;case 6:return n===null&&jt(s),null;case 13:return B0(n,s,u);case 4:return vl(s,s.stateNode.containerInfo),p=s.pendingProps,n===null?s.child=Hn(s,null,p,u):ks(n,s,p,u),s.child;case 11:return p=s.type,k=s.pendingProps,k=s.elementType===p?k:Qa(p,k),L0(n,s,p,k,u);case 7:return ks(n,s,s.pendingProps,u),s.child;case 8:return ks(n,s,s.pendingProps.children,u),s.child;case 12:return ks(n,s,s.pendingProps.children,u),s.child;case 10:e:{if(p=s.type._context,k=s.pendingProps,j=s.memoizedProps,q=k.value,Jr(Si,p._currentValue),p._currentValue=q,j!==null)if(ne(j.value,q)){if(j.children===k.children&&!Zi.current){s=Jo(n,s,u);break e}}else for(j=s.child,j!==null&&(j.return=s);j!==null;){var ue=j.dependencies;if(ue!==null){q=j.child;for(var Se=ue.firstContext;Se!==null;){if(Se.context===p){if(j.tag===1){Se=Ms(-1,u&-u),Se.tag=2;var Ge=j.updateQueue;if(Ge!==null){Ge=Ge.shared;var ft=Ge.pending;ft===null?Se.next=Se:(Se.next=ft.next,ft.next=Se),Ge.pending=Se}}j.lanes|=u,Se=j.alternate,Se!==null&&(Se.lanes|=u),Fs(j.return,u,s),ue.lanes|=u;break}Se=Se.next}}else if(j.tag===10)q=j.type===s.type?null:j.child;else if(j.tag===18){if(q=j.return,q===null)throw Error(r(341));q.lanes|=u,ue=q.alternate,ue!==null&&(ue.lanes|=u),Fs(q,u,s),q=j.sibling}else q=j.child;if(q!==null)q.return=j;else for(q=j;q!==null;){if(q===s){q=null;break}if(j=q.sibling,j!==null){j.return=q.return,q=j;break}q=q.return}j=q}ks(n,s,k.children,u),s=s.child}return s;case 9:return k=s.type,p=s.pendingProps.children,Sn(s,u),k=Rn(k),p=p(k),s.flags|=1,ks(n,s,p,u),s.child;case 14:return p=s.type,k=Qa(p,s.pendingProps),k=Qa(p.type,k),I0(n,s,p,k,u);case 15:return O0(n,s,s.type,s.pendingProps,u);case 17:return p=s.type,k=s.pendingProps,k=s.elementType===p?k:Qa(p,k),_d(n,s),s.tag=1,es(p)?(n=!0,Wo(s)):n=!1,Sn(s,u),S0(s,p,k),tf(s,p,k,u),af(null,s,p,!0,n,u);case 19:return U0(n,s,u);case 22:return T0(n,s,u)}throw Error(r(156,s.tag))};function dg(n,s){return ha(n,s)}function sy(n,s,u,p){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(n,s,u,p){return new sy(n,s,u,p)}function Af(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ay(n){if(typeof n=="function")return Af(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Y)return 11;if(n===qe)return 14}return 2}function Al(n,s){var u=n.alternate;return u===null?(u=Ia(n.tag,s,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=s,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,s=n.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function Od(n,s,u,p,k,j){var q=2;if(p=n,typeof n=="function")Af(n)&&(q=1);else if(typeof n=="string")q=5;else e:switch(n){case ce:return tu(u.children,k,j,s);case G:q=8,k|=8;break;case he:return n=Ia(12,u,s,k|2),n.elementType=he,n.lanes=j,n;case fe:return n=Ia(13,u,s,k),n.elementType=fe,n.lanes=j,n;case re:return n=Ia(19,u,s,k),n.elementType=re,n.lanes=j,n;case me:return Td(u,k,j,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Re:q=10;break e;case V:q=9;break e;case Y:q=11;break e;case qe:q=14;break e;case Be:q=16,p=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Ia(q,u,s,k),s.elementType=n,s.type=p,s.lanes=j,s}function tu(n,s,u,p){return n=Ia(7,n,p,s),n.lanes=u,n}function Td(n,s,u,p){return n=Ia(22,n,p,s),n.elementType=me,n.lanes=u,n.stateNode={isHidden:!1},n}function jf(n,s,u){return n=Ia(6,n,null,s),n.lanes=u,n}function Ef(n,s,u){return s=Ia(4,n.children!==null?n.children:[],n.key,s),s.lanes=u,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function oy(n,s,u,p,k){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=p,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Cf(n,s,u,p,k,j,q,ue,Se){return n=new oy(n,s,u,ue,Se),s===1?(s=1,j===!0&&(s|=8)):s=0,j=Ia(3,null,null,s),n.current=j,j.stateNode=n,j.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(j),n}function ly(n,s,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:p==null?null:""+p,children:n,containerInfo:s,implementation:u}}function hg(n){if(!n)return No;n=n._reactInternals;e:{if(tn(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(es(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(es(u))return cc(n,u,s)}return s}function fg(n,s,u,p,k,j,q,ue,Se){return n=Cf(u,p,!0,n,k,j,q,ue,Se),n.context=hg(null),u=n.current,p=Ss(),k=Sl(u),j=Ms(p,k),j.callback=s??null,Bs(u,j,k),n.current.lanes=k,Gs(n,k,p),$s(n,p),n}function Rd(n,s,u,p){var k=s.current,j=Ss(),q=Sl(k);return u=hg(u),s.context===null?s.context=u:s.pendingContext=u,s=Ms(j,q),s.payload={element:n},p=p===void 0?null:p,p!==null&&(s.callback=p),n=Bs(k,s,q),n!==null&&(to(n,k,q,j),Ho(n,k,q)),q}function Dd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function pg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<s?u:s}}function Pf(n,s){pg(n,s),(n=n.alternate)&&pg(n,s)}function uy(){return null}var gg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Lf(n){this._internalRoot=n}Fd.prototype.render=Lf.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Rd(n,s,null,null)},Fd.prototype.unmount=Lf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ql(function(){Rd(null,n,null,null)}),s[ki]=null}};function Fd(n){this._internalRoot=n}Fd.prototype.unstable_scheduleHydration=function(n){if(n){var s=pn();n={blockedOn:null,target:n,priority:s};for(var u=0;u<wi.length&&s!==0&&s<wi[u].priority;u++);wi.splice(u,0,n),u===0&&wa(n)}};function If(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Md(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function mg(){}function cy(n,s,u,p,k){if(k){if(typeof p=="function"){var j=p;p=function(){var Ge=Dd(q);j.call(Ge)}}var q=fg(s,p,n,0,null,!1,!1,"",mg);return n._reactRootContainer=q,n[ki]=q.current,qo(n.nodeType===8?n.parentNode:n),Ql(),q}for(;k=n.lastChild;)n.removeChild(k);if(typeof p=="function"){var ue=p;p=function(){var Ge=Dd(Se);ue.call(Ge)}}var Se=Cf(n,0,!1,null,null,!1,!1,"",mg);return n._reactRootContainer=Se,n[ki]=Se.current,qo(n.nodeType===8?n.parentNode:n),Ql(function(){Rd(s,Se,u,p)}),Se}function Bd(n,s,u,p,k){var j=u._reactRootContainer;if(j){var q=j;if(typeof k=="function"){var ue=k;k=function(){var Se=Dd(q);ue.call(Se)}}Rd(s,q,n,k)}else q=cy(u,s,n,k,p);return Dd(q)}go=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var u=us(s.pendingLanes);u!==0&&(Fa(s,u|1),$s(s,Or()),(Br&6)===0&&(Lu=Or()+500,E()))}break;case 13:Ql(function(){var p=Vr(n,1);if(p!==null){var k=Ss();to(p,n,1,k)}}),Pf(n,1)}},Fo=function(n){if(n.tag===13){var s=Vr(n,134217728);if(s!==null){var u=Ss();to(s,n,134217728,u)}Pf(n,134217728)}},ll=function(n){if(n.tag===13){var s=Sl(n),u=Vr(n,s);if(u!==null){var p=Ss();to(u,n,s,p)}Pf(n,s)}},pn=function(){return Rr},$i=function(n,s){var u=Rr;try{return Rr=n,s()}finally{Rr=u}},dt=function(n,s,u){switch(s){case"input":if(Xt(n,u),s=u.name,u.type==="radio"&&s!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==n&&p.form===n.form){var k=Hl(p);if(!k)throw Error(r(90));it(p),Xt(p,k)}}}break;case"textarea":Yt(n,u);break;case"select":s=u.value,s!=null&&vt(n,!!u.multiple,s,!1)}},bn=kf,Cr=Ql;var dy={usingClientEntryPoint:!1,Events:[fl,$o,Hl,Ft,pr,kf]},_c={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hy={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Hs(n),n===null?null:n.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||uy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{ga=qd.inject(hy),li=qd}catch{}}return Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dy,Vs.createPortal=function(n,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!If(s))throw Error(r(200));return ly(n,s,null,u)},Vs.createRoot=function(n,s){if(!If(n))throw Error(r(299));var u=!1,p="",k=gg;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(k=s.onRecoverableError)),s=Cf(n,1,!1,null,null,u,!1,p,k),n[ki]=s.current,qo(n.nodeType===8?n.parentNode:n),new Lf(s)},Vs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Hs(s),n=n===null?null:n.stateNode,n},Vs.flushSync=function(n){return Ql(n)},Vs.hydrate=function(n,s,u){if(!Md(s))throw Error(r(200));return Bd(null,n,s,!0,u)},Vs.hydrateRoot=function(n,s,u){if(!If(n))throw Error(r(405));var p=u!=null&&u.hydratedSources||null,k=!1,j="",q=gg;if(u!=null&&(u.unstable_strictMode===!0&&(k=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(q=u.onRecoverableError)),s=fg(s,null,n,1,u??null,k,!1,j,q),n[ki]=s.current,qo(n),p)for(n=0;n<p.length;n++)u=p[n],k=u._getVersion,k=k(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,k]:s.mutableSourceEagerHydrationData.push(u,k);return new Fd(s)},Vs.render=function(n,s,u){if(!Md(s))throw Error(r(200));return Bd(null,n,s,!1,u)},Vs.unmountComponentAtNode=function(n){if(!Md(n))throw Error(r(40));return n._reactRootContainer?(Ql(function(){Bd(null,null,n,!1,function(){n._reactRootContainer=null,n[ki]=null})}),!0):!1},Vs.unstable_batchedUpdates=kf,Vs.unstable_renderSubtreeIntoContainer=function(n,s,u,p){if(!Md(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Bd(n,s,u,!1,p)},Vs.version="18.3.1-next-f1338f8080-20240426",Vs}var Sg;function Wm(){if(Sg)return Rf.exports;Sg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rf.exports=by(),Rf.exports}var Ng;function xy(){if(Ng)return Ud;Ng=1;var t=Wm();return Ud.createRoot=t.createRoot,Ud.hydrateRoot=t.hydrateRoot,Ud}var _y=xy();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ag="popstate";function ky(t={}){function e(i,o){let{pathname:a,search:l,hash:c}=i.location;return up("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Fc(o)}return Ny(e,r,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sy(){return Math.random().toString(36).substring(2,10)}function jg(t,e){return{usr:t.state,key:t.key,idx:e}}function up(t,e,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ec(e):e,state:r,key:e&&e.key||i||Sy()}}function Fc({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ec(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Ny(t,e,r,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,l=o.history,c="POP",h=null,g=w();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function w(){return(l.state||{idx:null}).idx}function b(){c="POP";let R=w(),L=R==null?null:R-g;g=R,h&&h({action:c,location:P.location,delta:L})}function N(R,L){c="PUSH";let M=up(P.location,R,L);g=w()+1;let H=jg(M,g),oe=P.createHref(M);try{l.pushState(H,"",oe)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(oe)}a&&h&&h({action:c,location:P.location,delta:1})}function _(R,L){c="REPLACE";let M=up(P.location,R,L);g=w();let H=jg(M,g),oe=P.createHref(M);l.replaceState(H,"",oe),a&&h&&h({action:c,location:P.location,delta:0})}function O(R){return Ay(R)}let P={get action(){return c},get location(){return t(o,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Ag,b),h=R,()=>{o.removeEventListener(Ag,b),h=null}},createHref(R){return e(o,R)},createURL:O,encodeLocation(R){let L=O(R);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:N,replace:_,go(R){return l.go(R)}};return P}function Ay(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),En(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Fc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Hm(t,e,r="/"){return jy(t,e,r,!1)}function jy(t,e,r,i){let o=typeof e=="string"?ec(e):e,a=rl(o.pathname||"/",r);if(a==null)return null;let l=Km(t);Ey(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let g=By(a);c=Fy(l[h],g,i)}return c}function Km(t,e=[],r=[],i=""){let o=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(En(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let g=tl([i,h.relativePath]),w=r.concat(h);a.children&&a.children.length>0&&(En(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Km(a.children,e,w,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:Ry(g,a.index),routesMeta:w})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))o(a,l);else for(let c of Gm(a.path))o(a,l,c)}),e}function Gm(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let l=Gm(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),o&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function Ey(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Dy(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Cy=/^:[\w-]+$/,Py=3,Ly=2,Iy=1,Oy=10,Ty=-2,Eg=t=>t==="*";function Ry(t,e){let r=t.split("/"),i=r.length;return r.some(Eg)&&(i+=Ty),e&&(i+=Ly),r.filter(o=>!Eg(o)).reduce((o,a)=>o+(Cy.test(a)?Py:a===""?Iy:Oy),i)}function Dy(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function Fy(t,e,r=!1){let{routesMeta:i}=t,o={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],g=c===i.length-1,w=a==="/"?e:e.slice(a.length)||"/",b=lh({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},w),N=h.route;if(!b&&g&&r&&!i[i.length-1].route.index&&(b=lh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},w)),!b)return null;Object.assign(o,b.params),l.push({params:o,pathname:tl([a,b.pathname]),pathnameBase:$y(tl([a,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(a=tl([a,b.pathnameBase]))}return l}function lh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=My(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((g,{paramName:w,isOptional:b},N)=>{if(w==="*"){let O=c[N]||"";l=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const _=c[N];return b&&!_?g[w]=void 0:g[w]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:l,pattern:t}}function My(t,e=!1,r=!0){lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function By(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function rl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function qy(t,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof t=="string"?ec(t):t;return{pathname:r?r.startsWith("/")?r:Uy(r,e):e,search:Vy(i),hash:Wy(o)}}function Uy(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Mf(t,e,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zy(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Vp(t){let e=zy(t);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function Wp(t,e,r,i=!1){let o;typeof t=="string"?o=ec(t):(o={...t},En(!o.pathname||!o.pathname.includes("?"),Mf("?","pathname","search",o)),En(!o.pathname||!o.pathname.includes("#"),Mf("#","pathname","hash",o)),En(!o.search||!o.search.includes("#"),Mf("#","search","hash",o)));let a=t===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=r;else{let b=e.length-1;if(!i&&l.startsWith("..")){let N=l.split("/");for(;N[0]==="..";)N.shift(),b-=1;o.pathname=N.join("/")}c=b>=0?e[b]:"/"}let h=qy(o,c),g=l&&l!=="/"&&l.endsWith("/"),w=(a||l===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(g||w)&&(h.pathname+="/"),h}var tl=t=>t.join("/").replace(/\/\/+/g,"/"),$y=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Jm=["POST","PUT","PATCH","DELETE"];new Set(Jm);var Ky=["GET",...Jm];new Set(Ky);var tc=J.createContext(null);tc.displayName="DataRouter";var jh=J.createContext(null);jh.displayName="DataRouterState";J.createContext(!1);var Ym=J.createContext({isTransitioning:!1});Ym.displayName="ViewTransition";var Gy=J.createContext(new Map);Gy.displayName="Fetchers";var Jy=J.createContext(null);Jy.displayName="Await";var co=J.createContext(null);co.displayName="Navigation";var Qc=J.createContext(null);Qc.displayName="Location";var Oo=J.createContext({outlet:null,matches:[],isDataRoute:!1});Oo.displayName="Route";var Hp=J.createContext(null);Hp.displayName="RouteError";function Yy(t,{relative:e}={}){En(rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=J.useContext(co),{hash:o,pathname:a,search:l}=Zc(t,{relative:e}),c=a;return r!=="/"&&(c=a==="/"?r:tl([r,a])),i.createHref({pathname:c,search:l,hash:o})}function rc(){return J.useContext(Qc)!=null}function sl(){return En(rc(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(Qc).location}var Xm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qm(t){J.useContext(co).static||J.useLayoutEffect(t)}function Zm(){let{isDataRoute:t}=J.useContext(Oo);return t?u2():Xy()}function Xy(){En(rc(),"useNavigate() may be used only in the context of a <Router> component.");let t=J.useContext(tc),{basename:e,navigator:r}=J.useContext(co),{matches:i}=J.useContext(Oo),{pathname:o}=sl(),a=JSON.stringify(Vp(i)),l=J.useRef(!1);return Qm(()=>{l.current=!0}),J.useCallback((h,g={})=>{if(lo(l.current,Xm),!l.current)return;if(typeof h=="number"){r.go(h);return}let w=Wp(h,JSON.parse(a),o,g.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:tl([e,w.pathname])),(g.replace?r.replace:r.push)(w,g.state,g)},[e,r,a,o,t])}J.createContext(null);function Zc(t,{relative:e}={}){let{matches:r}=J.useContext(Oo),{pathname:i}=sl(),o=JSON.stringify(Vp(r));return J.useMemo(()=>Wp(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function Qy(t,e){return ev(t,e)}function ev(t,e,r,i){En(rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=J.useContext(co),{matches:a}=J.useContext(Oo),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",g=l?l.pathnameBase:"/",w=l&&l.route;{let L=w&&w.path||"";tv(h,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=sl(),N;if(e){let L=typeof e=="string"?ec(e):e;En(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),N=L}else N=b;let _=N.pathname||"/",O=_;if(g!=="/"){let L=g.replace(/^\//,"").split("/");O="/"+_.replace(/^\//,"").split("/").slice(L.length).join("/")}let P=Hm(t,{pathname:O});lo(w||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),lo(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=n2(P&&P.map(L=>Object.assign({},L,{params:Object.assign({},c,L.params),pathname:tl([g,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:tl([g,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,r,i);return e&&R?J.createElement(Qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},R):R}function Zy(){let t=l2(),e=Hy(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:a},"ErrorBoundary")," or"," ",J.createElement("code",{style:a},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),r?J.createElement("pre",{style:o},r):null,l)}var e2=J.createElement(Zy,null),t2=class extends J.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?J.createElement(Oo.Provider,{value:this.props.routeContext},J.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r2({routeContext:t,match:e,children:r}){let i=J.useContext(tc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(Oo.Provider,{value:t},r)}function n2(t,e=[],r=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=r?.errors;if(a!=null){let h=o.findIndex(g=>g.route.id&&a?.[g.route.id]!==void 0);En(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(r)for(let h=0;h<o.length;h++){let g=o[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=h),g.route.id){let{loaderData:w,errors:b}=r,N=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||N){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,g,w)=>{let b,N=!1,_=null,O=null;r&&(b=a&&g.route.id?a[g.route.id]:void 0,_=g.route.errorElement||e2,l&&(c<0&&w===0?(tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,O=null):c===w&&(N=!0,O=g.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,w+1)),R=()=>{let L;return b?L=_:N?L=O:g.route.Component?L=J.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=h,J.createElement(r2,{match:g,routeContext:{outlet:h,matches:P,isDataRoute:r!=null},children:L})};return r&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?J.createElement(t2,{location:r.location,revalidation:r.revalidation,component:_,error:b,children:R(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):R()},null)}function Kp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i2(t){let e=J.useContext(tc);return En(e,Kp(t)),e}function s2(t){let e=J.useContext(jh);return En(e,Kp(t)),e}function a2(t){let e=J.useContext(Oo);return En(e,Kp(t)),e}function Gp(t){let e=a2(t),r=e.matches[e.matches.length-1];return En(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function o2(){return Gp("useRouteId")}function l2(){let t=J.useContext(Hp),e=s2("useRouteError"),r=Gp("useRouteError");return t!==void 0?t:e.errors?.[r]}function u2(){let{router:t}=i2("useNavigate"),e=Gp("useNavigate"),r=J.useRef(!1);return Qm(()=>{r.current=!0}),J.useCallback(async(o,a={})=>{lo(r.current,Xm),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Cg={};function tv(t,e,r){!e&&!Cg[t]&&(Cg[t]=!0,lo(!1,r))}J.memo(c2);function c2({routes:t,future:e,state:r}){return ev(t,void 0,r,e)}function Pg({to:t,replace:e,state:r,relative:i}){En(rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=J.useContext(co);lo(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=J.useContext(Oo),{pathname:l}=sl(),c=Zm(),h=Wp(t,Vp(a),l,i==="path"),g=JSON.stringify(h);return J.useEffect(()=>{c(JSON.parse(g),{replace:e,state:r,relative:i})},[c,g,i,e,r]),null}function Ec(t){En(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d2({basename:t="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:a=!1}){En(!rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=J.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);typeof r=="string"&&(r=ec(r));let{pathname:h="/",search:g="",hash:w="",state:b=null,key:N="default"}=r,_=J.useMemo(()=>{let O=rl(h,l);return O==null?null:{location:{pathname:O,search:g,hash:w,state:b,key:N},navigationType:i}},[l,h,g,w,b,N,i]);return lo(_!=null,`<Router basename="${l}"> is not able to match the URL "${h}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:J.createElement(co.Provider,{value:c},J.createElement(Qc.Provider,{children:e,value:_}))}function h2({children:t,location:e}){return Qy(cp(t),e)}function cp(t,e=[]){let r=[];return J.Children.forEach(t,(i,o)=>{if(!J.isValidElement(i))return;let a=[...e,o];if(i.type===J.Fragment){r.push.apply(r,cp(i.props.children,a));return}En(i.type===Ec,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),En(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=cp(i.props.children,a)),r.push(l)}),r}var eh="get",th="application/x-www-form-urlencoded";function Eh(t){return t!=null&&typeof t.tagName=="string"}function f2(t){return Eh(t)&&t.tagName.toLowerCase()==="button"}function p2(t){return Eh(t)&&t.tagName.toLowerCase()==="form"}function g2(t){return Eh(t)&&t.tagName.toLowerCase()==="input"}function m2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v2(t,e){return t.button===0&&(!e||e==="_self")&&!m2(t)}var zd=null;function y2(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var w2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bf(t){return t!=null&&!w2.has(t)?(lo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):t}function b2(t,e){let r,i,o,a,l;if(p2(t)){let c=t.getAttribute("action");i=c?rl(c,e):null,r=t.getAttribute("method")||eh,o=Bf(t.getAttribute("enctype"))||th,a=new FormData(t)}else if(f2(t)||g2(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(i=h?rl(h,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||eh,o=Bf(t.getAttribute("formenctype"))||Bf(c.getAttribute("enctype"))||th,a=new FormData(c,t),!y2()){let{name:g,type:w,value:b}=t;if(w==="image"){let N=g?`${g}.`:"";a.append(`${N}x`,"0"),a.append(`${N}y`,"0")}else g&&a.append(g,b)}}else{if(Eh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=eh,i=null,o=th,l=t}return a&&o==="text/plain"&&(l=a,a=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x2(t,e,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${r}`:e&&rl(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function _2(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function S2(t,e,r){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await _2(a,r);return l.links?l.links():[]}return[]}));return E2(i.flat(1).filter(k2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lg(t,e,r,i,o,a){let l=(h,g)=>r[g]?h.route.id!==r[g].route.id:!0,c=(h,g)=>r[g].pathname!==h.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,g)=>l(h,g)||c(h,g)):a==="data"?e.filter((h,g)=>{let w=i.routes[h.route.id];if(!w||!w.hasLoader)return!1;if(l(h,g)||c(h,g))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function N2(t,e,{includeHydrateFallback:r}={}){return A2(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function A2(t){return[...new Set(t)]}function j2(t){let e={},r=Object.keys(t).sort();for(let i of r)e[i]=t[i];return e}function E2(t,e){let r=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(j2(o));return r.has(a)||(r.add(a),i.push({key:a,link:o})),i},[])}function rv(){let t=J.useContext(tc);return Jp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function C2(){let t=J.useContext(jh);return Jp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yp=J.createContext(void 0);Yp.displayName="FrameworkContext";function nv(){let t=J.useContext(Yp);return Jp(t,"You must render this element inside a <HydratedRouter> element"),t}function P2(t,e){let r=J.useContext(Yp),[i,o]=J.useState(!1),[a,l]=J.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:g,onMouseLeave:w,onTouchStart:b}=e,N=J.useRef(null);J.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=L=>{L.forEach(M=>{l(M.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return N.current&&R.observe(N.current),()=>{R.disconnect()}}},[t]),J.useEffect(()=>{if(i){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[i]);let _=()=>{o(!0)},O=()=>{o(!1),l(!1)};return r?t!=="intent"?[a,N,{}]:[a,N,{onFocus:Sc(c,_),onBlur:Sc(h,O),onMouseEnter:Sc(g,_),onMouseLeave:Sc(w,O),onTouchStart:Sc(b,_)}]:[!1,N,{}]}function Sc(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function L2({page:t,...e}){let{router:r}=rv(),i=J.useMemo(()=>Hm(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?J.createElement(O2,{page:t,matches:i,...e}):null}function I2(t){let{manifest:e,routeModules:r}=nv(),[i,o]=J.useState([]);return J.useEffect(()=>{let a=!1;return S2(t,e,r).then(l=>{a||o(l)}),()=>{a=!0}},[t,e,r]),i}function O2({page:t,matches:e,...r}){let i=sl(),{manifest:o,routeModules:a}=nv(),{basename:l}=rv(),{loaderData:c,matches:h}=C2(),g=J.useMemo(()=>Lg(t,e,h,o,i,"data"),[t,e,h,o,i]),w=J.useMemo(()=>Lg(t,e,h,o,i,"assets"),[t,e,h,o,i]),b=J.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let O=new Set,P=!1;if(e.forEach(L=>{let M=o.routes[L.route.id];!M||!M.hasLoader||(!g.some(H=>H.route.id===L.route.id)&&L.route.id in c&&a[L.route.id]?.shouldRevalidate||M.hasClientLoader?P=!0:O.add(L.route.id))}),O.size===0)return[];let R=x2(t,l,"data");return P&&O.size>0&&R.searchParams.set("_routes",e.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[R.pathname+R.search]},[l,c,i,o,g,e,t,a]),N=J.useMemo(()=>N2(w,o),[w,o]),_=I2(w);return J.createElement(J.Fragment,null,b.map(O=>J.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),N.map(O=>J.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),_.map(({key:O,link:P})=>J.createElement("link",{key:O,...P})))}function T2(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iv&&(window.__reactRouterVersion="7.7.0")}catch{}function R2({basename:t,children:e,window:r}){let i=J.useRef();i.current==null&&(i.current=ky({window:r,v5Compat:!0}));let o=i.current,[a,l]=J.useState({action:o.action,location:o.location}),c=J.useCallback(h=>{J.startTransition(()=>l(h))},[l]);return J.useLayoutEffect(()=>o.listen(c),[o,c]),J.createElement(d2,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uh=J.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:a,replace:l,state:c,target:h,to:g,preventScrollReset:w,viewTransition:b,...N},_){let{basename:O}=J.useContext(co),P=typeof g=="string"&&sv.test(g),R,L=!1;if(typeof g=="string"&&P&&(R=g,iv))try{let he=new URL(window.location.href),Re=g.startsWith("//")?new URL(he.protocol+g):new URL(g),V=rl(Re.pathname,O);Re.origin===he.origin&&V!=null?g=V+Re.search+Re.hash:L=!0}catch{lo(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Yy(g,{relative:o}),[H,oe,pe]=P2(i,N),Ee=B2(g,{replace:l,state:c,target:h,preventScrollReset:w,relative:o,viewTransition:b});function ce(he){e&&e(he),he.defaultPrevented||Ee(he)}let G=J.createElement("a",{...N,...pe,href:R||M,onClick:L||a?e:ce,ref:T2(_,oe),target:h,"data-discover":!P&&r==="render"?"true":void 0});return H&&!P?J.createElement(J.Fragment,null,G,J.createElement(L2,{page:M})):G});uh.displayName="Link";var D2=J.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:h,...g},w){let b=Zc(l,{relative:g.relative}),N=sl(),_=J.useContext(jh),{navigator:O,basename:P}=J.useContext(co),R=_!=null&&V2(b)&&c===!0,L=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,M=N.pathname,H=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(M=M.toLowerCase(),H=H?H.toLowerCase():null,L=L.toLowerCase()),H&&P&&(H=rl(H,P)||H);const oe=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let pe=M===L||!o&&M.startsWith(L)&&M.charAt(oe)==="/",Ee=H!=null&&(H===L||!o&&H.startsWith(L)&&H.charAt(L.length)==="/"),ce={isActive:pe,isPending:Ee,isTransitioning:R},G=pe?e:void 0,he;typeof i=="function"?he=i(ce):he=[i,pe?"active":null,Ee?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Re=typeof a=="function"?a(ce):a;return J.createElement(uh,{...g,"aria-current":G,className:he,ref:w,style:Re,to:l,viewTransition:c},typeof h=="function"?h(ce):h)});D2.displayName="NavLink";var F2=J.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:a,method:l=eh,action:c,onSubmit:h,relative:g,preventScrollReset:w,viewTransition:b,...N},_)=>{let O=z2(),P=$2(c,{relative:g}),R=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&sv.test(c),M=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let oe=H.nativeEvent.submitter,pe=oe?.getAttribute("formmethod")||l;O(oe||H.currentTarget,{fetcherKey:e,method:pe,navigate:r,replace:o,state:a,relative:g,preventScrollReset:w,viewTransition:b})};return J.createElement("form",{ref:_,method:R,action:P,onSubmit:i?h:M,...N,"data-discover":!L&&t==="render"?"true":void 0})});F2.displayName="Form";function M2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function av(t){let e=J.useContext(tc);return En(e,M2(t)),e}function B2(t,{target:e,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:l}={}){let c=Zm(),h=sl(),g=Zc(t,{relative:a});return J.useCallback(w=>{if(v2(w,e)){w.preventDefault();let b=r!==void 0?r:Fc(h)===Fc(g);c(t,{replace:b,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[h,c,g,r,i,e,t,o,a,l])}var q2=0,U2=()=>`__${String(++q2)}__`;function z2(){let{router:t}=av("useSubmit"),{basename:e}=J.useContext(co),r=o2();return J.useCallback(async(i,o={})=>{let{action:a,method:l,encType:c,formData:h,body:g}=b2(i,e);if(o.navigate===!1){let w=o.fetcherKey||U2();await t.fetch(w,r,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||l,formEncType:o.encType||c,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||l,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,r])}function $2(t,{relative:e}={}){let{basename:r}=J.useContext(co),i=J.useContext(Oo);En(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Zc(t||".",{relative:e})},l=sl();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(w=>w==="")){c.delete("index"),h.filter(b=>b).forEach(b=>c.append("index",b));let w=c.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:tl([r,a.pathname])),Fc(a)}function V2(t,e={}){let r=J.useContext(Ym);En(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=av("useViewTransitionState"),o=Zc(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=rl(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=rl(r.nextLocation.pathname,i)||r.nextLocation.pathname;return lh(o.pathname,l)!=null||lh(o.pathname,a)!=null}var Cc=Wm();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),yr=(t,e)=>{const r=J.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:h,...g},w)=>J.createElement("svg",{ref:w,...W2,width:o,height:o,stroke:i,strokeWidth:l?Number(a)*24/Number(o):a,className:["lucide",`lucide-${H2(t)}`,c].join(" "),...g},[...e.map(([b,N])=>J.createElement(b,N)),...Array.isArray(h)?h:[h]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=yr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=yr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=yr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=yr("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=yr("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=yr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=yr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=yr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=yr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=yr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=yr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=yr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=yr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=yr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=yr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=yr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=yr("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=yr("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=yr("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=yr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=yr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=yr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=yr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=yr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=yr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=yr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=yr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=yr("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=yr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=yr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=yr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=yr("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=yr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=yr("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=yr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=yr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=yr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=yr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=yr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=yr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=yr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=yr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=yr("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=yr("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=yr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mv=J.createContext(void 0),Zp=()=>{const t=J.useContext(mv);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},u5=({children:t})=>{const[e,r]=J.useState(()=>localStorage.getItem("travelpro-theme")||"light"),[i,o]=J.useState(()=>localStorage.getItem("travelpro-language")||"en");J.useEffect(()=>{localStorage.setItem("travelpro-theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),J.useEffect(()=>{localStorage.setItem("travelpro-language",i),i==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar"):(document.documentElement.dir="ltr",document.documentElement.lang=i)},[i]);const a=c=>{r(c)},l=c=>{o(c)};return v.jsx(mv.Provider,{value:{theme:e,language:i,setTheme:a,setLanguage:l},children:t})},Rg={en:{welcome:"Welcome to Agence de Voyage!",dashboard:"Dashboard",settings:"Settings",save:"Save",cancel:"Cancel",close:"Close",loading:"Loading...",error:"Error",success:"Success",agentDashboard:"Agent Dashboard",createInvoice:"Create Invoice",createAndManage:"Create and manage client invoices efficiently",todaysActivity:"Today's Activity",performance:"Performance",quickTip:"Quick Tip",recentInvoices:"Your Recent Invoices",readyToStart:"Ready to get started?",createFirstInvoice:"Create your first invoice to begin tracking your client billing.",createYourFirst:"Create Your First Invoice",createNewInvoice:"Create New Invoice",fillDetails:"Fill in the details to generate an invoice for your client",clientInformation:"Client Information",clientName:"Client Name",emailAddress:"Email Address",phoneNumber:"Phone Number",dueDate:"Due Date",address:"Address",servicesItems:"Services & Items",addItem:"Add Item",serviceDescription:"Service/Description",quantity:"Quantity",unitPrice:"Unit Price",total:"Total",invoiceSummary:"Invoice Summary",subtotal:"Subtotal",tax:"Tax",currency:"DH",additionalNotes:"Additional Notes",saveAsDraft:"Save as Draft",createAndSend:"Create & Send",umrahDetails:"Umrah Details",travelInfo:"Travel and accommodation information",passportNumber:"Passport Number",flightNumber:"Flight Number",departureDate:"Departure Date",roomType:"Room Type",visaStatus:"Visa Status",gender:"Gender",male:"Male",female:"Female",double:"Double",triple:"Triple",quad:"Quad",quint:"Quint",visaPending:"Pending",visaIssued:"Issued",scanPassport:"Scan ",scanning:"Scanning...",dateOfBirth:"Date of Birth",ocrError:"Failed to scan . Please try again.",settingsTitle:"Settings",appearance:"Appearance",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode",language:"Language",selectLanguage:"Select Language",english:"English",arabic:"",french:"Franais",chinese:"",draft:"Draft",sent:"Sent",paid:"Paid",overdue:"Overdue",totalRevenue:"Total Revenue",totalInvoices:"Total Invoices",pending:"Pending",followUpTip:"Follow up on pending invoices within 3 days to improve your collection rate and maintain good client relationships."},ar:{welcome:"    !",dashboard:" ",settings:"",save:"",cancel:"",close:"",loading:" ...",error:"",success:"",agentDashboard:"  ",createInvoice:" ",createAndManage:"    ",todaysActivity:" ",performance:"",quickTip:" ",recentInvoices:" ",readyToStart:" ",createFirstInvoice:"      .",createYourFirst:"  ",createNewInvoice:"  ",fillDetails:"    ",clientInformation:" ",clientName:" ",emailAddress:"  ",phoneNumber:" ",dueDate:" ",address:"",servicesItems:" ",addItem:" ",serviceDescription:"/",quantity:"",unitPrice:" ",total:"",invoiceSummary:" ",subtotal:" ",tax:"",currency:"",additionalNotes:" ",saveAsDraft:" ",createAndSend:" ",umrahDetails:" ",travelInfo:"  ",passportNumber:" ",flightNumber:" ",departureDate:" ",roomType:" ",visaStatus:" ",gender:"",male:"",female:"",double:"",triple:"",quad:"",quint:"",visaPending:" ",visaIssued:"",scanPassport:" ",scanning:" ...",dateOfBirth:" ",ocrError:"  .   .",settingsTitle:"",appearance:"",theme:"",lightMode:" ",darkMode:" ",language:"",selectLanguage:" ",english:"English",arabic:"",french:"Franais",chinese:"",draft:"",sent:"",paid:"",overdue:"",totalRevenue:" ",totalInvoices:" ",pending:"",followUpTip:"    3          ."},fr:{welcome:"Bienvenue chez Agence de Voyage!",dashboard:"Tableau de bord",settings:"Paramtres",save:"Enregistrer",cancel:"Annuler",close:"Fermer",loading:"Chargement...",error:"Erreur",success:"Succs",agentDashboard:"Tableau de bord Agent",createInvoice:"Crer une facture",createAndManage:"Crer et grer efficacement les factures clients",todaysActivity:"Activit d'aujourd'hui",performance:"Performance",quickTip:"Conseil rapide",recentInvoices:"Vos factures rcentes",readyToStart:"Prt  commencer?",createFirstInvoice:"Crez votre premire facture pour commencer  suivre la facturation client.",createYourFirst:"Crez votre premire facture",createNewInvoice:"Crer une nouvelle facture",fillDetails:"Remplissez les dtails pour gnrer une facture pour votre client",clientInformation:"Informations client",clientName:"Nom du client",emailAddress:"Adresse e-mail",phoneNumber:"Numro de tlphone",dueDate:"Date d'chance",address:"Adresse",servicesItems:"Services et articles",addItem:"Ajouter un article",serviceDescription:"Service/Description",quantity:"Quantit",unitPrice:"Prix unitaire",total:"Total",invoiceSummary:"Rsum de la facture",subtotal:"Sous-total",tax:"Taxe",currency:"DH",additionalNotes:"Notes supplmentaires",saveAsDraft:"Enregistrer comme brouillon",createAndSend:"Crer et envoyer",umrahDetails:"Dtails de l'Umrah",travelInfo:"Informations de voyage et d'hbergement",passportNumber:"Numro de passeport",flightNumber:"Numro de vol",departureDate:"Date de dpart",roomType:"Type de chambre",visaStatus:"Statut du visa",gender:"Genre",male:"Homme",female:"Femme",double:"Double",triple:"Triple",quad:"Quad",quint:"Quint",visaPending:"En attente",visaIssued:"Dlivr",scanPassport:"Scanner le passeport",scanning:"Numrisation...",dateOfBirth:"Date de naissance",ocrError:"chec de la numrisation du passeport. Veuillez ressayer.",settingsTitle:"Paramtres",appearance:"Apparence",theme:"Thme",lightMode:"Mode clair",darkMode:"Mode sombre",language:"Langue",selectLanguage:"Slectionner la langue",english:"English",arabic:"",french:"Franais",chinese:"",draft:"Brouillon",sent:"Envoy",paid:"Pay",overdue:"En retard",totalRevenue:"Revenus totaux",totalInvoices:"Total des factures",pending:"En attente",followUpTip:"Suivez les factures en attente dans les 3 jours pour amliorer votre taux de recouvrement et maintenir de bonnes relations clients."},zh:{welcome:"",dashboard:"",settings:"",save:"",cancel:"",close:"",loading:"...",error:"",success:"",agentDashboard:"",createInvoice:"",createAndManage:"",todaysActivity:"",performance:"",quickTip:"",recentInvoices:"",readyToStart:"",createFirstInvoice:"",createYourFirst:"",createNewInvoice:"",fillDetails:"",clientInformation:"",clientName:"",emailAddress:"",phoneNumber:"",dueDate:"",address:"",servicesItems:"",addItem:"",serviceDescription:"/",quantity:"",unitPrice:"",total:"",invoiceSummary:"",subtotal:"",tax:"",currency:"",additionalNotes:"",saveAsDraft:"",createAndSend:"",umrahDetails:"",travelInfo:"",passportNumber:"",flightNumber:"",departureDate:"",roomType:"",visaStatus:"",gender:"",male:"",female:"",double:"",triple:"",quad:"",quint:"",visaPending:"",visaIssued:"",scanPassport:"",scanning:"...",dateOfBirth:"",ocrError:"",settingsTitle:"",appearance:"",theme:"",lightMode:"",darkMode:"",language:"",selectLanguage:"",english:"English",arabic:"",french:"Franais",chinese:"",draft:"",sent:"",paid:"",overdue:"",totalRevenue:"",totalInvoices:"",pending:"",followUpTip:"3"}},e0=t=>({t:e=>Rg[t][e]||Rg.en[e]||e}),c5=({isOpen:t,onClose:e})=>{const{theme:r,language:i,setTheme:o,setLanguage:a}=Zp(),{t:l}=e0(i);if(!t)return null;const c=[{code:"en",name:"English",nativeName:"English"},{code:"ar",name:"Arabic",nativeName:""},{code:"fr",name:"French",nativeName:"Franais"},{code:"zh",name:"Chinese",nativeName:""}];return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg",children:v.jsx(Ig,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),v.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l("settingsTitle")})]}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-2 rounded-lg transition-colors duration-200",children:v.jsx(Lh,{className:"h-5 w-5"})})]}),v.jsxs("div",{className:"p-6 space-y-8",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[v.jsx(Tg,{className:"h-5 w-5 text-yellow-500"}),v.jsx("span",{children:l("appearance")})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("theme")}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx("button",{onClick:()=>o("light"),className:`p-4 rounded-lg border-2 transition-all duration-200 ${r==="light"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:v.jsx(Tg,{className:"h-4 w-4 text-yellow-600"})}),v.jsxs("div",{className:"text-left",children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l("lightMode")}),r==="light"&&v.jsx(qf,{className:"h-4 w-4 text-blue-500 mt-1"})]})]})}),v.jsx("button",{onClick:()=>o("dark"),className:`p-4 rounded-lg border-2 transition-all duration-200 ${r==="dark"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-full",children:v.jsx(t5,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})}),v.jsxs("div",{className:"text-left",children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l("darkMode")}),r==="dark"&&v.jsx(qf,{className:"h-4 w-4 text-blue-500 mt-1"})]})]})})]})]})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[v.jsx(Ig,{className:"h-5 w-5 text-blue-500"}),v.jsx("span",{children:l("language")})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("selectLanguage")}),v.jsx("div",{className:"space-y-2",children:c.map(h=>v.jsx("button",{onClick:()=>a(h.code),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${i===h.code?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:h.nativeName}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.name})]}),i===h.code&&v.jsx(qf,{className:"h-5 w-5 text-blue-500"})]})},h.code))})]})]})]}),v.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:v.jsx("button",{onClick:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors duration-200",children:l("close")})})]})})},el=({children:t,title:e,userType:r,userName:i,onLogout:o,onSignOut:a})=>{const[l,c]=J.useState(!1),{theme:h,language:g}=Zp(),{t:w}=e0(g),b=a||o;return v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[v.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:r==="director"?"#7c3aed":"#03989e"},children:v.jsx(dh,{className:"h-6 w-6 text-white"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Agence de Voyage"}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-full",children:v.jsx(du,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),v.jsxs("div",{className:"hidden sm:block",children:[v.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i||(r==="agent"?"Agent Portal":"Director Dashboard")}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r==="agent"?"Travel Agent":"Director"})]})]}),v.jsx("button",{onClick:()=>c(!0),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",title:w("settings"),children:v.jsx(i5,{className:"h-5 w-5"})}),b&&v.jsx("button",{onClick:b,className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",title:r==="director"?"Logout":"Sign Out",children:v.jsx(Xp,{className:"h-5 w-5"})})]})]})})}),v.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),v.jsx(c5,{isOpen:l,onClose:()=>c(!1)})]})},d5=()=>{const t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),o=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`INV-${e}${r}${i}-${o}`},h5=(t,e)=>t*e,f5=t=>t.reduce((e,r)=>e+r.total,0),p5=(t,e=0)=>t*e,g5=(t,e)=>t+e,Zn=t=>new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD",currencyDisplay:"code"}).format(t).replace("MAD","DH"),Dl=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),vv=t=>{switch(t){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"paid":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Dg=0,m5=["Flight Booking","Hotel Reservation","Car Rental","Travel Insurance","Visa Processing","Tour Package","Airport Transfer","Travel Consultation","Group Booking","Cruise Booking","Desert Safari","Atlas Mountains Trek","Marrakech City Tour","Casablanca Tour","Fes Cultural Tour","Chefchaouen Day Trip","Sahara Desert Tour","Essaouira Excursion"],v5="AIzaSyDB4EEBC-iAoWSttL9hKC3LfoctV1Z_AzY",y5="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite-preview-09-2025:generateContent",w5=async t=>{const e=t.match(/^data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+);base64,(.+)$/);if(!e)throw new Error("Invalid image format. Please upload a valid image file.");const r=e[1],i=e[2],o={contents:[{parts:[{text:"Extract ALL relevant details from this image to fill an invoice form. Return a JSON object with these keys: passportNumber, name (full name), dateOfBirth (YYYY-MM-DD), gender (Male/Female), nationality, address (if available), flightNumber (if available), departureDate (YYYY-MM-DD, if available). Also infer logical defaults if possible: visaStatus ('Issued' if visa is visible, else 'Pending'). Return ONLY the JSON object, no markdown."},{inline_data:{mime_type:r,data:i}}]}]};try{const a=await fetch(`${y5}?key=${v5}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!a.ok){const g=await a.json();console.error("Gemini API Error Detail:",g);const w=g.error?.message||a.statusText||"Unknown Error";throw new Error(`Gemini API Error (${a.status}): ${w}`)}const c=(await a.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!c)throw new Error("No text extracted from the image");const h=c.replace(/```json/g,"").replace(/```/g,"").trim();try{const g=JSON.parse(h);return{passportNumber:g.passportNumber,name:g.name,dateOfBirth:g.dateOfBirth,gender:g.gender==="M"?"Male":g.gender==="F"?"Female":g.gender,nationality:g.nationality,address:g.address,flightNumber:g.flightNumber,departureDate:g.departureDate,visaStatus:g.visaStatus}}catch{throw console.error("Failed to parse Gemini response:",c),new Error("Failed to parse extracted passport data")}}catch(a){throw console.error("OCR Error:",a),a}};let b5={data:""},x5=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||b5,_5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,k5=/\/\*[^]*?\*\/|  +/g,Fg=/\n+/g,Il=(t,e)=>{let r="",i="",o="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":i+=a[1]=="f"?Il(l,a):a+"{"+Il(l,a[1]=="k"?"":e)+"}":typeof l=="object"?i+=Il(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,c):c?c+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Il.p?Il.p(a,l):a+":"+l+";")}return r+(e&&o?e+"{"+o+"}":o)+i},Xo={},yv=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+yv(t[r]);return e}return t},S5=(t,e,r,i,o)=>{let a=yv(t),l=Xo[a]||(Xo[a]=(h=>{let g=0,w=11;for(;g<h.length;)w=101*w+h.charCodeAt(g++)>>>0;return"go"+w})(a));if(!Xo[l]){let h=a!==t?t:(g=>{let w,b,N=[{}];for(;w=_5.exec(g.replace(k5,""));)w[4]?N.shift():w[3]?(b=w[3].replace(Fg," ").trim(),N.unshift(N[0][b]=N[0][b]||{})):N[0][w[1]]=w[2].replace(Fg," ").trim();return N[0]})(t);Xo[l]=Il(o?{["@keyframes "+l]:h}:h,r?"":"."+l)}let c=r&&Xo.g?Xo.g:null;return r&&(Xo.g=Xo[l]),((h,g,w,b)=>{b?g.data=g.data.replace(b,h):g.data.indexOf(h)===-1&&(g.data=w?h+g.data:g.data+h)})(Xo[l],e,i,c),l},N5=(t,e,r)=>t.reduce((i,o,a)=>{let l=e[a];if(l&&l.call){let c=l(r),h=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=h?"."+h:c&&typeof c=="object"?c.props?"":Il(c,""):c===!1?"":c}return i+o+(l??"")},"");function Ih(t){let e=this||{},r=t.call?t(e.p):t;return S5(r.unshift?r.raw?N5(r,[].slice.call(arguments,1),e.p):r.reduce((i,o)=>Object.assign(i,o&&o.call?o(e.p):o),{}):r,x5(e.target),e.g,e.o,e.k)}let wv,fp,pp;Ih.bind({g:1});let nl=Ih.bind({k:1});function A5(t,e,r,i){Il.p=e,wv=t,fp=r,pp=i}function Bl(t,e){let r=this||{};return function(){let i=arguments;function o(a,l){let c=Object.assign({},a),h=c.className||o.className;r.p=Object.assign({theme:fp&&fp()},c),r.o=/ *go\d+/.test(h),c.className=Ih.apply(r,i)+(h?" "+h:"");let g=t;return t[0]&&(g=c.as||t,delete c.as),pp&&g[0]&&pp(c),wv(g,c)}return o}}var j5=t=>typeof t=="function",gp=(t,e)=>j5(t)?t(e):t,E5=(()=>{let t=0;return()=>(++t).toString()})(),C5=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),P5=20,bv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,P5)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return bv(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},L5=[],Uf={toasts:[],pausedAt:void 0},t0=t=>{Uf=bv(Uf,t),L5.forEach(e=>{e(Uf)})},I5=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||E5()}),td=t=>(e,r)=>{let i=I5(e,t,r);return t0({type:2,toast:i}),i.id},ua=(t,e)=>td("blank")(t,e);ua.error=td("error");ua.success=td("success");ua.loading=td("loading");ua.custom=td("custom");ua.dismiss=t=>{t0({type:3,toastId:t})};ua.remove=t=>t0({type:4,toastId:t});ua.promise=(t,e,r)=>{let i=ua.loading(e.loading,{...r,...r?.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let a=e.success?gp(e.success,o):void 0;return a?ua.success(a,{id:i,...r,...r?.success}):ua.dismiss(i),o}).catch(o=>{let a=e.error?gp(e.error,o):void 0;a?ua.error(a,{id:i,...r,...r?.error}):ua.dismiss(i)}),t};var O5=nl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,T5=nl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R5=nl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,D5=Bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${T5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${R5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,F5=nl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,M5=Bl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${F5} 1s linear infinite;
`,B5=nl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q5=nl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,U5=Bl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${B5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,z5=Bl("div")`
  position: absolute;
`,$5=Bl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,V5=nl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,W5=Bl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${V5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,H5=({toast:t})=>{let{icon:e,type:r,iconTheme:i}=t;return e!==void 0?typeof e=="string"?J.createElement(W5,null,e):e:r==="blank"?null:J.createElement($5,null,J.createElement(M5,{...i}),r!=="loading"&&J.createElement(z5,null,r==="error"?J.createElement(D5,{...i}):J.createElement(U5,{...i})))},K5=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,G5=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,J5="0%{opacity:0;} 100%{opacity:1;}",Y5="0%{opacity:1;} 100%{opacity:0;}",X5=Bl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Q5=Bl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Z5=(t,e)=>{let r=t.includes("top")?1:-1,[i,o]=C5()?[J5,Y5]:[K5(r),G5(r)];return{animation:e?`${nl(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nl(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};J.memo(({toast:t,position:e,style:r,children:i})=>{let o=t.height?Z5(t.position||e||"top-center",t.visible):{opacity:0},a=J.createElement(H5,{toast:t}),l=J.createElement(Q5,{...t.ariaProps},gp(t.message,t));return J.createElement(X5,{className:t.className,style:{...o,...r,...t.style}},typeof i=="function"?i({icon:a,message:l}):J.createElement(J.Fragment,null,a,l))});A5(J.createElement);Ih`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Mg=ua;const zf=t=>{if(!t)return"";try{const e=new Date(t);return isNaN(e.getTime())?"":e.toISOString().split("T")[0]}catch{return""}},mp=({onSave:t,onCancel:e,currentAgent:r,editingInvoice:i})=>{const{language:o}=Zp(),{t:a}=e0(o),l=J.useRef(null),[c,h]=J.useState(!1),[g,w]=J.useState({id:i?.client?.id||"",name:i?.client?.name||i?.clientName||"",email:i?.client?.email||i?.clientEmail||"",phone:i?.client?.phone||"",address:i?.client?.address||"",passportNumber:i?.client?.passportNumber||"",gender:i?.client?.gender,dateOfBirth:i?.client?.dateOfBirth||""}),[b,N]=J.useState(i?.items||[{id:Date.now().toString(),description:"",quantity:1,unitPrice:0,total:0,invoiceId:""}]),[_,O]=J.useState(zf(i?.dueDate||i?.createdAt)),[P,R]=J.useState(i?.notes||""),[L,M]=J.useState(i?.passportNumber||""),[H,oe]=J.useState(i?.gender),[pe,Ee]=J.useState(i?.flightNumber||""),[ce,G]=J.useState(i?.roomType||"Double"),[he,Re]=J.useState(i?.visaStatus||"Pending"),[V,Y]=J.useState(zf(i?.departureDate)),[fe,re]=J.useState(zf(i?.dateOfBirth)),qe=async $=>{const X=$.target.files?.[0];if(!X)return;h(!0);const ie=new FileReader;ie.onloadend=async()=>{try{const de=ie.result,xe=await w5(de);xe.name&&w(Oe=>({...Oe,name:xe.name})),xe.passportNumber&&(w(Oe=>({...Oe,passportNumber:xe.passportNumber})),M(xe.passportNumber)),xe.gender&&(w(Oe=>({...Oe,gender:xe.gender})),oe(xe.gender)),xe.dateOfBirth&&(w(Oe=>({...Oe,dateOfBirth:xe.dateOfBirth})),re(xe.dateOfBirth)),xe.address&&w(Oe=>({...Oe,address:xe.address})),xe.flightNumber&&Ee(xe.flightNumber),xe.departureDate&&Y(xe.departureDate),xe.visaStatus&&Re(xe.visaStatus),Mg.success("Passport details extracted successfully!")}catch(de){console.error("OCR Error:",de),Mg.error(de.message||a("ocrError"))}finally{h(!1),l.current&&(l.current.value="")}},ie.readAsDataURL(X)},Be=()=>{N([...b,{id:Date.now().toString(),description:"",quantity:1,unitPrice:0,total:0,invoiceId:""}])},me=$=>{b.length>1&&N(b.filter(X=>X.id!==$))},te=($,X,ie)=>{N(b.map(de=>{if(de.id===$){const xe={...de,[X]:ie};return(X==="quantity"||X==="unitPrice")&&(xe.total=h5(xe.quantity,xe.unitPrice)),xe}return de}))},ye=f5(b),be=p5(ye,Dg),se=g5(ye,be),I=$=>{if(!g.name||!g.email){alert("Please fill in required client information");return}if(b.some(ie=>!ie.description||!ie.quantity||!ie.unitPrice)){alert("Please complete all item details");return}const X={...i?.id?{id:i.id}:{},invoiceNumber:i?.invoiceNumber||d5(),client:{...g,...i?.client?.id?{id:i.client.id}:{}},agentId:r?.id||i?.agentId||"",agentName:r?.name||i?.agentName||"Unknown Agent",items:b,subtotal:ye,tax:be,total:se,status:$,createdAt:i?.createdAt||new Date().toISOString(),dueDate:_,notes:P,passportNumber:L,gender:H,flightNumber:pe,roomType:ce,visaStatus:he,departureDate:V,dateOfBirth:fe};t(X)};return v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i?o==="ar"?" ":"Edit Invoice":a("createInvoice")}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200",children:v.jsx(fh,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8",children:[v.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[v.jsx(du,{className:"w-5 h-5 text-[#03989e]"}),"Client Information"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Name *"}),v.jsx("input",{type:"text",value:g.name,onChange:$=>w({...g,name:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"},placeholder:"Enter client name"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),v.jsx("input",{type:"email",value:g.email,onChange:$=>w({...g,email:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"},placeholder:"client@example.com"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),v.jsx("input",{type:"tel",value:g.phone,onChange:$=>w({...g,phone:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"},placeholder:"+1 (555) 000-0000"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),v.jsx("input",{type:"text",value:g.address,onChange:$=>w({...g,address:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"},placeholder:"Enter address"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date *"}),v.jsx("input",{type:"date",value:_,onChange:$=>O($.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"}})]})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[v.jsx(dh,{className:"w-5 h-5 text-[#03989e]"}),a("umrahDetails")]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"file",ref:l,onChange:qe,accept:"image/*",className:"hidden"}),v.jsx("button",{onClick:()=>l.current?.click(),disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-[#03989e] text-white rounded-lg hover:bg-[#02868b] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?v.jsxs(v.Fragment,{children:[v.jsx(pv,{className:"w-4 h-4 animate-spin"}),a("scanning")]}):v.jsxs(v.Fragment,{children:[v.jsx(n5,{className:"w-4 h-4"}),a("scanPassport")]})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("passportNumber")}),v.jsxs("div",{className:"relative",children:[v.jsx(Mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsx("input",{type:"text",value:L,onChange:$=>M($.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"},placeholder:a("passportNumber")})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("gender")}),v.jsxs("div",{className:"flex gap-4 h-[50px] items-center",children:[v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"gender",value:"Male",checked:H==="Male",onChange:$=>oe($.target.value),className:"w-4 h-4 text-[#03989e] focus:ring-[#03989e]"}),v.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a("male")})]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"radio",name:"gender",value:"Female",checked:H==="Female",onChange:$=>oe($.target.value),className:"w-4 h-4 text-[#03989e] focus:ring-[#03989e]"}),v.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:a("female")})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("dateOfBirth")}),v.jsxs("div",{className:"relative",children:[v.jsx(Rl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsx("input",{type:"date",value:fe,onChange:$=>re($.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"}})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("flightNumber")}),v.jsxs("div",{className:"relative",children:[v.jsx(dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsx("input",{type:"text",value:pe,onChange:$=>Ee($.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"},placeholder:"SVW123"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("roomType")}),v.jsxs("div",{className:"relative",children:[v.jsx(lv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsxs("select",{value:ce,onChange:$=>G($.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white appearance-none",style:{"--tw-ring-color":"#03989e"},children:[v.jsx("option",{value:"Double",children:a("double")}),v.jsx("option",{value:"Triple",children:a("triple")}),v.jsx("option",{value:"Quad",children:a("quad")}),v.jsx("option",{value:"Quint",children:a("quint")})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("visaStatus")}),v.jsxs("div",{className:"relative",children:[v.jsx(Mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsxs("select",{value:he,onChange:$=>Re($.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white appearance-none",style:{"--tw-ring-color":"#03989e"},children:[v.jsx("option",{value:"Pending",children:a("visaPending")}),v.jsx("option",{value:"Issued",children:a("visaIssued")})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("departureDate")}),v.jsxs("div",{className:"relative",children:[v.jsx(Rl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsx("input",{type:"date",value:V,onChange:$=>Y($.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"}})]})]})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Services & Items"}),v.jsxs("button",{onClick:Be,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",style:{backgroundColor:"#03989e"},onMouseEnter:$=>{$.currentTarget.style.backgroundColor="#027a7f"},onMouseLeave:$=>{$.currentTarget.style.backgroundColor="#03989e"},children:[v.jsx(hh,{className:"h-4 w-4"}),v.jsx("span",{children:"Add Item"})]})]}),v.jsx("div",{className:"space-y-4",children:b.map($=>v.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end",children:[v.jsxs("div",{className:"md:col-span-5",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service/Description *"}),v.jsxs("select",{value:$.description||"",onChange:X=>te($.id,"description",X.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"},children:[v.jsx("option",{value:"",children:"Select a service"}),m5.map(X=>v.jsx("option",{value:X,children:X},X))]})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quantity *"}),v.jsx("input",{type:"number",min:"1",value:$.quantity??0,onChange:X=>te($.id,"quantity",parseInt(X.target.value)||1),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"}})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Unit Price *"}),v.jsx("input",{type:"number",min:"0",step:"0.01",value:$.unitPrice??0,onChange:X=>te($.id,"unitPrice",parseFloat(X.target.value)||0),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"}})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total"}),v.jsx("div",{className:"px-4 py-3 bg-gray-100 dark:bg-gray-600 rounded-lg text-gray-900 dark:text-white font-medium",children:Zn($.total||0)})]}),v.jsx("div",{className:"md:col-span-1",children:v.jsx("button",{onClick:()=>me($.id),disabled:b.length===1,className:"w-full p-3 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:v.jsx(fh,{className:"h-4 w-4 mx-auto"})})})]})},$.id))})]}),v.jsx("div",{className:"mb-8",children:v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg",children:[v.jsx("div",{className:"flex justify-between items-center mb-4",children:v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Invoice Summary"})}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),v.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zn(ye)})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",(Dg*100).toFixed(0),"%):"]}),v.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zn(be)})]}),v.jsx("div",{className:"border-t dark:border-gray-600 pt-3",children:v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total:"}),v.jsx("span",{className:"text-lg font-bold",style:{color:"#03989e"},children:Zn(se)})]})})]})]})}),v.jsxs("div",{className:"mb-8",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),v.jsx("textarea",{value:P,onChange:$=>R($.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:border-transparent transition-all duration-200 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",style:{"--tw-ring-color":"#03989e"},placeholder:"Add any additional notes or terms..."})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-end",children:[v.jsx("button",{onClick:e,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:"Cancel"}),v.jsxs("button",{onClick:()=>I("draft"),className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200",children:[v.jsx(Ph,{className:"h-4 w-4"}),v.jsx("span",{children:i?"Update as Draft":"Save as Draft"})]}),v.jsxs("button",{onClick:()=>I("sent"),className:"px-6 py-3 text-white rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200",style:{backgroundColor:"#03989e"},onMouseEnter:$=>{$.currentTarget.style.backgroundColor="#027a7f"},onMouseLeave:$=>{$.currentTarget.style.backgroundColor="#03989e"},children:[v.jsx(Qp,{className:"h-4 w-4"}),v.jsx("span",{children:i?"Update & Send":"Create & Send"})]})]})]})},ew="modulepreload",tw=function(t){return"/"+t},Bg={},qc=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){let h=function(g){return Promise.all(g.map(w=>Promise.resolve(w).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=h(r.map(g=>{if(g=tw(g),g in Bg)return;Bg[g]=!0;const w=g.endsWith(".css"),b=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const N=document.createElement("link");if(N.rel=w?"stylesheet":ew,w||(N.as="script"),N.crossOrigin="",N.href=g,c&&N.setAttribute("nonce",c),document.head.appendChild(N),w)return new Promise((_,O)=>{N.addEventListener("load",_),N.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function en(t){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(t)}var ls=Uint8Array,da=Uint16Array,r0=Int32Array,Oh=new ls([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Th=new ls([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vp=new ls([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xv=function(t,e){for(var r=new da(31),i=0;i<31;++i)r[i]=e+=1<<t[i-1];for(var o=new r0(r[30]),i=1;i<30;++i)for(var a=r[i];a<r[i+1];++a)o[a]=a-r[i]<<5|i;return{b:r,r:o}},_v=xv(Oh,2),kv=_v.b,yp=_v.r;kv[28]=258,yp[258]=28;var Sv=xv(Th,0),rw=Sv.b,qg=Sv.r,wp=new da(32768);for(var Nn=0;Nn<32768;++Nn){var El=(Nn&43690)>>1|(Nn&21845)<<1;El=(El&52428)>>2|(El&13107)<<2,El=(El&61680)>>4|(El&3855)<<4,wp[Nn]=((El&65280)>>8|(El&255)<<8)>>1}var Io=function(t,e,r){for(var i=t.length,o=0,a=new da(e);o<i;++o)t[o]&&++a[t[o]-1];var l=new da(e);for(o=1;o<e;++o)l[o]=l[o-1]+a[o-1]<<1;var c;if(r){c=new da(1<<e);var h=15-e;for(o=0;o<i;++o)if(t[o])for(var g=o<<4|t[o],w=e-t[o],b=l[t[o]-1]++<<w,N=b|(1<<w)-1;b<=N;++b)c[wp[b]>>h]=g}else for(c=new da(i),o=0;o<i;++o)t[o]&&(c[o]=wp[l[t[o]-1]++]>>15-t[o]);return c},Fl=new ls(288);for(var Nn=0;Nn<144;++Nn)Fl[Nn]=8;for(var Nn=144;Nn<256;++Nn)Fl[Nn]=9;for(var Nn=256;Nn<280;++Nn)Fl[Nn]=7;for(var Nn=280;Nn<288;++Nn)Fl[Nn]=8;var Uc=new ls(32);for(var Nn=0;Nn<32;++Nn)Uc[Nn]=5;var nw=Io(Fl,9,0),iw=Io(Fl,9,1),sw=Io(Uc,5,0),aw=Io(Uc,5,1),$f=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},ro=function(t,e,r){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&r},Vf=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},n0=function(t){return(t+7)/8|0},Nv=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ls(t.subarray(e,r))},ow=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],so=function(t,e,r){var i=new Error(e||ow[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,so),!r)throw i;return i},lw=function(t,e,r,i){var o=t.length,a=0;if(!o||e.f&&!e.l)return r||new ls(0);var l=!r,c=l||e.i!=2,h=e.i;l&&(r=new ls(o*3));var g=function(st){var it=r.length;if(st>it){var bt=new ls(Math.max(it*2,st));bt.set(r),r=bt}},w=e.f||0,b=e.p||0,N=e.b||0,_=e.l,O=e.d,P=e.m,R=e.n,L=o*8;do{if(!_){w=ro(t,b,1);var M=ro(t,b+1,3);if(b+=3,M)if(M==1)_=iw,O=aw,P=9,R=5;else if(M==2){var Ee=ro(t,b,31)+257,ce=ro(t,b+10,15)+4,G=Ee+ro(t,b+5,31)+1;b+=14;for(var he=new ls(G),Re=new ls(19),V=0;V<ce;++V)Re[vp[V]]=ro(t,b+V*3,7);b+=ce*3;for(var Y=$f(Re),fe=(1<<Y)-1,re=Io(Re,Y,1),V=0;V<G;){var qe=re[ro(t,b,fe)];b+=qe&15;var H=qe>>4;if(H<16)he[V++]=H;else{var Be=0,me=0;for(H==16?(me=3+ro(t,b,3),b+=2,Be=he[V-1]):H==17?(me=3+ro(t,b,7),b+=3):H==18&&(me=11+ro(t,b,127),b+=7);me--;)he[V++]=Be}}var te=he.subarray(0,Ee),ye=he.subarray(Ee);P=$f(te),R=$f(ye),_=Io(te,P,1),O=Io(ye,R,1)}else so(1);else{var H=n0(b)+4,oe=t[H-4]|t[H-3]<<8,pe=H+oe;if(pe>o){h&&so(0);break}c&&g(N+oe),r.set(t.subarray(H,pe),N),e.b=N+=oe,e.p=b=pe*8,e.f=w;continue}if(b>L){h&&so(0);break}}c&&g(N+131072);for(var be=(1<<P)-1,se=(1<<R)-1,I=b;;I=b){var Be=_[Vf(t,b)&be],$=Be>>4;if(b+=Be&15,b>L){h&&so(0);break}if(Be||so(2),$<256)r[N++]=$;else if($==256){I=b,_=null;break}else{var X=$-254;if($>264){var V=$-257,ie=Oh[V];X=ro(t,b,(1<<ie)-1)+kv[V],b+=ie}var de=O[Vf(t,b)&se],xe=de>>4;de||so(3),b+=de&15;var ye=rw[xe];if(xe>3){var ie=Th[xe];ye+=Vf(t,b)&(1<<ie)-1,b+=ie}if(b>L){h&&so(0);break}c&&g(N+131072);var Oe=N+X;if(N<ye){var ge=a-ye,rt=Math.min(ye,Oe);for(ge+N<0&&so(3);N<rt;++N)r[N]=i[ge+N]}for(;N<Oe;++N)r[N]=r[N-ye]}}e.l=_,e.p=I,e.b=N,e.f=w,_&&(w=1,e.m=P,e.d=O,e.n=R)}while(!w);return N!=r.length&&l?Nv(r,0,N):r.subarray(0,N)},Qo=function(t,e,r){r<<=e&7;var i=e/8|0;t[i]|=r,t[i+1]|=r>>8},Nc=function(t,e,r){r<<=e&7;var i=e/8|0;t[i]|=r,t[i+1]|=r>>8,t[i+2]|=r>>16},Wf=function(t,e){for(var r=[],i=0;i<t.length;++i)t[i]&&r.push({s:i,f:t[i]});var o=r.length,a=r.slice();if(!o)return{t:jv,l:0};if(o==1){var l=new ls(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(pe,Ee){return pe.f-Ee.f}),r.push({s:-1,f:25001});var c=r[0],h=r[1],g=0,w=1,b=2;for(r[0]={s:-1,f:c.f+h.f,l:c,r:h};w!=o-1;)c=r[r[g].f<r[b].f?g++:b++],h=r[g!=w&&r[g].f<r[b].f?g++:b++],r[w++]={s:-1,f:c.f+h.f,l:c,r:h};for(var N=a[0].s,i=1;i<o;++i)a[i].s>N&&(N=a[i].s);var _=new da(N+1),O=bp(r[w-1],_,0);if(O>e){var i=0,P=0,R=O-e,L=1<<R;for(a.sort(function(Ee,ce){return _[ce.s]-_[Ee.s]||Ee.f-ce.f});i<o;++i){var M=a[i].s;if(_[M]>e)P+=L-(1<<O-_[M]),_[M]=e;else break}for(P>>=R;P>0;){var H=a[i].s;_[H]<e?P-=1<<e-_[H]++-1:++i}for(;i>=0&&P;--i){var oe=a[i].s;_[oe]==e&&(--_[oe],++P)}O=e}return{t:new ls(_),l:O}},bp=function(t,e,r){return t.s==-1?Math.max(bp(t.l,e,r+1),bp(t.r,e,r+1)):e[t.s]=r},Ug=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new da(++e),i=0,o=t[0],a=1,l=function(h){r[i++]=h},c=1;c<=e;++c)if(t[c]==o&&c!=e)++a;else{if(!o&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(o),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(o);a=1,o=t[c]}return{c:r.subarray(0,i),n:e}},Ac=function(t,e){for(var r=0,i=0;i<e.length;++i)r+=t[i]*e[i];return r},Av=function(t,e,r){var i=r.length,o=n0(e+2);t[o]=i&255,t[o+1]=i>>8,t[o+2]=t[o]^255,t[o+3]=t[o+1]^255;for(var a=0;a<i;++a)t[o+a+4]=r[a];return(o+4+i)*8},zg=function(t,e,r,i,o,a,l,c,h,g,w){Qo(e,w++,r),++o[256];for(var b=Wf(o,15),N=b.t,_=b.l,O=Wf(a,15),P=O.t,R=O.l,L=Ug(N),M=L.c,H=L.n,oe=Ug(P),pe=oe.c,Ee=oe.n,ce=new da(19),G=0;G<M.length;++G)++ce[M[G]&31];for(var G=0;G<pe.length;++G)++ce[pe[G]&31];for(var he=Wf(ce,7),Re=he.t,V=he.l,Y=19;Y>4&&!Re[vp[Y-1]];--Y);var fe=g+5<<3,re=Ac(o,Fl)+Ac(a,Uc)+l,qe=Ac(o,N)+Ac(a,P)+l+14+3*Y+Ac(ce,Re)+2*ce[16]+3*ce[17]+7*ce[18];if(h>=0&&fe<=re&&fe<=qe)return Av(e,w,t.subarray(h,h+g));var Be,me,te,ye;if(Qo(e,w,1+(qe<re)),w+=2,qe<re){Be=Io(N,_,0),me=N,te=Io(P,R,0),ye=P;var be=Io(Re,V,0);Qo(e,w,H-257),Qo(e,w+5,Ee-1),Qo(e,w+10,Y-4),w+=14;for(var G=0;G<Y;++G)Qo(e,w+3*G,Re[vp[G]]);w+=3*Y;for(var se=[M,pe],I=0;I<2;++I)for(var $=se[I],G=0;G<$.length;++G){var X=$[G]&31;Qo(e,w,be[X]),w+=Re[X],X>15&&(Qo(e,w,$[G]>>5&127),w+=$[G]>>12)}}else Be=nw,me=Fl,te=sw,ye=Uc;for(var G=0;G<c;++G){var ie=i[G];if(ie>255){var X=ie>>18&31;Nc(e,w,Be[X+257]),w+=me[X+257],X>7&&(Qo(e,w,ie>>23&31),w+=Oh[X]);var de=ie&31;Nc(e,w,te[de]),w+=ye[de],de>3&&(Nc(e,w,ie>>5&8191),w+=Th[de])}else Nc(e,w,Be[ie]),w+=me[ie]}return Nc(e,w,Be[256]),w+me[256]},uw=new r0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jv=new ls(0),cw=function(t,e,r,i,o,a){var l=a.z||t.length,c=new ls(i+l+5*(1+Math.ceil(l/7e3))+o),h=c.subarray(i,c.length-o),g=a.l,w=(a.r||0)&7;if(e){w&&(h[0]=a.r>>3);for(var b=uw[e-1],N=b>>13,_=b&8191,O=(1<<r)-1,P=a.p||new da(32768),R=a.h||new da(O+1),L=Math.ceil(r/3),M=2*L,H=function(qt){return(t[qt]^t[qt+1]<<L^t[qt+2]<<M)&O},oe=new r0(25e3),pe=new da(288),Ee=new da(32),ce=0,G=0,he=a.i||0,Re=0,V=a.w||0,Y=0;he+2<l;++he){var fe=H(he),re=he&32767,qe=R[fe];if(P[re]=qe,R[fe]=re,V<=he){var Be=l-he;if((ce>7e3||Re>24576)&&(Be>423||!g)){w=zg(t,h,0,oe,pe,Ee,G,Re,Y,he-Y,w),Re=ce=G=0,Y=he;for(var me=0;me<286;++me)pe[me]=0;for(var me=0;me<30;++me)Ee[me]=0}var te=2,ye=0,be=_,se=re-qe&32767;if(Be>2&&fe==H(he-se))for(var I=Math.min(N,Be)-1,$=Math.min(32767,he),X=Math.min(258,Be);se<=$&&--be&&re!=qe;){if(t[he+te]==t[he+te-se]){for(var ie=0;ie<X&&t[he+ie]==t[he+ie-se];++ie);if(ie>te){if(te=ie,ye=se,ie>I)break;for(var de=Math.min(se,ie-2),xe=0,me=0;me<de;++me){var Oe=he-se+me&32767,ge=P[Oe],rt=Oe-ge&32767;rt>xe&&(xe=rt,qe=Oe)}}}re=qe,qe=P[re],se+=re-qe&32767}if(ye){oe[Re++]=268435456|yp[te]<<18|qg[ye];var st=yp[te]&31,it=qg[ye]&31;G+=Oh[st]+Th[it],++pe[257+st],++Ee[it],V=he+te,++ce}else oe[Re++]=t[he],++pe[t[he]]}}for(he=Math.max(he,V);he<l;++he)oe[Re++]=t[he],++pe[t[he]];w=zg(t,h,g,oe,pe,Ee,G,Re,Y,he-Y,w),g||(a.r=w&7|h[w/8|0]<<3,w-=7,a.h=R,a.p=P,a.i=he,a.w=V)}else{for(var he=a.w||0;he<l+g;he+=65535){var bt=he+65535;bt>=l&&(h[w/8|0]=g,bt=l),w=Av(h,w+1,t.subarray(he,bt))}a.i=l}return Nv(c,0,i+n0(w)+o)},Ev=function(){var t=1,e=0;return{p:function(r){for(var i=t,o=e,a=r.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)o+=i+=r[l];i=(i&65535)+15*(i>>16),o=(o&65535)+15*(o>>16)}t=i,e=o},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},dw=function(t,e,r,i,o){if(!o&&(o={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new ls(a.length+t.length);l.set(a),l.set(t,a.length),t=l,o.w=a.length}return cw(t,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,i,o)},Cv=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},hw=function(t,e){var r=e.level,i=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var o=Ev();o.p(e.dictionary),Cv(t,2,o.d())}},fw=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&so(6,"invalid zlib data"),(t[1]>>5&1)==1&&so(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function xp(t,e){e||(e={});var r=Ev();r.p(t);var i=dw(t,e,e.dictionary?6:2,4);return hw(i,e),Cv(i,i.length-4,r.d()),i}function pw(t,e){return lw(t.subarray(fw(t),-4),{i:2},e,e)}var gw=typeof TextDecoder<"u"&&new TextDecoder,mw=0;try{gw.decode(jv,{stream:!0}),mw=1}catch{}var cr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Hf(){cr.console&&typeof cr.console.log=="function"&&cr.console.log.apply(cr.console,arguments)}var cn={log:Hf,warn:function(t){cr.console&&(typeof cr.console.warn=="function"?cr.console.warn.apply(cr.console,arguments):Hf.call(null,arguments))},error:function(t){cr.console&&(typeof cr.console.error=="function"?cr.console.error.apply(cr.console,arguments):Hf(t))}};function Kf(t,e,r){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){iu(i.response,e,r)},i.onerror=function(){cn.error("could not download file")},i.send()}function $g(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function $d(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Lc,_p,iu=cr.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==cr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var i=cr.URL||cr.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?$g(o.href)?Kf(t,e,r):$d(o,o.target="_blank"):$d(o)):(o.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){$d(o)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if($g(t))Kf(t,e,r);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){$d(i)})}else navigator.msSaveOrOpenBlob(function(o,a){return a===void 0?a={autoBom:!1}:en(a)!=="object"&&(cn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(t,r),e)}:function(t,e,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return Kf(t,e,r);var o=t.type==="application/octet-stream",a=/constructor/i.test(cr.HTMLElement)||cr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&a)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var w=c.result;w=l?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=w:location=w,i=null},c.readAsDataURL(t)}else{var h=cr.URL||cr.webkitURL,g=h.createObjectURL(t);i?i.location=g:location.href=g,i=null,setTimeout(function(){h.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Pv(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<r.length;i++){var o=r[i].re,a=r[i].process,l=o.exec(t);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),g=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),g.length==1&&(g="0"+g),"#"+c+h+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gf(t,e){var r=t[0],i=t[1],o=t[2],a=t[3];r=is(r,i,o,a,e[0],7,-680876936),a=is(a,r,i,o,e[1],12,-389564586),o=is(o,a,r,i,e[2],17,606105819),i=is(i,o,a,r,e[3],22,-1044525330),r=is(r,i,o,a,e[4],7,-176418897),a=is(a,r,i,o,e[5],12,1200080426),o=is(o,a,r,i,e[6],17,-1473231341),i=is(i,o,a,r,e[7],22,-45705983),r=is(r,i,o,a,e[8],7,1770035416),a=is(a,r,i,o,e[9],12,-1958414417),o=is(o,a,r,i,e[10],17,-42063),i=is(i,o,a,r,e[11],22,-1990404162),r=is(r,i,o,a,e[12],7,1804603682),a=is(a,r,i,o,e[13],12,-40341101),o=is(o,a,r,i,e[14],17,-1502002290),r=ss(r,i=is(i,o,a,r,e[15],22,1236535329),o,a,e[1],5,-165796510),a=ss(a,r,i,o,e[6],9,-1069501632),o=ss(o,a,r,i,e[11],14,643717713),i=ss(i,o,a,r,e[0],20,-373897302),r=ss(r,i,o,a,e[5],5,-701558691),a=ss(a,r,i,o,e[10],9,38016083),o=ss(o,a,r,i,e[15],14,-660478335),i=ss(i,o,a,r,e[4],20,-405537848),r=ss(r,i,o,a,e[9],5,568446438),a=ss(a,r,i,o,e[14],9,-1019803690),o=ss(o,a,r,i,e[3],14,-187363961),i=ss(i,o,a,r,e[8],20,1163531501),r=ss(r,i,o,a,e[13],5,-1444681467),a=ss(a,r,i,o,e[2],9,-51403784),o=ss(o,a,r,i,e[7],14,1735328473),r=as(r,i=ss(i,o,a,r,e[12],20,-1926607734),o,a,e[5],4,-378558),a=as(a,r,i,o,e[8],11,-2022574463),o=as(o,a,r,i,e[11],16,1839030562),i=as(i,o,a,r,e[14],23,-35309556),r=as(r,i,o,a,e[1],4,-1530992060),a=as(a,r,i,o,e[4],11,1272893353),o=as(o,a,r,i,e[7],16,-155497632),i=as(i,o,a,r,e[10],23,-1094730640),r=as(r,i,o,a,e[13],4,681279174),a=as(a,r,i,o,e[0],11,-358537222),o=as(o,a,r,i,e[3],16,-722521979),i=as(i,o,a,r,e[6],23,76029189),r=as(r,i,o,a,e[9],4,-640364487),a=as(a,r,i,o,e[12],11,-421815835),o=as(o,a,r,i,e[15],16,530742520),r=os(r,i=as(i,o,a,r,e[2],23,-995338651),o,a,e[0],6,-198630844),a=os(a,r,i,o,e[7],10,1126891415),o=os(o,a,r,i,e[14],15,-1416354905),i=os(i,o,a,r,e[5],21,-57434055),r=os(r,i,o,a,e[12],6,1700485571),a=os(a,r,i,o,e[3],10,-1894986606),o=os(o,a,r,i,e[10],15,-1051523),i=os(i,o,a,r,e[1],21,-2054922799),r=os(r,i,o,a,e[8],6,1873313359),a=os(a,r,i,o,e[15],10,-30611744),o=os(o,a,r,i,e[6],15,-1560198380),i=os(i,o,a,r,e[13],21,1309151649),r=os(r,i,o,a,e[4],6,-145523070),a=os(a,r,i,o,e[11],10,-1120210379),o=os(o,a,r,i,e[2],15,718787259),i=os(i,o,a,r,e[9],21,-343485551),t[0]=Tl(r,t[0]),t[1]=Tl(i,t[1]),t[2]=Tl(o,t[2]),t[3]=Tl(a,t[3])}function Rh(t,e,r,i,o,a){return e=Tl(Tl(e,t),Tl(i,a)),Tl(e<<o|e>>>32-o,r)}function is(t,e,r,i,o,a,l){return Rh(e&r|~e&i,t,e,o,a,l)}function ss(t,e,r,i,o,a,l){return Rh(e&i|r&~i,t,e,o,a,l)}function as(t,e,r,i,o,a,l){return Rh(e^r^i,t,e,o,a,l)}function os(t,e,r,i,o,a,l){return Rh(r^(e|~i),t,e,o,a,l)}function Lv(t){var e,r=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Gf(i,vw(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(Gf(i,o),e=0;e<16;e++)o[e]=0;return o[14]=8*r,Gf(i,o),i}function vw(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Lc=cr.atob.bind(cr),_p=cr.btoa.bind(cr);var Vg="0123456789abcdef".split("");function yw(t){for(var e="",r=0;r<4;r++)e+=Vg[t>>8*r+4&15]+Vg[t>>8*r&15];return e}function ww(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function kp(t){return Lv(t).map(ww).join("")}var bw=function(t){for(var e=0;e<t.length;e++)t[e]=yw(t[e]);return t.join("")}(Lv("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tl(t,e){if(bw){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Sp(t,e){var r,i,o,a;if(t!==r){for(var l=(o=t,a=1+(256/t.length>>0),new Array(a+1).join(o)),c=[],h=0;h<256;h++)c[h]=h;var g=0;for(h=0;h<256;h++){var w=c[h];g=(g+w+l.charCodeAt(h))%256,c[h]=c[g],c[g]=w}r=t,i=c}else c=i;var b=e.length,N=0,_=0,O="";for(h=0;h<b;h++)_=(_+(w=c[N=(N+1)%256]))%256,c[N]=c[_],c[_]=w,l=c[(c[N]+c[_])%256],O+=String.fromCharCode(e.charCodeAt(h)^l);return O}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Wg={print:4,modify:8,copy:16,"annot-forms":32};function Uu(t,e,r,i){this.v=1,this.r=2;var o=192;t.forEach(function(c){if(Wg.perm!==void 0)throw new Error("Invalid permission: "+c);o+=Wg[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^o)),this.encryptionKey=kp(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Sp(this.encryptionKey,this.padding)}function zu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,i=0;i<r;i++){var o=t.charCodeAt(i);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?e+="#"+("0"+o.toString(16)).slice(-2):e+=t[i]}return e}function Hg(t){if(en(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,i,o){if(o=o||!1,typeof r!="string"||typeof i!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[i,!!o],a},this.unsubscribe=function(r){for(var i in e)if(e[i][r])return delete e[i][r],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in e[r]){var l=e[r][a];try{l[0].apply(t,i)}catch(c){cr.console&&cn.error("jsPDF PubSub Error",c.message,c)}l[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ph(t){if(!(this instanceof ph))return new ph(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Iv(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function au(t,e,r,i,o){if(!(this instanceof au))return new au(t,e,r,i,o);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Iv.call(this,i,o)}function Hu(t,e,r,i,o){if(!(this instanceof Hu))return new Hu(t,e,r,i,o);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Iv.call(this,i,o)}function lr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],o=arguments[2],a=arguments[3],l=[],c=1,h=16,g="S",w=null;en(t=t||{})==="object"&&(r=t.orientation,i=t.unit||i,o=t.format||o,a=t.compress||t.compressPdf||a,(w=t.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),g=t.defaultPathOperation||"S"),l=t.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",r=(""+(r||"P")).toLowerCase();var b=t.putOnlyUsedFonts||!1,N={},_={internal:{},__private__:{}};_.__private__.PubSub=Hg;var O="1.3",P=_.__private__.getPdfVersion=function(){return O};_.__private__.setPdfVersion=function(x){O=x};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return R};var L=_.__private__.getPageFormat=function(x){return R[x]};o=o||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},H=M.COMPAT;function oe(){this.saveGraphicsState(),ae(new Ct(wt,0,0,-wt,0,ms()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),g="n",H=M.ADVANCED}function pe(){this.restoreGraphicsState(),g="S",H=M.COMPAT}var Ee=_.__private__.combineFontStyleAndFontWeight=function(x,F){if(x=="bold"&&F=="normal"||x=="bold"&&F==400||x=="normal"&&F=="italic"||x=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(x=F==400||F==="normal"?x==="italic"?"italic":"normal":F!=700&&F!=="bold"||x!=="normal"?(F==700?"bold":F)+""+x:"bold"),x};_.advancedAPI=function(x){var F=H===M.COMPAT;return F&&oe.call(this),typeof x!="function"||(x(this),F&&pe.call(this)),this},_.compatAPI=function(x){var F=H===M.ADVANCED;return F&&pe.call(this),typeof x!="function"||(x(this),F&&oe.call(this)),this},_.isAdvancedAPI=function(){return H===M.ADVANCED};var ce,G=function(x){if(H!==M.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},he=_.roundToPrecision=_.__private__.roundToPrecision=function(x,F){var ee=e||F;if(isNaN(x)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ee).replace(/0+$/,"")};ce=_.hpf=_.__private__.hpf=typeof h=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return he(x,h)}:h==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return he(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return he(x,16)};var Re=_.f2=_.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return he(x,2)},V=_.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return he(x,3)},Y=_.scale=_.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return H===M.COMPAT?x*wt:H===M.ADVANCED?x:void 0},fe=function(x){return H===M.COMPAT?ms()-x:H===M.ADVANCED?x:void 0},re=function(x){return Y(fe(x))};_.__private__.setPrecision=_.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var qe,Be="00000000000000000000000000000000",me=_.__private__.getFileId=function(){return Be},te=_.__private__.setFileId=function(x){return Be=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():Be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(rn=new Uu(w.userPermissions,w.userPassword,w.ownerPassword,Be)),Be};_.setFileId=function(x){return te(x),this},_.getFileId=function(){return me()};var ye=_.__private__.convertDateToPDFDate=function(x){var F=x.getTimezoneOffset(),ee=F<0?"+":"-",ve=Math.floor(Math.abs(F/60)),Me=Math.abs(F%60),Qe=[ee,X(ve),"'",X(Me),"'"].join("");return["D:",x.getFullYear(),X(x.getMonth()+1),X(x.getDate()),X(x.getHours()),X(x.getMinutes()),X(x.getSeconds()),Qe].join("")},be=_.__private__.convertPDFDateToDate=function(x){var F=parseInt(x.substr(2,4),10),ee=parseInt(x.substr(6,2),10)-1,ve=parseInt(x.substr(8,2),10),Me=parseInt(x.substr(10,2),10),Qe=parseInt(x.substr(12,2),10),at=parseInt(x.substr(14,2),10);return new Date(F,ee,ve,Me,Qe,at,0)},se=_.__private__.setCreationDate=function(x){var F;if(x===void 0&&(x=new Date),x instanceof Date)F=ye(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=x}return qe=F},I=_.__private__.getCreationDate=function(x){var F=qe;return x==="jsDate"&&(F=be(qe)),F};_.setCreationDate=function(x){return se(x),this},_.getCreationDate=function(x){return I(x)};var $,X=_.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ie=_.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},de=0,xe=[],Oe=[],ge=0,rt=[],st=[],it=!1,bt=Oe,qt=function(){de=0,ge=0,Oe=[],xe=[],rt=[],Pi=Pr(),Tn=Pr()};_.__private__.setCustomOutputDestination=function(x){it=!0,bt=x};var Je=function(x){it||(bt=x)};_.__private__.resetCustomOutputDestination=function(){it=!1,bt=Oe};var ae=_.__private__.out=function(x){return x=x.toString(),ge+=x.length+1,bt.push(x),bt},Xt=_.__private__.write=function(x){return ae(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Tt=_.__private__.getArrayBuffer=function(x){for(var F=x.length,ee=new ArrayBuffer(F),ve=new Uint8Array(ee);F--;)ve[F]=x.charCodeAt(F);return ee},ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return ot};var pt=t.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(x){return pt=H===M.ADVANCED?x/wt:x,this};var vt,St=_.__private__.getFontSize=_.getFontSize=function(){return H===M.COMPAT?pt:pt*wt},Rt=t.R2L||!1;_.__private__.setR2L=_.setR2L=function(x){return Rt=x,this},_.__private__.getR2L=_.getR2L=function(){return Rt};var Yt,Qt=_.__private__.setZoomMode=function(x){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))vt=x;else if(isNaN(x)){if(F.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');vt=x}else vt=parseInt(x,10)};_.__private__.getZoomMode=function(){return vt};var nr,Zt=_.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Yt=x};_.__private__.getPageMode=function(){return Yt};var wr=_.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');nr=x};_.__private__.getLayoutMode=function(){return nr},_.__private__.setDisplayMode=_.setDisplayMode=function(x,F,ee){return Qt(x),wr(F),Zt(ee),this};var zt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(x){if(Object.keys(zt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zt[x]},_.__private__.getDocumentProperties=function(){return zt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(x){for(var F in zt)zt.hasOwnProperty(F)&&x[F]&&(zt[F]=x[F]);return this},_.__private__.setDocumentProperty=function(x,F){if(Object.keys(zt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zt[x]=F};var sr,wt,Xr,kr,ei,Sr={},xt={},On=[],mr={},mi={},dt={},An={},Er=null,xr=0,Ft=[],pr=new Hg(_),bn=t.hotfixes||[],Cr={},qr={},sn=[],Ct=function x(F,ee,ve,Me,Qe,at){if(!(this instanceof x))return new x(F,ee,ve,Me,Qe,at);isNaN(F)&&(F=1),isNaN(ee)&&(ee=0),isNaN(ve)&&(ve=0),isNaN(Me)&&(Me=1),isNaN(Qe)&&(Qe=0),isNaN(at)&&(at=0),this._matrix=[F,ee,ve,Me,Qe,at]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ce).join(x)},Ct.prototype.multiply=function(x){var F=x.sx*this.sx+x.shy*this.shx,ee=x.sx*this.shy+x.shy*this.sy,ve=x.shx*this.sx+x.sy*this.shx,Me=x.shx*this.shy+x.sy*this.sy,Qe=x.tx*this.sx+x.ty*this.shx+this.tx,at=x.tx*this.shy+x.ty*this.sy+this.ty;return new Ct(F,ee,ve,Me,Qe,at)},Ct.prototype.decompose=function(){var x=this.sx,F=this.shy,ee=this.shx,ve=this.sy,Me=this.tx,Qe=this.ty,at=Math.sqrt(x*x+F*F),Et=(x/=at)*ee+(F/=at)*ve;ee-=x*Et,ve-=F*Et;var Vt=Math.sqrt(ee*ee+ve*ve);return Et/=Vt,x*(ve/=Vt)<F*(ee/=Vt)&&(x=-x,F=-F,Et=-Et,at=-at),{scale:new Ct(at,0,0,Vt,0,0),translate:new Ct(1,0,0,1,Me,Qe),rotate:new Ct(x,F,-F,x,0,0),skew:new Ct(1,0,Et,1,0,0)}},Ct.prototype.toString=function(x){return this.join(" ")},Ct.prototype.inversed=function(){var x=this.sx,F=this.shy,ee=this.shx,ve=this.sy,Me=this.tx,Qe=this.ty,at=1/(x*ve-F*ee),Et=ve*at,Vt=-F*at,hr=-ee*at,ar=x*at;return new Ct(Et,Vt,hr,ar,-Et*Me-hr*Qe,-Vt*Me-ar*Qe)},Ct.prototype.applyToPoint=function(x){var F=x.x*this.sx+x.y*this.shx+this.tx,ee=x.x*this.shy+x.y*this.sy+this.ty;return new Ji(F,ee)},Ct.prototype.applyToRectangle=function(x){var F=this.applyToPoint(x),ee=this.applyToPoint(new Ji(x.x+x.w,x.y+x.h));return new an(F.x,F.y,ee.x-F.x,ee.y-F.y)},Ct.prototype.clone=function(){var x=this.sx,F=this.shy,ee=this.shx,ve=this.sy,Me=this.tx,Qe=this.ty;return new Ct(x,F,ee,ve,Me,Qe)},_.Matrix=Ct;var Qr=_.matrixMult=function(x,F){return F.multiply(x)},er=new Ct(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=er;var vr=function(x,F){if(!mi[x]){var ee=(F instanceof au?"Sh":"P")+(Object.keys(mr).length+1).toString(10);F.id=ee,mi[x]=ee,mr[ee]=F,pr.publish("addPattern",F)}};_.ShadingPattern=au,_.TilingPattern=Hu,_.addShadingPattern=function(x,F){return G("addShadingPattern()"),vr(x,F),this},_.beginTilingPattern=function(x){G("beginTilingPattern()"),ka(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},_.endTilingPattern=function(x,F){G("endTilingPattern()"),F.stream=st[$].join(`
`),vr(x,F),pr.publish("endTilingPattern",F),sn.pop().restore()};var Mr=_.__private__.newObject=function(){var x=Pr();return Ur(x,!0),x},Pr=_.__private__.newObjectDeferred=function(){return de++,xe[de]=function(){return ge},de},Ur=function(x,F){return F=typeof F=="boolean"&&F,xe[x]=ge,F&&ae(x+" 0 obj"),x},qn=_.__private__.newAdditionalObject=function(){var x={objId:Pr(),content:""};return rt.push(x),x},Pi=Pr(),Tn=Pr(),ti=_.__private__.decodeColorString=function(x){var F=x.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ee=parseFloat(F[0]);F=[ee,ee,ee,"r"]}for(var ve="#",Me=0;Me<3;Me++)ve+=("0"+Math.floor(255*parseFloat(F[Me])).toString(16)).slice(-2);return ve},tn=_.__private__.encodeColorString=function(x){var F;typeof x=="string"&&(x={ch1:x});var ee=x.ch1,ve=x.ch2,Me=x.ch3,Qe=x.ch4,at=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var Et=new Pv(ee);if(Et.ok)ee=Et.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var Vt=parseInt(ee.substr(1),16);ee=Vt>>16&255,ve=Vt>>8&255,Me=255&Vt}if(ve===void 0||Qe===void 0&&ee===ve&&ve===Me)if(typeof ee=="string")F=ee+" "+at[0];else switch(x.precision){case 2:F=Re(ee/255)+" "+at[0];break;case 3:default:F=V(ee/255)+" "+at[0]}else if(Qe===void 0||en(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return F=["1.","1.","1.",at[1]].join(" ");if(typeof ee=="string")F=[ee,ve,Me,at[1]].join(" ");else switch(x.precision){case 2:F=[Re(ee/255),Re(ve/255),Re(Me/255),at[1]].join(" ");break;default:case 3:F=[V(ee/255),V(ve/255),V(Me/255),at[1]].join(" ")}}else if(typeof ee=="string")F=[ee,ve,Me,Qe,at[2]].join(" ");else switch(x.precision){case 2:F=[Re(ee),Re(ve),Re(Me),Re(Qe),at[2]].join(" ");break;case 3:default:F=[V(ee),V(ve),V(Me),V(Qe),at[2]].join(" ")}return F},vi=_.__private__.getFilters=function(){return l},Li=_.__private__.putStream=function(x){var F=(x=x||{}).data||"",ee=x.filters||vi(),ve=x.alreadyAppliedFilters||[],Me=x.addLength1||!1,Qe=F.length,at=x.objectId,Et=function($n){return $n};if(w!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(Et=rn.encryptor(at,0));var Vt={};ee===!0&&(ee=["FlateEncode"]);var hr=x.additionalKeyValues||[],ar=(Vt=lr.API.processDataByFilters!==void 0?lr.API.processDataByFilters(F,ee):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Vt.data.length!==0&&(hr.push({key:"Length",value:Vt.data.length}),Me===!0&&hr.push({key:"Length1",value:Qe})),ar.length!=0)if(ar.split("/").length-1==1)hr.push({key:"Filter",value:ar});else{hr.push({key:"Filter",value:"["+ar+"]"});for(var Ar=0;Ar<hr.length;Ar+=1)if(hr[Ar].key==="DecodeParms"){for(var on=[],ln=0;ln<Vt.reverseChain.split("/").length-1;ln+=1)on.push("null");on.push(hr[Ar].value),hr[Ar].value="["+on.join(" ")+"]"}}ae("<<");for(var jn=0;jn<hr.length;jn++)ae("/"+hr[jn].key+" "+hr[jn].value);ae(">>"),Vt.data.length!==0&&(ae("stream"),ae(Et(Vt.data)),ae("endstream"))},Un=_.__private__.putPage=function(x){var F=x.number,ee=x.data,ve=x.objId,Me=x.contentsObjId;Ur(ve,!0),ae("<</Type /Page"),ae("/Parent "+x.rootDictionaryObjId+" 0 R"),ae("/Resources "+x.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(ce(x.mediaBox.bottomLeftX))+" "+parseFloat(ce(x.mediaBox.bottomLeftY))+" "+ce(x.mediaBox.topRightX)+" "+ce(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&ae("/CropBox ["+ce(x.cropBox.bottomLeftX)+" "+ce(x.cropBox.bottomLeftY)+" "+ce(x.cropBox.topRightX)+" "+ce(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&ae("/BleedBox ["+ce(x.bleedBox.bottomLeftX)+" "+ce(x.bleedBox.bottomLeftY)+" "+ce(x.bleedBox.topRightX)+" "+ce(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&ae("/TrimBox ["+ce(x.trimBox.bottomLeftX)+" "+ce(x.trimBox.bottomLeftY)+" "+ce(x.trimBox.topRightX)+" "+ce(x.trimBox.topRightY)+"]"),x.artBox!==null&&ae("/ArtBox ["+ce(x.artBox.bottomLeftX)+" "+ce(x.artBox.bottomLeftY)+" "+ce(x.artBox.topRightX)+" "+ce(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&ae("/UserUnit "+x.userUnit),pr.publish("putPage",{objId:ve,pageContext:Ft[F],pageNumber:F,page:ee}),ae("/Contents "+Me+" 0 R"),ae(">>"),ae("endobj");var Qe=ee.join(`
`);return H===M.ADVANCED&&(Qe+=`
Q`),Ur(Me,!0),Li({data:Qe,filters:vi(),objectId:Me}),ae("endobj"),ve},Hs=_.__private__.putPages=function(){var x,F,ee=[];for(x=1;x<=xr;x++)Ft[x].objId=Pr(),Ft[x].contentsObjId=Pr();for(x=1;x<=xr;x++)ee.push(Un({number:x,data:st[x],objId:Ft[x].objId,contentsObjId:Ft[x].contentsObjId,mediaBox:Ft[x].mediaBox,cropBox:Ft[x].cropBox,bleedBox:Ft[x].bleedBox,trimBox:Ft[x].trimBox,artBox:Ft[x].artBox,userUnit:Ft[x].userUnit,rootDictionaryObjId:Pi,resourceDictionaryObjId:Tn}));Ur(Pi,!0),ae("<</Type /Pages");var ve="/Kids [";for(F=0;F<xr;F++)ve+=ee[F]+" 0 R ";ae(ve+"]"),ae("/Count "+xr),ae(">>"),ae("endobj"),pr.publish("postPutPages")},Ii=function(x){pr.publish("putFont",{font:x,out:ae,newObject:Mr,putStream:Li}),x.isAlreadyPutted!==!0&&(x.objectNumber=Mr(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+zu(x.postScriptName)),ae("/Subtype /Type1"),typeof x.encoding=="string"&&ae("/Encoding /"+x.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},ha=function(){for(var x in Sr)Sr.hasOwnProperty(x)&&(b===!1||b===!0&&N.hasOwnProperty(x))&&Ii(Sr[x])},Ks=function(x){x.objectNumber=Mr();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[ce(x.x),ce(x.y),ce(x.x+x.width),ce(x.y+x.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ee=x.pages[1].join(`
`);Li({data:ee,additionalKeyValues:F,objectId:x.objectNumber}),ae("endobj")},Gr=function(){for(var x in Cr)Cr.hasOwnProperty(x)&&Ks(Cr[x])},js=function(x,F){var ee,ve=[],Me=1/(F-1);for(ee=0;ee<1;ee+=Me)ve.push(ee);if(ve.push(1),x[0].offset!=0){var Qe={offset:0,color:x[0].color};x.unshift(Qe)}if(x[x.length-1].offset!=1){var at={offset:1,color:x[x.length-1].color};x.push(at)}for(var Et="",Vt=0,hr=0;hr<ve.length;hr++){for(ee=ve[hr];ee>x[Vt+1].offset;)Vt++;var ar=x[Vt].offset,Ar=(ee-ar)/(x[Vt+1].offset-ar),on=x[Vt].color,ln=x[Vt+1].color;Et+=ie(Math.round((1-Ar)*on[0]+Ar*ln[0]).toString(16))+ie(Math.round((1-Ar)*on[1]+Ar*ln[1]).toString(16))+ie(Math.round((1-Ar)*on[2]+Ar*ln[2]).toString(16))}return Et.trim()},Or=function(x,F){F||(F=21);var ee=Mr(),ve=js(x.colors,F),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+F+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Li({data:ve,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),ae("endobj"),x.objectNumber=Mr(),ae("<< /ShadingType "+x.type),ae("/ColorSpace /DeviceRGB");var Qe="/Coords ["+ce(parseFloat(x.coords[0]))+" "+ce(parseFloat(x.coords[1]))+" ";x.type===2?Qe+=ce(parseFloat(x.coords[2]))+" "+ce(parseFloat(x.coords[3])):Qe+=ce(parseFloat(x.coords[2]))+" "+ce(parseFloat(x.coords[3]))+" "+ce(parseFloat(x.coords[4]))+" "+ce(parseFloat(x.coords[5])),ae(Qe+="]"),x.matrix&&ae("/Matrix ["+x.matrix.toString()+"]"),ae("/Function "+ee+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},ol=function(x,F){var ee=Pr(),ve=Mr();F.push({resourcesOid:ee,objectOid:ve}),x.objectNumber=ve;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+x.boundingBox.map(ce).join(" ")+"]"}),Me.push({key:"XStep",value:ce(x.xStep)}),Me.push({key:"YStep",value:ce(x.yStep)}),Me.push({key:"Resources",value:ee+" 0 R"}),x.matrix&&Me.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Li({data:x.stream,additionalKeyValues:Me,objectId:x.objectNumber}),ae("endobj")},Oi=function(x){var F;for(F in mr)mr.hasOwnProperty(F)&&(mr[F]instanceof au?Or(mr[F]):mr[F]instanceof Hu&&ol(mr[F],x))},fa=function(x){for(var F in x.objectNumber=Mr(),ae("<<"),x)switch(F){case"opacity":ae("/ca "+Re(x[F]));break;case"stroke-opacity":ae("/CA "+Re(x[F]))}ae(">>"),ae("endobj")},pa=function(){var x;for(x in dt)dt.hasOwnProperty(x)&&fa(dt[x])},Ta=function(){for(var x in ae("/XObject <<"),Cr)Cr.hasOwnProperty(x)&&Cr[x].objectNumber>=0&&ae("/"+x+" "+Cr[x].objectNumber+" 0 R");pr.publish("putXobjectDict"),ae(">>")},Es=function(){rn.oid=Mr(),ae("<<"),ae("/Filter /Standard"),ae("/V "+rn.v),ae("/R "+rn.r),ae("/U <"+rn.toHexString(rn.U)+">"),ae("/O <"+rn.toHexString(rn.O)+">"),ae("/P "+rn.P),ae(">>"),ae("endobj")},ga=function(){for(var x in ae("/Font <<"),Sr)Sr.hasOwnProperty(x)&&(b===!1||b===!0&&N.hasOwnProperty(x))&&ae("/"+x+" "+Sr[x].objectNumber+" 0 R");ae(">>")},li=function(){if(Object.keys(mr).length>0){for(var x in ae("/Shading <<"),mr)mr.hasOwnProperty(x)&&mr[x]instanceof au&&mr[x].objectNumber>=0&&ae("/"+x+" "+mr[x].objectNumber+" 0 R");pr.publish("putShadingPatternDict"),ae(">>")}},Ra=function(x){if(Object.keys(mr).length>0){for(var F in ae("/Pattern <<"),mr)mr.hasOwnProperty(F)&&mr[F]instanceof _.TilingPattern&&mr[F].objectNumber>=0&&mr[F].objectNumber<x&&ae("/"+F+" "+mr[F].objectNumber+" 0 R");pr.publish("putTilingPatternDict"),ae(">>")}},ir=function(){if(Object.keys(dt).length>0){var x;for(x in ae("/ExtGState <<"),dt)dt.hasOwnProperty(x)&&dt[x].objectNumber>=0&&ae("/"+x+" "+dt[x].objectNumber+" 0 R");pr.publish("putGStateDict"),ae(">>")}},fn=function(x){Ur(x.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ga(),li(),Ra(x.objectOid),ir(),Ta(),ae(">>"),ae("endobj")},Ro=function(){var x=[];ha(),pa(),Gr(),Oi(x),pr.publish("putResources"),x.forEach(fn),fn({resourcesOid:Tn,objectOid:Number.MAX_SAFE_INTEGER}),pr.publish("postPutResources")},Do=function(){pr.publish("putAdditionalObjects");for(var x=0;x<rt.length;x++){var F=rt[x];Ur(F.objId,!0),ae(F.content),ae("endobj")}pr.publish("postPutAdditionalObjects")},Tr=function(x){xt[x.fontName]=xt[x.fontName]||{},xt[x.fontName][x.fontStyle]=x.id},zi=function(x,F,ee,ve,Me){var Qe={id:"F"+(Object.keys(Sr).length+1).toString(10),postScriptName:x,fontName:F,fontStyle:ee,encoding:ve,isStandardFont:Me||!1,metadata:{}};return pr.publish("addFont",{font:Qe,instance:this}),Sr[Qe.id]=Qe,Tr(Qe),Qe.id},us=function(x){for(var F=0,ee=ot.length;F<ee;F++){var ve=zi.call(this,x[F][0],x[F][1],x[F][2],ot[F][3],!0);b===!1&&(N[ve]=!0);var Me=x[F][0].split("-");Tr({id:ve,fontName:Me[0],fontStyle:Me[1]||""})}pr.publish("addFonts",{fonts:Sr,dictionary:xt})},Cn=function(x){return x.foo=function(){try{return x.apply(this,arguments)}catch(ve){var F=ve.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var ee="Error in function "+F.split(`
`)[0].split("<")[0]+": "+ve.message;if(!cr.console)throw new Error(ee);cr.console.error(ee,ve),cr.alert&&alert(ee)}},x.foo.bar=x,x.foo},ma=function(x,F){var ee,ve,Me,Qe,at,Et,Vt,hr,ar;if(Me=(F=F||{}).sourceEncoding||"Unicode",at=F.outputEncoding,(F.autoencode||at)&&Sr[sr].metadata&&Sr[sr].metadata[Me]&&Sr[sr].metadata[Me].encoding&&(Qe=Sr[sr].metadata[Me].encoding,!at&&Sr[sr].encoding&&(at=Sr[sr].encoding),!at&&Qe.codePages&&(at=Qe.codePages[0]),typeof at=="string"&&(at=Qe[at]),at)){for(Vt=!1,Et=[],ee=0,ve=x.length;ee<ve;ee++)(hr=at[x.charCodeAt(ee)])?Et.push(String.fromCharCode(hr)):Et.push(x[ee]),Et[ee].charCodeAt(0)>>8&&(Vt=!0);x=Et.join("")}for(ee=x.length;Vt===void 0&&ee!==0;)x.charCodeAt(ee-1)>>8&&(Vt=!0),ee--;if(!Vt)return x;for(Et=F.noBOM?[]:[254,255],ee=0,ve=x.length;ee<ve;ee++){if((ar=(hr=x.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(ar),Et.push(hr-(ar<<8))}return String.fromCharCode.apply(void 0,Et)},ri=_.__private__.pdfEscape=_.pdfEscape=function(x,F){return ma(x,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cs=_.__private__.beginPage=function(x){st[++xr]=[],Ft[xr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Gs(xr),Je(st[$])},po=function(x,F){var ee,ve,Me;switch(r=F||r,typeof x=="string"&&(ee=L(x.toLowerCase()),Array.isArray(ee)&&(ve=ee[0],Me=ee[1])),Array.isArray(x)&&(ve=x[0]*wt,Me=x[1]*wt),isNaN(ve)&&(ve=o[0],Me=o[1]),(ve>14400||Me>14400)&&(cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Me=Math.min(14400,Me)),o=[ve,Me],r.substr(0,1)){case"l":Me>ve&&(o=[Me,ve]);break;case"p":ve>Me&&(o=[Me,ve])}Cs(o),Ls(Mo),ae(zn),Ua!==0&&ae(Ua+" J"),Xs!==0&&ae(Xs+" j"),pr.publish("addPage",{pageNumber:xr})},va=function(x){x>0&&x<=xr&&(st.splice(x,1),Ft.splice(x,1),xr--,$>xr&&($=xr),this.setPage($))},Gs=function(x){x>0&&x<=xr&&($=x)},Da=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return st.length-1},Fa=function(x,F,ee){var ve,Me=void 0;return ee=ee||{},x=x!==void 0?x:Sr[sr].fontName,F=F!==void 0?F:Sr[sr].fontStyle,ve=x.toLowerCase(),xt[ve]!==void 0&&xt[ve][F]!==void 0?Me=xt[ve][F]:xt[x]!==void 0&&xt[x][F]!==void 0?Me=xt[x][F]:ee.disableWarning===!1&&cn.warn("Unable to look up font label for font '"+x+"', '"+F+"'. Refer to getFontList() for available fonts."),Me||ee.noFallback||(Me=xt.times[F])==null&&(Me=xt.times.normal),Me},Rr=_.__private__.putInfo=function(){var x=Mr(),F=function(ve){return ve};for(var ee in w!==null&&(F=rn.encryptor(x,0)),ae("<<"),ae("/Producer ("+ri(F("jsPDF "+lr.version))+")"),zt)zt.hasOwnProperty(ee)&&zt[ee]&&ae("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+ri(F(zt[ee]))+")");ae("/CreationDate ("+ri(F(qe))+")"),ae(">>"),ae("endobj")},Nr=_.__private__.putCatalog=function(x){var F=(x=x||{}).rootDictionaryObjId||Pi;switch(Mr(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+F+" 0 R"),vt||(vt="fullwidth"),vt){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+vt;ee.substr(ee.length-1)==="%"&&(vt=parseInt(vt)/100),typeof vt=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+Re(vt)+"]")}switch(nr||(nr="continuous"),nr){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Yt&&ae("/PageMode /"+Yt),pr.publish("putCatalog"),ae(">>"),ae("endobj")},go=_.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(de+1)),ae("/Root "+de+" 0 R"),ae("/Info "+(de-1)+" 0 R"),w!==null&&ae("/Encrypt "+rn.oid+" 0 R"),ae("/ID [ <"+Be+"> <"+Be+"> ]"),ae(">>")},Fo=_.__private__.putHeader=function(){ae("%PDF-"+O),ae("%")},ll=_.__private__.putXRef=function(){var x="0000000000";ae("xref"),ae("0 "+(de+1)),ae("0000000000 65535 f ");for(var F=1;F<=de;F++)typeof xe[F]=="function"?ae((x+xe[F]()).slice(-10)+" 00000 n "):xe[F]!==void 0?ae((x+xe[F]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},pn=_.__private__.buildDocument=function(){qt(),Je(Oe),pr.publish("buildDocument"),Fo(),Hs(),Do(),Ro(),w!==null&&Es(),Rr(),Nr();var x=ge;return ll(),go(),ae("startxref"),ae(""+x),ae("%%EOF"),Je(st[$]),Oe.join(`
`)},$i=_.__private__.getBlob=function(x){return new Blob([Tt(x)],{type:"application/pdf"})},cs=_.output=_.__private__.output=Cn(function(x,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",x){case void 0:return pn();case"save":_.save(F.filename);break;case"arraybuffer":return Tt(pn());case"blob":return $i(pn());case"bloburi":case"bloburl":if(cr.URL!==void 0&&typeof cr.URL.createObjectURL=="function")return cr.URL&&cr.URL.createObjectURL($i(pn()))||void 0;cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",ve=pn();try{ee=_p(ve)}catch{ee=_p(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+F.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(Me=F.pdfObjectUrl,Qe="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",Et=cr.open();return Et!==null&&Et.document.write(at),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',hr=cr.open();if(hr!==null){hr.document.write(Vt);var ar=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=F.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ar.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',on=cr.open();if(on!==null&&(on.document.write(Ar),on.document.title=F.filename),on||typeof safari>"u")return on;break;case"datauri":case"dataurl":return cr.document.location.href=this.output("datauristring",F);default:return null}}),yi=function(x){return Array.isArray(bn)===!0&&bn.indexOf(x)>-1};switch(i){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=yi("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);wt=i}var rn=null;se(),te();var ds=function(x){return w!==null?rn.encryptor(x,0):function(F){return F}},zr=_.__private__.getPageInfo=_.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[x].objId,pageNumber:x,pageContext:Ft[x]}},$t=_.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Ft)if(Ft[F].objId===x)break;return zr(F)},hs=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Ft[$].objId,pageNumber:$,pageContext:Ft[$]}};_.addPage=function(){return po.apply(this,arguments),this},_.setPage=function(){return Gs.apply(this,arguments),Je.call(this,st[$]),this},_.insertPage=function(x){return this.addPage(),this.movePage($,x),this},_.movePage=function(x,F){var ee,ve;if(x>F){ee=st[x],ve=Ft[x];for(var Me=x;Me>F;Me--)st[Me]=st[Me-1],Ft[Me]=Ft[Me-1];st[F]=ee,Ft[F]=ve,this.setPage(F)}else if(x<F){ee=st[x],ve=Ft[x];for(var Qe=x;Qe<F;Qe++)st[Qe]=st[Qe+1],Ft[Qe]=Ft[Qe+1];st[F]=ee,Ft[F]=ve,this.setPage(F)}return this},_.deletePage=function(){return va.apply(this,arguments),this},_.__private__.text=_.text=function(x,F,ee,ve,Me){var Qe,at,Et,Vt,hr,ar,Ar,on,ln,jn=(ve=ve||{}).scope||this;if(typeof x=="number"&&typeof F=="number"&&(typeof ee=="string"||Array.isArray(ee))){var $n=ee;ee=F,F=x,x=$n}if(arguments[3]instanceof Ct?(G("The transform parameter of text() with a Matrix value"),ln=Me):(Et=arguments[4],Vt=arguments[5],en(Ar=arguments[3])==="object"&&Ar!==null||(typeof Et=="string"&&(Vt=Et,Et=null),typeof Ar=="string"&&(Vt=Ar,Ar=null),typeof Ar=="number"&&(Et=Ar,Ar=null),ve={flags:Ar,angle:Et,align:Vt})),isNaN(F)||isNaN(ee)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return jn;var Pn="",vs=!1,xi=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:qa,_i=jn.internal.scaleFactor;function Zs(Lt){return Lt=Lt.split("	").join(Array(ve.TabLen||9).join(" ")),ri(Lt,Ar)}function wo(Lt){for(var It,Ut=Lt.concat(),Lr=[],Gt=Ut.length;Gt--;)typeof(It=Ut.shift())=="string"?Lr.push(It):Array.isArray(Lt)&&(It.length===1||It[1]===void 0&&It[2]===void 0)?Lr.push(It[0]):Lr.push([It[0],It[1],It[2]]);return Lr}function bo(Lt,It){var Ut;if(typeof Lt=="string")Ut=It(Lt)[0];else if(Array.isArray(Lt)){for(var Lr,Gt,xn=Lt.concat(),vn=[],Na=xn.length;Na--;)typeof(Lr=xn.shift())=="string"?vn.push(It(Lr)[0]):Array.isArray(Lr)&&typeof Lr[0]=="string"&&(Gt=It(Lr[0],Lr[1],Lr[2]),vn.push([Gt[0],Gt[1],Gt[2]]));Ut=vn}return Ut}var $a=!1,xo=!0;if(typeof x=="string")$a=!0;else if(Array.isArray(x)){var ea=x.concat();at=[];for(var ci,gr=ea.length;gr--;)(typeof(ci=ea.shift())!="string"||Array.isArray(ci)&&typeof ci[0]!="string")&&(xo=!1);$a=xo}if($a===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var ta=pt/jn.internal.scaleFactor,Vn=ta*(xi-1);switch(ve.baseline){case"bottom":ee-=Vn;break;case"top":ee+=ta-Vn;break;case"hanging":ee+=ta-2*Vn;break;case"middle":ee+=ta/2-Vn}if((ar=ve.maxWidth||0)>0&&(typeof x=="string"?x=jn.splitTextToSize(x,ar):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(Lt,It){return Lt.concat(jn.splitTextToSize(It,ar))},[]))),Qe={text:x,x:F,y:ee,options:ve,mutex:{pdfEscape:ri,activeFontKey:sr,fonts:Sr,activeFontSize:pt}},pr.publish("preProcessText",Qe),x=Qe.text,Et=(ve=Qe.options).angle,!(ln instanceof Ct)&&Et&&typeof Et=="number"){Et*=Math.PI/180,ve.rotationDirection===0&&(Et=-Et),H===M.ADVANCED&&(Et=-Et);var _o=Math.cos(Et),Sa=Math.sin(Et);ln=new Ct(_o,Sa,-Sa,_o,0,0)}else Et&&Et instanceof Ct&&(ln=Et);H!==M.ADVANCED||ln||(ln=er),(hr=ve.charSpace||xa)!==void 0&&(Pn+=ce(Y(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(on=ve.horizontalScale)!==void 0&&(Pn+=ce(100*on)+` Tz
`),ve.lang;var ni=-1,Ri=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,ys=jn.internal.getCurrentPageInfo().pageContext;switch(Ri){case 0:case!1:case"fill":ni=0;break;case 1:case!0:case"stroke":ni=1;break;case 2:case"fillThenStroke":ni=2;break;case 3:case"invisible":ni=3;break;case 4:case"fillAndAddForClipping":ni=4;break;case 5:case"strokeAndAddPathForClipping":ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ni=6;break;case 7:case"addToPathForClipping":ni=7}var ra=ys.usedRenderingMode!==void 0?ys.usedRenderingMode:-1;ni!==-1?Pn+=ni+` Tr
`:ra!==-1&&(Pn+=`0 Tr
`),ni!==-1&&(ys.usedRenderingMode=ni),Vt=ve.align||"left";var mn,Va=pt*xi,f=jn.internal.pageSize.getWidth(),y=Sr[sr];hr=ve.charSpace||xa,ar=ve.maxWidth||0,Ar=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var A=[],C=function(Lt){return jn.getStringUnitWidth(Lt,{font:y,charSpace:hr,fontSize:pt,doKerning:!1})*pt/_i};if(Object.prototype.toString.call(x)==="[object Array]"){var T;at=wo(x),Vt!=="left"&&(mn=at.map(C));var U,Z=0;if(Vt==="right"){F-=mn[0],x=[],gr=at.length;for(var le=0;le<gr;le++)le===0?(U=Ki(F),T=bi(ee)):(U=Y(Z-mn[le]),T=-Va),x.push([at[le],U,T]),Z=mn[le]}else if(Vt==="center"){F-=mn[0]/2,x=[],gr=at.length;for(var ke=0;ke<gr;ke++)ke===0?(U=Ki(F),T=bi(ee)):(U=Y((Z-mn[ke])/2),T=-Va),x.push([at[ke],U,T]),Z=mn[ke]}else if(Vt==="left"){x=[],gr=at.length;for(var je=0;je<gr;je++)x.push(at[je])}else if(Vt==="justify"&&y.encoding==="Identity-H"){x=[],gr=at.length,ar=ar!==0?ar:f;for(var Ie=0,ne=0;ne<gr;ne++)if(T=ne===0?bi(ee):-Va,U=ne===0?Ki(F):Ie,ne<gr-1){var De=Y((ar-mn[ne])/(at[ne].split(" ").length-1)),we=at[ne].split(" ");x.push([we[0]+" ",U,T]),Ie=0;for(var Ce=1;Ce<we.length;Ce++){var Fe=(C(we[Ce-1]+" "+we[Ce])-C(we[Ce]))*_i+De;Ce==we.length-1?x.push([we[Ce],Fe,0]):x.push([we[Ce]+" ",Fe,0]),Ie-=Fe}}else x.push([at[ne],U,T]);x.push(["",Ie,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],gr=at.length,ar=ar!==0?ar:f,ne=0;ne<gr;ne++)T=ne===0?bi(ee):-Va,U=ne===0?Ki(F):0,ne<gr-1?A.push(ce(Y((ar-mn[ne])/(at[ne].split(" ").length-1)))):A.push(0),x.push([at[ne],U,T])}}var Pe=typeof ve.R2L=="boolean"?ve.R2L:Rt;Pe===!0&&(x=bo(x,function(Lt,It,Ut){return[Lt.split("").reverse().join(""),It,Ut]})),Qe={text:x,x:F,y:ee,options:ve,mutex:{pdfEscape:ri,activeFontKey:sr,fonts:Sr,activeFontSize:pt}},pr.publish("postProcessText",Qe),x=Qe.text,vs=Qe.mutex.isHex||!1;var Ve=Sr[sr].encoding;Ve!=="WinAnsiEncoding"&&Ve!=="StandardEncoding"||(x=bo(x,function(Lt,It,Ut){return[Zs(Lt),It,Ut]})),at=wo(x),x=[];for(var He,Ke,Xe,lt=0,yt=1,ut=Array.isArray(at[0])?yt:lt,gt="",kt=function(Lt,It,Ut){var Lr="";return Ut instanceof Ct?(Ut=typeof ve.angle=="number"?Qr(Ut,new Ct(1,0,0,1,Lt,It)):Qr(new Ct(1,0,0,1,Lt,It),Ut),H===M.ADVANCED&&(Ut=Qr(new Ct(1,0,0,-1,0,0),Ut)),Lr=Ut.join(" ")+` Tm
`):Lr=ce(Lt)+" "+ce(It)+` Td
`,Lr},ht=0;ht<at.length;ht++){switch(gt="",ut){case yt:Xe=(vs?"<":"(")+at[ht][0]+(vs?">":")"),He=parseFloat(at[ht][1]),Ke=parseFloat(at[ht][2]);break;case lt:Xe=(vs?"<":"(")+at[ht]+(vs?">":")"),He=Ki(F),Ke=bi(ee)}A!==void 0&&A[ht]!==void 0&&(gt=A[ht]+` Tw
`),ht===0?x.push(gt+kt(He,Ke,ln)+Xe):ut===lt?x.push(gt+Xe):ut===yt&&x.push(gt+kt(He,Ke,ln)+Xe)}x=ut===lt?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Nt=`BT
/`;return Nt+=sr+" "+pt+` Tf
`,Nt+=ce(pt*xi)+` TL
`,Nt+=gn+`
`,Nt+=Pn,Nt+=x,ae(Nt+="ET"),N[sr]=!0,jn};var wi=_.__private__.clip=_.clip=function(x){return ae(x==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return wi("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ae("n"),this};var Vi=_.__private__.isValidStyle=function(x){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(F=!0),F};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(x){return Vi(x)&&(g=x),this};var Wi=_.__private__.getStyle=_.getStyle=function(x){var F=g;switch(x){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=x}return F},ya=_.close=function(){return ae("h"),this};_.stroke=function(){return ae("S"),this},_.fill=function(x){return ui("f",x),this},_.fillEvenOdd=function(x){return ui("f*",x),this},_.fillStroke=function(x){return ui("B",x),this},_.fillStrokeEvenOdd=function(x){return ui("B*",x),this};var ui=function(x,F){en(F)==="object"?mo(F,x):ae(x)},wa=function(x){x===null||H===M.ADVANCED&&x===void 0||(x=Wi(x),ae(x))};function Ma(x,F,ee,ve,Me){var Qe=new Hu(F||this.boundingBox,ee||this.xStep,ve||this.yStep,this.gState,Me||this.matrix);Qe.stream=this.stream;var at=x+"$$"+this.cloneIndex+++"$$";return vr(at,Qe),Qe}var mo=function(x,F){var ee=mi[x.key],ve=mr[ee];if(ve instanceof au)ae("q"),ae(Ba(F)),ve.gState&&_.setGState(ve.gState),ae(x.matrix.toString()+" cm"),ae("/"+ee+" sh"),ae("Q");else if(ve instanceof Hu){var Me=new Ct(1,0,0,-1,0,ms());x.matrix&&(Me=Me.multiply(x.matrix||er),ee=Ma.call(ve,x.key,x.boundingBox,x.xStep,x.yStep,Me).id),ae("q"),ae("/Pattern cs"),ae("/"+ee+" scn"),ve.gState&&_.setGState(ve.gState),ae(F),ae("Q")}},Ba=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},fs=_.moveTo=function(x,F){return ae(ce(Y(x))+" "+ce(re(F))+" m"),this},Hi=_.lineTo=function(x,F){return ae(ce(Y(x))+" "+ce(re(F))+" l"),this},Ti=_.curveTo=function(x,F,ee,ve,Me,Qe){return ae([ce(Y(x)),ce(re(F)),ce(Y(ee)),ce(re(ve)),ce(Y(Me)),ce(re(Qe)),"c"].join(" ")),this};_.__private__.line=_.line=function(x,F,ee,ve,Me){if(isNaN(x)||isNaN(F)||isNaN(ee)||isNaN(ve)||!Vi(Me))throw new Error("Invalid arguments passed to jsPDF.line");return H===M.COMPAT?this.lines([[ee-x,ve-F]],x,F,[1,1],Me||"S"):this.lines([[ee-x,ve-F]],x,F,[1,1]).stroke()},_.__private__.lines=_.lines=function(x,F,ee,ve,Me,Qe){var at,Et,Vt,hr,ar,Ar,on,ln,jn,$n,Pn,vs;if(typeof x=="number"&&(vs=ee,ee=F,F=x,x=vs),ve=ve||[1,1],Qe=Qe||!1,isNaN(F)||isNaN(ee)||!Array.isArray(x)||!Array.isArray(ve)||!Vi(Me)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(fs(F,ee),at=ve[0],Et=ve[1],hr=x.length,$n=F,Pn=ee,Vt=0;Vt<hr;Vt++)(ar=x[Vt]).length===2?($n=ar[0]*at+$n,Pn=ar[1]*Et+Pn,Hi($n,Pn)):(Ar=ar[0]*at+$n,on=ar[1]*Et+Pn,ln=ar[2]*at+$n,jn=ar[3]*Et+Pn,$n=ar[4]*at+$n,Pn=ar[5]*Et+Pn,Ti(Ar,on,ln,jn,$n,Pn));return Qe&&ya(),wa(Me),this},_.path=function(x){for(var F=0;F<x.length;F++){var ee=x[F],ve=ee.c;switch(ee.op){case"m":fs(ve[0],ve[1]);break;case"l":Hi(ve[0],ve[1]);break;case"c":Ti.apply(this,ve);break;case"h":ya()}}return this},_.__private__.rect=_.rect=function(x,F,ee,ve,Me){if(isNaN(x)||isNaN(F)||isNaN(ee)||isNaN(ve)||!Vi(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return H===M.COMPAT&&(ve=-ve),ae([ce(Y(x)),ce(re(F)),ce(Y(ee)),ce(Y(ve)),"re"].join(" ")),wa(Me),this},_.__private__.triangle=_.triangle=function(x,F,ee,ve,Me,Qe,at){if(isNaN(x)||isNaN(F)||isNaN(ee)||isNaN(ve)||isNaN(Me)||isNaN(Qe)||!Vi(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-x,ve-F],[Me-ee,Qe-ve],[x-Me,F-Qe]],x,F,[1,1],at,!0),this},_.__private__.roundedRect=_.roundedRect=function(x,F,ee,ve,Me,Qe,at){if(isNaN(x)||isNaN(F)||isNaN(ee)||isNaN(ve)||isNaN(Me)||isNaN(Qe)||!Vi(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*ee),Qe=Math.min(Qe,.5*ve),this.lines([[ee-2*Me,0],[Me*Et,0,Me,Qe-Qe*Et,Me,Qe],[0,ve-2*Qe],[0,Qe*Et,-Me*Et,Qe,-Me,Qe],[2*Me-ee,0],[-Me*Et,0,-Me,-Qe*Et,-Me,-Qe],[0,2*Qe-ve],[0,-Qe*Et,Me*Et,-Qe,Me,-Qe]],x+Me,F,[1,1],at,!0),this},_.__private__.ellipse=_.ellipse=function(x,F,ee,ve,Me){if(isNaN(x)||isNaN(F)||isNaN(ee)||isNaN(ve)||!Vi(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*ee,at=4/3*(Math.SQRT2-1)*ve;return fs(x+ee,F),Ti(x+ee,F-at,x+Qe,F-ve,x,F-ve),Ti(x-Qe,F-ve,x-ee,F-at,x-ee,F),Ti(x-ee,F+at,x-Qe,F+ve,x,F+ve),Ti(x+Qe,F+ve,x+ee,F+at,x+ee,F),wa(Me),this},_.__private__.circle=_.circle=function(x,F,ee,ve){if(isNaN(x)||isNaN(F)||isNaN(ee)||!Vi(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,F,ee,ee,ve)},_.setFont=function(x,F,ee){return ee&&(F=Ee(F,ee)),sr=Fa(x,F,{disableWarning:!1}),this};var Ps=_.__private__.getFont=_.getFont=function(){return Sr[Fa.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var x,F,ee={};for(x in xt)if(xt.hasOwnProperty(x))for(F in ee[x]=[],xt[x])xt[x].hasOwnProperty(F)&&ee[x].push(F);return ee},_.addFont=function(x,F,ee,ve,Me){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(ee=Ee(ee,ve)),Me=Me||"Identity-H",zi.call(this,x,F,ee,Me)};var qa,Mo=t.lineWidth||.200025,ps=_.__private__.getLineWidth=_.getLineWidth=function(){return Mo},Ls=_.__private__.setLineWidth=_.setLineWidth=function(x){return Mo=x,ae(ce(Y(x))+" w"),this};_.__private__.setLineDash=lr.API.setLineDash=lr.API.setLineDashPattern=function(x,F){if(x=x||[],F=F||0,isNaN(F)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ee){return ce(Y(ee))}).join(" "),F=ce(Y(F)),ae("["+x+"] "+F+" d"),this};var ba=_.__private__.getLineHeight=_.getLineHeight=function(){return pt*qa};_.__private__.getLineHeight=_.getLineHeight=function(){return pt*qa};var Bo=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(qa=x),this},gs=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return qa};Bo(t.lineHeight);var Ki=_.__private__.getHorizontalCoordinate=function(x){return Y(x)},bi=_.__private__.getVerticalCoordinate=function(x){return H===M.ADVANCED?x:Ft[$].mediaBox.topRightY-Ft[$].mediaBox.bottomLeftY-Y(x)},vo=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(x){return ce(Ki(x))},Gi=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(x){return ce(bi(x))},zn=t.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return ti(zn)},_.__private__.setStrokeColor=_.setDrawColor=function(x,F,ee,ve){return zn=tn({ch1:x,ch2:F,ch3:ee,ch4:ve,pdfColorType:"draw",precision:2}),ae(zn),this};var Js=t.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return ti(Js)},_.__private__.setFillColor=_.setFillColor=function(x,F,ee,ve){return Js=tn({ch1:x,ch2:F,ch3:ee,ch4:ve,pdfColorType:"fill",precision:2}),ae(Js),this};var gn=t.textColor||"0 g",Ys=_.__private__.getTextColor=_.getTextColor=function(){return ti(gn)};_.__private__.setTextColor=_.setTextColor=function(x,F,ee,ve){return gn=tn({ch1:x,ch2:F,ch3:ee,ch4:ve,pdfColorType:"text",precision:3}),this};var xa=t.charSpace,Is=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(xa||0)};_.__private__.setCharSpace=_.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xa=x,this};var Ua=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(x){var F=_.CapJoinStyles[x];if(F===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ua=F,ae(F+" J"),this};var Xs=0;_.__private__.setLineJoin=_.setLineJoin=function(x){var F=_.CapJoinStyles[x];if(F===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xs=F,ae(F+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(ce(Y(x))+" M"),this},_.GState=ph,_.setGState=function(x){(x=typeof x=="string"?dt[An[x]]:_a(null,x)).equals(Er)||(ae("/"+x.id+" gs"),Er=x)};var _a=function(x,F){if(!x||!An[x]){var ee=!1;for(var ve in dt)if(dt.hasOwnProperty(ve)&&dt[ve].equals(F)){ee=!0;break}if(ee)F=dt[ve];else{var Me="GS"+(Object.keys(dt).length+1).toString(10);dt[Me]=F,F.id=Me}return x&&(An[x]=F.id),pr.publish("addGState",F),F}};_.addGState=function(x,F){return _a(x,F),this},_.saveGraphicsState=function(){return ae("q"),On.push({key:sr,size:pt,color:gn}),this},_.restoreGraphicsState=function(){ae("Q");var x=On.pop();return sr=x.key,pt=x.size,gn=x.color,Er=null,this},_.setCurrentTransformationMatrix=function(x){return ae(x.toString()+" cm"),this},_.comment=function(x){return ae("#"+x),this};var Ji=function(x,F){var ee=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Qe){isNaN(Qe)||(ee=parseFloat(Qe))}});var ve=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Qe){isNaN(Qe)||(ve=parseFloat(Qe))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(Qe){Me=Qe.toString()}}),this},an=function(x,F,ee,ve){Ji.call(this,x,F),this.type="rect";var Me=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(at){isNaN(at)||(Me=parseFloat(at))}});var Qe=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(at){isNaN(at)||(Qe=parseFloat(at))}}),this},Os=function(){this.page=xr,this.currentPage=$,this.pages=st.slice(0),this.pagesContext=Ft.slice(0),this.x=Xr,this.y=kr,this.matrix=ei,this.width=Ts($),this.height=ms($),this.outputDestination=bt,this.id="",this.objectNumber=-1};Os.prototype.restore=function(){xr=this.page,$=this.currentPage,Ft=this.pagesContext,st=this.pages,Xr=this.x,kr=this.y,ei=this.matrix,yo($,this.width),za($,this.height),bt=this.outputDestination};var ka=function(x,F,ee,ve,Me){sn.push(new Os),xr=$=0,st=[],Xr=x,kr=F,ei=Me,Cs([ee,ve])},ul=function(x){if(qr[x])sn.pop().restore();else{var F=new Os,ee="Xo"+(Object.keys(Cr).length+1).toString(10);F.id=ee,qr[x]=ee,Cr[ee]=F,pr.publish("addFormObject",F),sn.pop().restore()}};for(var Qs in _.beginFormObject=function(x,F,ee,ve,Me){return ka(x,F,ee,ve,Me),this},_.endFormObject=function(x){return ul(x),this},_.doFormObject=function(x,F){var ee=Cr[qr[x]];return ae("q"),ae(F.toString()+" cm"),ae("/"+ee.id+" Do"),ae("Q"),this},_.getFormObject=function(x){var F=Cr[qr[x]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},_.save=function(x,F){return x=x||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(iu($i(pn()),x),typeof iu.unload=="function"&&cr.setTimeout&&setTimeout(iu.unload,911),this):new Promise(function(ee,ve){try{var Me=iu($i(pn()),x);typeof iu.unload=="function"&&cr.setTimeout&&setTimeout(iu.unload,911),ee(Me)}catch(Qe){ve(Qe.message)}})},lr.API)lr.API.hasOwnProperty(Qs)&&(Qs==="events"&&lr.API.events.length?function(x,F){var ee,ve,Me;for(Me=F.length-1;Me!==-1;Me--)ee=F[Me][0],ve=F[Me][1],x.subscribe.apply(x,[ee].concat(typeof ve=="function"?[ve]:ve))}(pr,lr.API.events):_[Qs]=lr.API[Qs]);var Ts=_.getPageWidth=function(x){return(Ft[x=x||$].mediaBox.topRightX-Ft[x].mediaBox.bottomLeftX)/wt},yo=_.setPageWidth=function(x,F){Ft[x].mediaBox.topRightX=F*wt+Ft[x].mediaBox.bottomLeftX},ms=_.getPageHeight=function(x){return(Ft[x=x||$].mediaBox.topRightY-Ft[x].mediaBox.bottomLeftY)/wt},za=_.setPageHeight=function(x,F){Ft[x].mediaBox.topRightY=F*wt+Ft[x].mediaBox.bottomLeftY};return _.internal={pdfEscape:ri,getStyle:Wi,getFont:Ps,getFontSize:St,getCharSpace:Is,getTextColor:Ys,getLineHeight:ba,getLineHeightFactor:gs,getLineWidth:ps,write:Xt,getHorizontalCoordinate:Ki,getVerticalCoordinate:bi,getCoordinateString:vo,getVerticalCoordinateString:Gi,collections:{},newObject:Mr,newAdditionalObject:qn,newObjectDeferred:Pr,newObjectDeferredBegin:Ur,getFilters:vi,putStream:Li,events:pr,scaleFactor:wt,pageSize:{getWidth:function(){return Ts($)},setWidth:function(x){yo($,x)},getHeight:function(){return ms($)},setHeight:function(x){za($,x)}},encryptionOptions:w,encryption:rn,getEncryptor:ds,output:cs,getNumberOfPages:Da,pages:st,out:ae,f2:Re,f3:V,getPageInfo:zr,getPageInfoByObjId:$t,getCurrentPageInfo:hs,getPDFVersion:P,Point:Ji,Rectangle:an,Matrix:Ct,hasHotfix:yi},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Ts($)},set:function(x){yo($,x)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return ms($)},set:function(x){za($,x)},enumerable:!0,configurable:!0}),us.call(_,ot),sr="F1",po(o,r),pr.publish("initialized"),_}Uu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Uu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Uu.prototype.processOwnerPassword=function(t,e){return Sp(kp(e).substr(0,5),t)},Uu.prototype.encryptor=function(t,e){var r=kp(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Sp(r,i)}},ph.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||en(t)!==en(this))return!1;var i=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&i--;return i===0},lr.API={events:[]},lr.version="3.0.1";var Mn=lr.API,i0=1,hu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ou=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},br=function(t){return t.toFixed(2)},Cl=function(t){return t.toFixed(5)};Mn.__acroform__={};var Ws=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Kg=function(t){return t*i0},Po=function(t){var e=new Tv,r=Bt.internal.getHeight(t)||0,i=Bt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(br(i)),Number(br(r))],e},xw=Mn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},_w=Mn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},kw=Mn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Yn=Mn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kw(t,e-1)},Xn=Mn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xw(t,e-1)},Qn=Mn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _w(t,e-1)},Sw=Mn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,o=t[0],a=t[1],l=t[2],c=t[3],h={};return h.lowerLeft_X=r(o)||0,h.lowerLeft_Y=i(a+c)||0,h.upperRight_X=r(o+l)||0,h.upperRight_Y=i(a)||0,[Number(br(h.lowerLeft_X)),Number(br(h.lowerLeft_Y)),Number(br(h.upperRight_X)),Number(br(h.upperRight_Y))]},Nw=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,i=Np(t,r),o=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+o+" "+br(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Po(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Np=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=t.multiline?o.map(function(V){return V.split(`
`)}):o.map(function(V){return[V]});var a=r,l=Bt.internal.getHeight(t)||0;l=l<0?-l:l;var c=Bt.internal.getWidth(t)||0;c=c<0?-c:c;var h=function(V,Y,fe){if(V+1<o.length){var re=Y+" "+o[V+1][0];return Vd(re,t,fe).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var g,w,b=Vd("3",t,a).height,N=t.multiline?l-a:(l-b)/2,_=N+=2,O=0,P=0,R=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Vd(e,t,a=12).width+", FieldWidth:"+c+`
`;break}for(var L="",M=0,H=0;H<o.length;H++)if(o.hasOwnProperty(H)){var oe=!1;if(o[H].length!==1&&R!==o[H].length-1){if((b+2)*(M+2)+2>l)continue e;L+=o[H][R],oe=!0,P=H,H--}else{L=(L+=o[H][R]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var pe=parseInt(H),Ee=h(pe,L,a),ce=H>=o.length-1;if(Ee&&!ce){L+=" ",R=0;continue}if(Ee||ce){if(ce)P=pe;else if(t.multiline&&(b+2)*(M+2)+2>l)continue e}else{if(!t.multiline||(b+2)*(M+2)+2>l)continue e;P=pe}}for(var G="",he=O;he<=P;he++){var Re=o[he];if(t.multiline){if(he===P){G+=Re[R]+" ",R=(R+1)%Re.length;continue}if(he===O){G+=Re[Re.length-1]+" ";continue}}G+=Re[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,w=Vd(G,t,a).width,t.textAlign){case"right":g=c-w-2;break;case"center":g=(c-w)/2;break;case"left":default:g=2}e+=br(g)+" "+br(_)+` Td
`,e+="("+hu(G)+`) Tj
`,e+=-br(g)+` 0 Td
`,_=-(a+2),w=0,O=oe?P:P+1,M++,L=""}break}return i.text=e,i.fontSize=a,i},Vd=function(t,e,r){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:o}},Aw={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jw=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===r.type&&i.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Ew=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var i=r,o=t[r];e.internal.newObjectDeferredBegin(o.objId,!0),en(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete t[i]}},Cw=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ho.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Aw)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i0=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Rv,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];a.objId=void 0,a.hasAnnotation&&jw(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(i,o){var a=!i;for(var l in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var c=i[l],h=[],g=c.Rect;if(c.Rect&&(c.Rect=Sw(c.Rect,o)),o.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Bt.createDefaultAppearanceStream(c),en(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=g,c.hasAppearanceStream&&!c.appearanceStreamContent){var w=Nw(c);h.push({key:"AP",value:"<</N "+w+">>"}),o.internal.acroformPlugin.xForms.push(w)}if(c.appearanceStreamContent){var b="";for(var N in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(N)){var _=c.appearanceStreamContent[N];if(b+="/"+N+" ",b+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var l in _)if(_.hasOwnProperty(l)){var O=_[l];typeof O=="function"&&(O=O.call(o,c)),b+="/"+l+" "+O+" ",o.internal.acroformPlugin.xForms.indexOf(O)>=0||o.internal.acroformPlugin.xForms.push(O)}}else typeof(O=_)=="function"&&(O=O.call(o,c)),b+="/"+l+" "+O,o.internal.acroformPlugin.xForms.indexOf(O)>=0||o.internal.acroformPlugin.xForms.push(O);b+=">>"}h.push({key:"AP",value:`<<
`+b+">>"})}o.internal.putStream({additionalKeyValues:h,objectId:c.objId}),o.internal.out("endobj")}a&&Ew(o.internal.acroformPlugin.xForms,o)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ov=Mn.__acroform__.arrayToPdfArray=function(t,e,r){var i=function(l){return l};if(Array.isArray(t)){for(var o="[",a=0;a<t.length;a++)switch(a!==0&&(o+=" "),en(t[a])){case"boolean":case"number":case"object":o+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(i=r.internal.getEncryptor(e)),o+="("+hu(i(t[a].toString()))+")"):o+=t[a].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Jf=function(t,e,r){var i=function(o){return o};return e!==void 0&&r&&(i=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+hu(i(t))+")"},Lo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Lo.prototype.toString=function(){return this.objId+" 0 R"},Lo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Lo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var i=e[r],o=this[i];o&&(Array.isArray(o)?t.push({key:i,value:Ov(o,this.objId,this.scope)}):o instanceof Lo?(o.scope=this.scope,t.push({key:i,value:o.objId+" 0 R"})):typeof o!="function"&&t.push({key:i,value:o}))}return t};var Tv=function(){Lo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ws(Tv,Lo);var Rv=function(){Lo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(i){return i};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+hu(r(t))+")"}},set:function(r){t=r}})};Ws(Rv,Lo);var ho=function t(){Lo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(L){L?this.F=Xn(e,3):this.F=Qn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');r=L}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(L){i=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(L){i[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(L){i[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(L){i[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(L){i[3]=L}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof gh)return;a="FieldObject"+t.FieldNum++}var L=function(M){return M};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+hu(L(a))+")"},set:function(L){a=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(L){a=L}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(L){l=L}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/i0:g},set:function(L){g=L}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(L){w=L}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof gh||this instanceof cu))return Jf(b,this.objId,this.scope)},set:function(L){L=L.toString(),b=L}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof Ei?N:Jf(N,this.objId,this.scope)},set:function(L){L=L.toString(),N=this instanceof Ei?L:L.substr(0,1)==="("?Ou(L.substr(1,L.length-2)):Ou(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ei?Ou(N.substr(1,N.length-1)):N},set:function(L){L=L.toString(),N=this instanceof Ei?"/"+L:L}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ei?_:Jf(_,this.objId,this.scope)},set:function(L){L=L.toString(),_=this instanceof Ei?L:L.substr(0,1)==="("?Ou(L.substr(1,L.length-2)):Ou(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ei?Ou(_.substr(1,_.length-1)):_},set:function(L){L=L.toString(),_=this instanceof Ei?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,P=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return P},set:function(L){L=!!L,P=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(L){O=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(L){L?this.Ff=Xn(this.Ff,1):this.Ff=Qn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(L){L?this.Ff=Xn(this.Ff,2):this.Ff=Qn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(L){L?this.Ff=Xn(this.Ff,3):this.Ff=Qn(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');R=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(R){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:R=2;break;case"center":case 1:R=1;break;case"left":case 0:default:R=0}}})};Ws(ho,Lo);var Gu=function(){ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ov(e,this.objId,this.scope)},set:function(r){var i,o;o=[],typeof(i=r)=="string"&&(o=function(a,l,c){c||(c=1);for(var h,g=[];h=l.exec(a);)g.push(h[c]);return g}(i,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,i){for(i=i||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(r){r?this.Ff=Xn(this.Ff,18):this.Ff=Qn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Xn(this.Ff,19):this.Ff=Qn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(r){r?(this.Ff=Xn(this.Ff,20),e.sort()):this.Ff=Qn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(r){r?this.Ff=Xn(this.Ff,22):this.Ff=Qn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(r){r?this.Ff=Xn(this.Ff,23):this.Ff=Qn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(r){r?this.Ff=Xn(this.Ff,27):this.Ff=Qn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ws(Gu,ho);var Ju=function(){Gu.call(this),this.fontName="helvetica",this.combo=!1};Ws(Ju,Gu);var Yu=function(){Ju.call(this),this.combo=!0};Ws(Yu,Ju);var rh=function(){Yu.call(this),this.edit=!0};Ws(rh,Yu);var Ei=function(){ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(r){r?this.Ff=Xn(this.Ff,15):this.Ff=Qn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(r){r?this.Ff=Xn(this.Ff,16):this.Ff=Qn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(r){r?this.Ff=Xn(this.Ff,17):this.Ff=Qn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(r){r?this.Ff=Xn(this.Ff,26):this.Ff=Qn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,o=[];for(i in o.push("<<"),e)o.push("/"+i+" ("+hu(r(e[i]))+")");return o.push(">>"),o.join(`
`)}},set:function(r){en(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ws(Ei,ho);var nh=function(){Ei.call(this),this.pushButton=!0};Ws(nh,Ei);var Xu=function(){Ei.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ws(Xu,Ei);var gh=function(){var t,e;ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(c){return c};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+hu(o(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(o){en(o)==="object"&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){typeof o=="string"&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(o){r="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ws(gh,ho),Xu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Xu.prototype.createOption=function(t){var e=new gh;return e.Parent=this,e.optionName=t,this.Kids.push(e),Pw.call(this.scope,e),e};var ih=function(){Ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bt.CheckBox.createAppearanceStream()};Ws(ih,Ei);var cu=function(){ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Xn(this.Ff,13):this.Ff=Qn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Xn(this.Ff,21):this.Ff=Qn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Xn(this.Ff,23):this.Ff=Qn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Xn(this.Ff,24):this.Ff=Qn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Xn(this.Ff,25):this.Ff=Qn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Xn(this.Ff,26):this.Ff=Qn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ws(cu,ho);var sh=function(){cu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(t){t?this.Ff=Xn(this.Ff,14):this.Ff=Qn(this.Ff,14)}}),this.password=!0};Ws(sh,cu);var Bt={CheckBox:{createAppearanceStream:function(){return{N:{On:Bt.CheckBox.YesNormal},D:{On:Bt.CheckBox.YesPushDown,Off:Bt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Po(t);e.scope=t.scope;var r=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=Np(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+br(Bt.internal.getWidth(t))+" "+br(Bt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+br(a.fontSize)+" Tf "+o),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Po(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=[],a=Bt.internal.getHeight(t),l=Bt.internal.getWidth(t),c=Np(t,t.caption);return o.push("1 g"),o.push("0 0 "+br(l)+" "+br(a)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+br(l-1)+" "+br(a-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+r+" "+br(c.fontSize)+" Tf "+i),o.push(c.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(t){var e=Po(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+br(Bt.internal.getWidth(t))+" "+br(Bt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Bt.RadioButton.Circle.YesNormal,e.D[t]=Bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Po(t);e.scope=t.scope;var r=[],i=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Bt.internal.Bezier_C,a=Number((i*o).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Cl(Bt.internal.getWidth(t)/2)+" "+Cl(Bt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Po(t);e.scope=t.scope;var r=[],i=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),a=Number((o*Bt.internal.Bezier_C).toFixed(5)),l=Number((i*Bt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Cl(Bt.internal.getWidth(t)/2)+" "+Cl(Bt.internal.getHeight(t)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),r.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),r.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),r.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Cl(Bt.internal.getWidth(t)/2)+" "+Cl(Bt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Po(t);e.scope=t.scope;var r=[],i=Bt.internal.getWidth(t)<=Bt.internal.getHeight(t)?Bt.internal.getWidth(t)/4:Bt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),a=Number((o*Bt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Cl(Bt.internal.getWidth(t)/2)+" "+Cl(Bt.internal.getHeight(t)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),r.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),r.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),r.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Bt.RadioButton.Cross.YesNormal,e.D[t]=Bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Po(t);e.scope=t.scope;var r=[],i=Bt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+br(Bt.internal.getWidth(t)-2)+" "+br(Bt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(br(i.x1.x)+" "+br(i.x1.y)+" m"),r.push(br(i.x2.x)+" "+br(i.x2.y)+" l"),r.push(br(i.x4.x)+" "+br(i.x4.y)+" m"),r.push(br(i.x3.x)+" "+br(i.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Po(t);e.scope=t.scope;var r=Bt.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+br(Bt.internal.getWidth(t))+" "+br(Bt.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+br(Bt.internal.getWidth(t)-2)+" "+br(Bt.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(br(r.x1.x)+" "+br(r.x1.y)+" m"),i.push(br(r.x2.x)+" "+br(r.x2.y)+" l"),i.push(br(r.x4.x)+" "+br(r.x4.y)+" m"),i.push(br(r.x3.x)+" "+br(r.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Po(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+br(Bt.internal.getWidth(t))+" "+br(Bt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Bt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Bt.internal.getWidth(t),r=Bt.internal.getHeight(t),i=Math.min(e,r);return{x1:{x:(e-i)/2,y:(r-i)/2+i},x2:{x:(e-i)/2+i,y:(r-i)/2},x3:{x:(e-i)/2,y:(r-i)/2},x4:{x:(e-i)/2+i,y:(r-i)/2+i}}}},Bt.internal.getWidth=function(t){var e=0;return en(t)==="object"&&(e=Kg(t.Rect[2])),e},Bt.internal.getHeight=function(t){var e=0;return en(t)==="object"&&(e=Kg(t.Rect[3])),e};var Pw=Mn.addField=function(t){if(Cw(this,t),!(t instanceof ho))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Mn.AcroFormChoiceField=Gu,Mn.AcroFormListBox=Ju,Mn.AcroFormComboBox=Yu,Mn.AcroFormEditBox=rh,Mn.AcroFormButton=Ei,Mn.AcroFormPushButton=nh,Mn.AcroFormRadioButton=Xu,Mn.AcroFormCheckBox=ih,Mn.AcroFormTextField=cu,Mn.AcroFormPasswordField=sh,Mn.AcroFormAppearance=Bt,Mn.AcroForm={ChoiceField:Gu,ListBox:Ju,ComboBox:Yu,EditBox:rh,Button:Ei,PushButton:nh,RadioButton:Xu,CheckBox:ih,TextField:cu,PasswordField:sh,Appearance:Bt},lr.AcroForm={ChoiceField:Gu,ListBox:Ju,ComboBox:Yu,EditBox:rh,Button:Ei,PushButton:nh,RadioButton:Xu,CheckBox:ih,TextField:cu,PasswordField:sh,Appearance:Bt};lr.AcroForm;function Dv(t){return t.reduce(function(e,r,i){return e[r]=i,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(V,Y){var fe,re,qe,Be,me,te=e;if((Y=Y||e)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(Ee(V))for(me in r)for(qe=r[me],fe=0;fe<qe.length;fe+=1){for(Be=!0,re=0;re<qe[fe].length;re+=1)if(qe[fe][re]!==void 0&&qe[fe][re]!==V[re]){Be=!1;break}if(Be===!0){te=me;break}}else for(me in r)for(qe=r[me],fe=0;fe<qe.length;fe+=1){for(Be=!0,re=0;re<qe[fe].length;re+=1)if(qe[fe][re]!==void 0&&qe[fe][re]!==V.charCodeAt(re)){Be=!1;break}if(Be===!0){te=me;break}}return te===e&&Y!==e&&(te=Y),te},o=function V(Y){for(var fe=this.internal.write,re=this.internal.putStream,qe=(0,this.internal.getFilters)();qe.indexOf("FlateEncode")!==-1;)qe.splice(qe.indexOf("FlateEncode"),1);Y.objectId=this.internal.newObject();var Be=[];if(Be.push({key:"Type",value:"/XObject"}),Be.push({key:"Subtype",value:"/Image"}),Be.push({key:"Width",value:Y.width}),Be.push({key:"Height",value:Y.height}),Y.colorSpace===R.INDEXED?Be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Y.palette.length/3-1)+" "+("sMask"in Y&&Y.sMask!==void 0?Y.objectId+2:Y.objectId+1)+" 0 R]"}):(Be.push({key:"ColorSpace",value:"/"+Y.colorSpace}),Y.colorSpace===R.DEVICE_CMYK&&Be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Be.push({key:"BitsPerComponent",value:Y.bitsPerComponent}),"decodeParameters"in Y&&Y.decodeParameters!==void 0&&Be.push({key:"DecodeParms",value:"<<"+Y.decodeParameters+">>"}),"transparency"in Y&&Array.isArray(Y.transparency)){for(var me="",te=0,ye=Y.transparency.length;te<ye;te++)me+=Y.transparency[te]+" "+Y.transparency[te]+" ";Be.push({key:"Mask",value:"["+me+"]"})}Y.sMask!==void 0&&Be.push({key:"SMask",value:Y.objectId+1+" 0 R"});var be=Y.filter!==void 0?["/"+Y.filter]:void 0;if(re({data:Y.data,additionalKeyValues:Be,alreadyAppliedFilters:be,objectId:Y.objectId}),fe("endobj"),"sMask"in Y&&Y.sMask!==void 0){var se="/Predictor "+Y.predictor+" /Colors 1 /BitsPerComponent "+Y.bitsPerComponent+" /Columns "+Y.width,I={width:Y.width,height:Y.height,colorSpace:"DeviceGray",bitsPerComponent:Y.bitsPerComponent,decodeParameters:se,data:Y.sMask};"filter"in Y&&(I.filter=Y.filter),V.call(this,I)}if(Y.colorSpace===R.INDEXED){var $=this.internal.newObject();re({data:G(new Uint8Array(Y.palette)),objectId:$}),fe("endobj")}},a=function(){var V=this.internal.collections.addImage_images;for(var Y in V)o.call(this,V[Y])},l=function(){var V,Y=this.internal.collections.addImage_images,fe=this.internal.write;for(var re in Y)fe("/I"+(V=Y[re]).index,V.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var V=this.internal.collections.addImage_images;return c.call(this),V},g=function(){return Object.keys(this.internal.collections.addImage_images).length},w=function(V){return typeof t["process"+V.toUpperCase()]=="function"},b=function(V){return en(V)==="object"&&V.nodeType===1},N=function(V,Y){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var fe=""+V.getAttribute("src");if(fe.indexOf("data:image/")===0)return Lc(unescape(fe).split("base64,").pop());var re=t.loadFile(fe,!0);if(re!==void 0)return re}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var qe;switch(Y){case"PNG":qe="image/png";break;case"WEBP":qe="image/webp";break;case"JPEG":case"JPG":default:qe="image/jpeg"}return Lc(V.toDataURL(qe,1).split("base64,").pop())}},_=function(V){var Y=this.internal.collections.addImage_images;if(Y){for(var fe in Y)if(V===Y[fe].alias)return Y[fe]}},O=function(V,Y,fe){return V||Y||(V=-96,Y=-96),V<0&&(V=-1*fe.width*72/V/this.internal.scaleFactor),Y<0&&(Y=-1*fe.height*72/Y/this.internal.scaleFactor),V===0&&(V=Y*fe.width/fe.height),Y===0&&(Y=V*fe.height/fe.width),[V,Y]},P=function(V,Y,fe,re,qe,Be){var me=O.call(this,fe,re,qe),te=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,be=h.call(this);if(fe=me[0],re=me[1],be[qe.index]=qe,Be){Be*=Math.PI/180;var se=Math.cos(Be),I=Math.sin(Be),$=function(ie){return ie.toFixed(4)},X=[$(se),$(I),$(-1*I),$(se),0,0,"cm"]}this.internal.write("q"),Be?(this.internal.write([1,"0","0",1,te(V),ye(Y+re),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([te(fe),"0","0",te(re),"0","0","cm"].join(" "))):this.internal.write([te(fe),"0","0",te(re),te(V),ye(Y+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+qe.index+" Do"),this.internal.write("Q")},R=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=t.__addimage__.sHashCode=function(V){var Y,fe,re=0;if(typeof V=="string")for(fe=V.length,Y=0;Y<fe;Y++)re=(re<<5)-re+V.charCodeAt(Y),re|=0;else if(Ee(V))for(fe=V.byteLength/2,Y=0;Y<fe;Y++)re=(re<<5)-re+V[Y],re|=0;return re},H=t.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var Y=!0;return V.length===0&&(Y=!1),V.length%4!=0&&(Y=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(Y=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(Y=!1),Y},oe=t.__addimage__.extractImageFromDataUrl=function(V){if(V==null||!(V=V.trim()).startsWith("data:"))return null;var Y=V.indexOf(",");return Y<0?null:V.substring(0,Y).trim().endsWith("base64")?V.substring(Y+1):null},pe=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(V){return pe()&&V instanceof ArrayBuffer};var Ee=t.__addimage__.isArrayBufferView=function(V){return pe()&&typeof Uint32Array<"u"&&(V instanceof Int8Array||V instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array)},ce=t.__addimage__.binaryStringToUint8Array=function(V){for(var Y=V.length,fe=new Uint8Array(Y),re=0;re<Y;re++)fe[re]=V.charCodeAt(re);return fe},G=t.__addimage__.arrayBufferToBinaryString=function(V){for(var Y="",fe=Ee(V)?V:new Uint8Array(V),re=0;re<fe.length;re+=8192)Y+=String.fromCharCode.apply(null,fe.subarray(re,re+8192));return Y};t.addImage=function(){var V,Y,fe,re,qe,Be,me,te,ye;if(typeof arguments[1]=="number"?(Y=e,fe=arguments[1],re=arguments[2],qe=arguments[3],Be=arguments[4],me=arguments[5],te=arguments[6],ye=arguments[7]):(Y=arguments[1],fe=arguments[2],re=arguments[3],qe=arguments[4],Be=arguments[5],me=arguments[6],te=arguments[7],ye=arguments[8]),en(V=arguments[0])==="object"&&!b(V)&&"imageData"in V){var be=V;V=be.imageData,Y=be.format||Y||e,fe=be.x||fe||0,re=be.y||re||0,qe=be.w||be.width||qe,Be=be.h||be.height||Be,me=be.alias||me,te=be.compression||te,ye=be.rotation||be.angle||ye}var se=this.internal.getFilters();if(te===void 0&&se.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(fe)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=he.call(this,V,Y,me,te);return P.call(this,fe,re,qe,Be,I,ye),this};var he=function(V,Y,fe,re){var qe,Be,me;if(typeof V=="string"&&i(V)===e){V=unescape(V);var te=Re(V,!1);(te!==""||(te=t.loadFile(V,!0))!==void 0)&&(V=te)}if(b(V)&&(V=N(V,Y)),Y=i(V,Y),!w(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(((me=fe)==null||me.length===0)&&(fe=function(ye){return typeof ye=="string"||Ee(ye)?M(ye):Ee(ye.data)?M(ye.data):null}(V)),(qe=_.call(this,fe))||(pe()&&(V instanceof Uint8Array||Y==="RGBA"||(Be=V,V=ce(V))),qe=this["process"+Y.toUpperCase()](V,g.call(this),fe,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:L.NONE}(re),Be)),!qe)throw new Error("An unknown error occurred whilst processing the image.");return qe},Re=t.__addimage__.convertBase64ToBinaryString=function(V,Y){Y=typeof Y!="boolean"||Y;var fe,re="";if(typeof V=="string"){var qe;fe=(qe=oe(V))!==null&&qe!==void 0?qe:V;try{re=Lc(fe)}catch(Be){if(Y)throw H(fe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};t.getImageProperties=function(V){var Y,fe,re="";if(b(V)&&(V=N(V)),typeof V=="string"&&i(V)===e&&((re=Re(V,!1))===""&&(re=t.loadFile(V)||""),V=re),fe=i(V),!w(fe))throw new Error("addImage does not support files of type '"+fe+"', please ensure that a plugin for '"+fe+"' support is added.");if(!pe()||V instanceof Uint8Array||(V=ce(V)),!(Y=this["process"+fe.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return Y.fileType=fe,Y}})(lr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};lr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var i,o,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(r.objId),g=r.pageContext.annotations,w=!1,b=0;b<g.length&&!w;b++)switch((i=g[b]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var N=0;N<g.length;N++){i=g[N];var _=this.internal.pdfEscape,O=this.internal.getEncryptor(r.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var P=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(P.objId),M=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(o="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+_(L(i.contents))+")",a+=" /Popup "+R.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+_(L(M))+") >>",P.content=a;var H=P.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+l(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+H,i.open&&(a+=" /Open true"),a+=" >>",R.content=a,this.internal.write(P.objId,"0 R",R.objId,"0 R");break;case"freetext":o="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var oe=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+_(O(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+oe+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var pe=this.annotations._nameMap[i.options.name];i.options.pageNumber=pe.page,i.options.top=pe.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+_(O(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var Ee=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+Ee+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var i=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":i.pageContext.annotations.push(r)}},t.link=function(r,i,o,a,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(r),y:g(i),w:h(r+o),h:g(i+a)},options:l,type:"link"})},t.textWithLink=function(r,i,o,a){var l,c,h=this.getTextWidth(r),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var w=this.splitTextToSize(r,c).length;l=Math.ceil(g*w)}else c=h,l=g;return this.text(r,i,o,a),o+=.2*g,a.align==="center"&&(i-=h/2),a.align==="right"&&(i-=h),this.link(i,o-g,c,l,a),h},t.getTextWidth=function(r){var i=this.internal.getFontSize();return this.getStringUnitWidth(r)*i/this.internal.scaleFactor}}(lr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(P){return e[P.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(P){return typeof P=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(P)},c=t.__arabicParser__.isArabicEndLetter=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(P){return l(P)&&o.indexOf(P.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length>=1};var g=t.__arabicParser__.arabicLetterHasFinalForm=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length>=3};var w=t.__arabicParser__.arabicLetterHasMedialForm=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length==4},b=t.__arabicParser__.resolveLigatures=function(P){var R=0,L=r,M="",H=0;for(R=0;R<P.length;R+=1)L[P.charCodeAt(R)]!==void 0?(H++,typeof(L=L[P.charCodeAt(R)])=="number"&&(M+=String.fromCharCode(L),L=r,H=0),R===P.length-1&&(L=r,M+=P.charAt(R-(H-1)),R-=H-1,H=0)):(L=r,M+=P.charAt(R-H),R-=H,H=0);return M};t.__arabicParser__.isArabicDiacritic=function(P){return P!==void 0&&i[P.charCodeAt(0)]!==void 0};var N=t.__arabicParser__.getCorrectForm=function(P,R,L){return l(P)?a(P)===!1?-1:!g(P)||!l(R)&&!l(L)||!l(L)&&c(R)||c(P)&&!l(R)||c(P)&&h(R)||c(P)&&c(R)?0:w(P)&&l(R)&&!c(R)&&l(L)&&g(L)?3:c(P)||!l(L)?1:2:-1},_=function(P){var R=0,L=0,M=0,H="",oe="",pe="",Ee=(P=P||"").split("\\s+"),ce=[];for(R=0;R<Ee.length;R+=1){for(ce.push(""),L=0;L<Ee[R].length;L+=1)H=Ee[R][L],oe=Ee[R][L-1],pe=Ee[R][L+1],l(H)?(M=N(H,oe,pe),ce[R]+=M!==-1?String.fromCharCode(e[H.charCodeAt(0)][M]):H):ce[R]+=H;ce[R]=b(ce[R])}return ce.join(" ")},O=t.__arabicParser__.processArabic=t.processArabic=function(){var P,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(R)){var M=0;for(L=[],M=0;M<R.length;M+=1)Array.isArray(R[M])?L.push([_(R[M][0]),R[M][1],R[M][2]]):L.push([_(R[M])]);P=L}else P=_(R);return typeof arguments[0]=="string"?P:(arguments[0].text=P,arguments[0])};t.events.push(["preProcessText",O])}(lr.API),lr.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(c){o=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,i){var o;if((r=r||"2d")!=="2d")return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(lr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(P){h=P}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(P){g=P}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(P){w=P}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(P){b=P}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(P){N=P}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(P){_=P}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(P){O=P}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,g){i.call(this);var w=(g=g||{}).fontSize||this.getFontSize(),b=g.font||this.getFont(),N=g.scaleFactor||this.internal.scaleFactor,_=0,O=0,P=0,R=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var L=g.maxWidth;L>0?typeof h=="string"?h=this.splitTextToSize(h,L):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(H,oe){return H.concat(R.splitTextToSize(oe,L))},[])):h=Array.isArray(h)?h:[h];for(var M=0;M<h.length;M++)_<(P=this.getStringUnitWidth(h[M],{font:b})*w)&&(_=P);return _!==0&&(O=h.length),{w:_/=N,h:Math.max((O*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/N,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var g=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===h.lineNumber?(h.x=(g.x||0)+(g.width||0),h.y=g.y||0):g.y+g.height+h.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=b.top,_&&N&&(this.printHeaderRow(h.lineNumber,!0),h.y+=N[0].height)):h.y=g.y+g.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,r===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-w,h.y+w,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+w,{align:"center",baseline:"top",maxWidth:h.width-w-w}):this.text(h.text,h.x+w,h.y+w,{align:"left",baseline:"top",maxWidth:h.width-w-w})),this.internal.__cell__.lastCell=h,this};t.table=function(h,g,w,b,N){if(i.call(this),!w)throw new Error("No data for PDF table.");var _,O,P,R,L=[],M=[],H=[],oe={},pe={},Ee=[],ce=[],G=(N=N||{}).autoSize||!1,he=N.printHeaders!==!1,Re=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,V=N.margins||Object.assign({width:this.getPageWidth()},e),Y=typeof N.padding=="number"?N.padding:3,fe=N.headerBackgroundColor||"#c8c8c8",re=N.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=he,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=Re,this.internal.__cell__.padding=Y,this.internal.__cell__.headerBackgroundColor=fe,this.internal.__cell__.headerTextColor=re,this.setFontSize(Re),b==null)M=L=Object.keys(w[0]),H=L.map(function(){return"left"});else if(Array.isArray(b)&&en(b[0])==="object")for(L=b.map(function(be){return be.name}),M=b.map(function(be){return be.prompt||be.name||""}),H=b.map(function(be){return be.align||"left"}),_=0;_<b.length;_+=1)pe[b[_].name]=b[_].width*(19.049976/25.4);else Array.isArray(b)&&typeof b[0]=="string"&&(M=L=b,H=L.map(function(){return"left"}));if(G||Array.isArray(b)&&typeof b[0]=="string")for(_=0;_<L.length;_+=1){for(oe[R=L[_]]=w.map(function(be){return be[R]}),this.setFont(void 0,"bold"),Ee.push(this.getTextDimensions(M[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=oe[R],this.setFont(void 0,"normal"),P=0;P<O.length;P+=1)Ee.push(this.getTextDimensions(O[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);pe[R]=Math.max.apply(null,Ee)+Y+Y,Ee=[]}if(he){var qe={};for(_=0;_<L.length;_+=1)qe[L[_]]={},qe[L[_]].text=M[_],qe[L[_]].align=H[_];var Be=c.call(this,qe,pe);ce=L.map(function(be){return new a(h,g,pe[be],Be,qe[be].text,void 0,qe[be].align)}),this.setTableHeaderRow(ce),this.printHeaderRow(1,!1)}var me=b.reduce(function(be,se){return be[se.name]=se.align,be},{});for(_=0;_<w.length;_+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:_,data:w[_]},this);var te=c.call(this,w[_],pe);for(P=0;P<L.length;P+=1){var ye=w[_][L[P]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:_,col:P,data:ye},this),l.call(this,new a(h,g,pe[L[P]],te,ye,_+2,me[L[P]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=g,this};var c=function(h,g){var w=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(h).map(function(_){var O=h[_];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,g[_]-w-w)},this).map(function(_){return this.getLineHeightFactor()*_.length*b/N+w+w},this).reduce(function(_,O){return Math.max(_,O)},0)};t.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,g){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){w=this.internal.__cell__.tableHeaderRow[_].clone(),g&&(w.y=this.internal.__cell__.margins.top||0,N.push(w)),w.lineNumber=h;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,w),this.setTextColor(O)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),r=!1}}(lr.API);var Fv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Mv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ap=Dv(Mv),Bv=[100,200,300,400,500,600,700,800,900],Lw=Dv(Bv);function jp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return Fv[a=a||"normal"]?a:"normal"}(t.style),i=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),o=function(a){return typeof Ap[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:i,stretch:o,src:t.src||[],ref:t.ref||{name:e,style:[o,r,i].join(" ")}}}function Gg(t,e,r,i){var o;for(o=r;o>=0&&o<e.length;o+=i)if(t[e[o]])return t[e[o]];for(o=r;o>=0&&o<e.length;o-=i)if(t[e[o]])return t[e[o]]}var Iw={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Jg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Yg(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Ow(t,e,r){for(var i=(r=r||{}).defaultFontFamily||"times",o=Object.assign({},Iw,r.genericFontFamilies||{}),a=null,l=null,c=0;c<e.length;++c)if(o[(a=jp(e[c])).family]&&(a.family=o[a.family]),t.hasOwnProperty(a.family)){l=t[a.family];break}if(!(l=l||t[i]))throw new Error("Could not find a font-family for the rule '"+Yg(a)+"' and default family '"+i+"'.");if(l=function(h,g){if(g[h])return g[h];var w=Ap[h],b=w<=Ap.normal?-1:1,N=Gg(g,Mv,w,b);if(!N)throw new Error("Could not find a matching font-stretch value for "+h);return N}(a.stretch,l),l=function(h,g){if(g[h])return g[h];for(var w=Fv[h],b=0;b<w.length;++b)if(g[w[b]])return g[w[b]];throw new Error("Could not find a matching font-style for "+h)}(a.style,l),!(l=function(h,g){if(g[h])return g[h];if(h===400&&g[500])return g[500];if(h===500&&g[400])return g[400];var w=Lw[h],b=Gg(g,Bv,w,h<400?-1:1);if(!b)throw new Error("Could not find a matching font-weight for value "+h);return b}(a.weight,l)))throw new Error("Failed to resolve a font for the rule '"+Yg(a)+"'.");return l}function Xg(t){return t.trimLeft()}function Tw(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Rw(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Wd,Qg,Zg,Yf=["times"];(function(t){var e,r,i,o,a,l,c,h,g,w=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new h,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new l,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new l,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,g=new w}]);var b=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=I;Object.defineProperty(this,"pdf",{get:function(){return $}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Je){X=!!Je}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Je){ie=!!Je}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Je){isNaN(Je)||(de=Je)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Je){isNaN(Je)||(xe=Je)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(Je){var ae;typeof Je=="number"?ae=[Je,Je,Je,Je]:((ae=new Array(4))[0]=Je[0],ae[1]=Je.length>=2?Je[1]:ae[0],ae[2]=Je.length>=3?Je[2]:ae[0],ae[3]=Je.length>=4?Je[3]:ae[1]),g.margin=ae}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(Je){Oe=Je}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Je){ge=Je}});var rt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return rt},set:function(Je){rt=Je}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(Je){Je instanceof w&&(g=Je)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(Je){g.path=Je}});var st=[];Object.defineProperty(this,"ctxStack",{get:function(){return st},set:function(Je){st=Je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Je){var ae;ae=N(Je),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Je){var ae=N(Je);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Je){["butt","round","square"].indexOf(Je)!==-1&&(this.ctx.lineCap=Je,this.pdf.setLineCap(Je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Je){isNaN(Je)||(this.ctx.lineWidth=Je,this.pdf.setLineWidth(Je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Je){["bevel","round","miter"].indexOf(Je)!==-1&&(this.ctx.lineJoin=Je,this.pdf.setLineJoin(Je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Je){isNaN(Je)||(this.ctx.miterLimit=Je,this.pdf.setMiterLimit(Je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Je){this.ctx.textBaseline=Je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Je){["right","end","center","left","start"].indexOf(Je)!==-1&&(this.ctx.textAlign=Je)}});var it=null;function bt(Je,ae){if(it===null){var Xt=function(Tt){var ot=[];return Object.keys(Tt).forEach(function(pt){Tt[pt].forEach(function(vt){var St=null;switch(vt){case"bold":St={family:pt,weight:"bold"};break;case"italic":St={family:pt,style:"italic"};break;case"bolditalic":St={family:pt,weight:"bold",style:"italic"};break;case"":case"normal":St={family:pt}}St!==null&&(St.ref={name:pt,style:vt},ot.push(St))})}),ot}(Je.getFontList());it=function(Tt){for(var ot={},pt=0;pt<Tt.length;++pt){var vt=jp(Tt[pt]),St=vt.family,Rt=vt.stretch,Yt=vt.style,Qt=vt.weight;ot[St]=ot[St]||{},ot[St][Rt]=ot[St][Rt]||{},ot[St][Rt][Yt]=ot[St][Rt][Yt]||{},ot[St][Rt][Yt][Qt]=vt}return ot}(Xt.concat(ae))}return it}var qt=null;Object.defineProperty(this,"fontFaces",{get:function(){return qt},set:function(Je){it=null,qt=Je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Je){var ae;if(this.ctx.font=Je,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Je))!==null){var Xt=ae[1];ae[2];var Tt=ae[3],ot=ae[4];ae[5];var pt=ae[6],vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ot)[2];ot=Math.floor(vt==="px"?parseFloat(ot)*this.pdf.internal.scaleFactor:vt==="em"?parseFloat(ot)*this.pdf.getFontSize():parseFloat(ot)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ot);var St=function(zt){var sr,wt,Xr=[],kr=zt.trim();if(kr==="")return Yf;if(kr in Jg)return[Jg[kr]];for(;kr!=="";){switch(wt=null,sr=(kr=Xg(kr)).charAt(0)){case'"':case"'":wt=Tw(kr.substring(1),sr);break;default:wt=Rw(kr)}if(wt===null||(Xr.push(wt[0]),(kr=Xg(wt[1]))!==""&&kr.charAt(0)!==","))return Yf;kr=kr.replace(/^,/,"")}return Xr}(pt);if(this.fontFaces){var Rt=Ow(bt(this.pdf,this.fontFaces),St.map(function(zt){return{family:zt,stretch:"normal",weight:Tt,style:Xt}}));this.pdf.setFont(Rt.ref.name,Rt.ref.style)}else{var Yt="";(Tt==="bold"||parseInt(Tt,10)>=700||Xt==="bold")&&(Yt="bold"),Xt==="italic"&&(Yt+="italic"),Yt.length===0&&(Yt="normal");for(var Qt="",nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Zt=0;Zt<St.length;Zt++){if(this.pdf.internal.getFont(St[Zt],Yt,{noFallback:!0,disableWarning:!0})!==void 0){Qt=St[Zt];break}if(Yt==="bolditalic"&&this.pdf.internal.getFont(St[Zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qt=St[Zt],Yt="bold";else if(this.pdf.internal.getFont(St[Zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qt=St[Zt],Yt="normal";break}}if(Qt===""){for(var wr=0;wr<St.length;wr++)if(nr[St[wr]]){Qt=nr[St[wr]];break}}Qt=Qt===""?"Times":Qt,this.pdf.setFont(Qt,Yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Je){this.ctx.globalCompositeOperation=Je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Je){this.ctx.globalAlpha=Je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Je){this.ctx.lineDashOffset=Je,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Je){this.ctx.lineDash=Je,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Je){this.ctx.ignoreClearRect=!!Je}})};b.prototype.setLineDash=function(I){this.lineDash=I},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){oe.call(this,"fill",!1)},b.prototype.stroke=function(){oe.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(I,$){if(isNaN(I)||isNaN($))throw cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new l(I,$));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(I,$)},b.prototype.closePath=function(){var I=new l(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&en(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){I=new l(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(I.x,I.y)},b.prototype.lineTo=function(I,$){if(isNaN(I)||isNaN($))throw cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new l(I,$));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(X.x,X.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),oe.call(this,null,!0)},b.prototype.quadraticCurveTo=function(I,$,X,ie){if(isNaN(X)||isNaN(ie)||isNaN(I)||isNaN($))throw cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new l(X,ie)),xe=this.ctx.transform.applyToPoint(new l(I,$));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new l(de.x,de.y)},b.prototype.bezierCurveTo=function(I,$,X,ie,de,xe){if(isNaN(de)||isNaN(xe)||isNaN(I)||isNaN($)||isNaN(X)||isNaN(ie))throw cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new l(de,xe)),ge=this.ctx.transform.applyToPoint(new l(I,$)),rt=this.ctx.transform.applyToPoint(new l(X,ie));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:rt.x,y2:rt.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new l(Oe.x,Oe.y)},b.prototype.arc=function(I,$,X,ie,de,xe){if(isNaN(I)||isNaN($)||isNaN(X)||isNaN(ie)||isNaN(de))throw cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new l(I,$));I=Oe.x,$=Oe.y;var ge=this.ctx.transform.applyToPoint(new l(0,X)),rt=this.ctx.transform.applyToPoint(new l(0,0));X=Math.sqrt(Math.pow(ge.x-rt.x,2)+Math.pow(ge.y-rt.y,2))}Math.abs(de-ie)>=2*Math.PI&&(ie=0,de=2*Math.PI),this.path.push({type:"arc",x:I,y:$,radius:X,startAngle:ie,endAngle:de,counterclockwise:xe})},b.prototype.arcTo=function(I,$,X,ie,de){throw new Error("arcTo not implemented.")},b.prototype.rect=function(I,$,X,ie){if(isNaN(I)||isNaN($)||isNaN(X)||isNaN(ie))throw cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,$),this.lineTo(I+X,$),this.lineTo(I+X,$+ie),this.lineTo(I,$+ie),this.lineTo(I,$),this.lineTo(I+X,$),this.lineTo(I,$)},b.prototype.fillRect=function(I,$,X,ie){if(isNaN(I)||isNaN($)||isNaN(X)||isNaN(ie))throw cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,$,X,ie),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},b.prototype.strokeRect=function(I,$,X,ie){if(isNaN(I)||isNaN($)||isNaN(X)||isNaN(ie))throw cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(I,$,X,ie),this.stroke())},b.prototype.clearRect=function(I,$,X,ie){if(isNaN(I)||isNaN($)||isNaN(X)||isNaN(ie))throw cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,$,X,ie))},b.prototype.save=function(I){I=typeof I!="boolean"||I;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage($),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},b.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage($),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(I){var $,X,ie,de;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))$=0,X=0,ie=0,de=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(xe!==null)$=parseInt(xe[1]),X=parseInt(xe[2]),ie=parseInt(xe[3]),de=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)$=parseInt(xe[1]),X=parseInt(xe[2]),ie=parseInt(xe[3]),de=parseFloat(xe[4]);else{if(de=1,typeof I=="string"&&I.charAt(0)!=="#"){var Oe=new Pv(I);I=Oe.ok?Oe.toHex():"#000000"}I.length===4?($=I.substring(1,2),$+=$,X=I.substring(2,3),X+=X,ie=I.substring(3,4),ie+=ie):($=I.substring(1,3),X=I.substring(3,5),ie=I.substring(5,7)),$=parseInt($,16),X=parseInt(X,16),ie=parseInt(ie,16)}}return{r:$,g:X,b:ie,a:de,style:I}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(I,$,X,ie){if(isNaN($)||isNaN(X)||typeof I!="string")throw cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!_.call(this)){var de=te(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;Y.call(this,{text:I,x:$,y:X,scale:xe,angle:de,align:this.textAlign,maxWidth:ie})}},b.prototype.strokeText=function(I,$,X,ie){if(isNaN($)||isNaN(X)||typeof I!="string")throw cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){ie=isNaN(ie)?void 0:ie;var de=te(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;Y.call(this,{text:I,x:$,y:X,scale:xe,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ie})}},b.prototype.measureText=function(I){if(typeof I!="string")throw cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,X=this.pdf.internal.scaleFactor,ie=$.internal.getFontSize(),de=$.getStringUnitWidth(I)*ie/$.internal.scaleFactor,xe=function(Oe){var ge=(Oe=Oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new xe({width:de*=Math.round(96*X/72*1e4)/1e4})},b.prototype.scale=function(I,$){if(isNaN(I)||isNaN($))throw cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new h(I,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},b.prototype.rotate=function(I){if(isNaN(I))throw cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new h(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply($)},b.prototype.translate=function(I,$){if(isNaN(I)||isNaN($))throw cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new h(1,0,0,1,I,$);this.ctx.transform=this.ctx.transform.multiply(X)},b.prototype.transform=function(I,$,X,ie,de,xe){if(isNaN(I)||isNaN($)||isNaN(X)||isNaN(ie)||isNaN(de)||isNaN(xe))throw cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new h(I,$,X,ie,de,xe);this.ctx.transform=this.ctx.transform.multiply(Oe)},b.prototype.setTransform=function(I,$,X,ie,de,xe){I=isNaN(I)?1:I,$=isNaN($)?0:$,X=isNaN(X)?0:X,ie=isNaN(ie)?1:ie,de=isNaN(de)?0:de,xe=isNaN(xe)?0:xe,this.ctx.transform=new h(I,$,X,ie,de,xe)};var P=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(I,$,X,ie,de,xe,Oe,ge,rt){var st=this.pdf.getImageProperties(I),it=1,bt=1,qt=1,Je=1;ie!==void 0&&ge!==void 0&&(qt=ge/ie,Je=rt/de,it=st.width/ie*ge/ie,bt=st.height/de*rt/de),xe===void 0&&(xe=$,Oe=X,$=0,X=0),ie!==void 0&&ge===void 0&&(ge=ie,rt=de),ie===void 0&&ge===void 0&&(ge=st.width,rt=st.height);for(var ae,Xt=this.ctx.transform.decompose(),Tt=te(Xt.rotate.shx),ot=new h,pt=(ot=(ot=(ot=ot.multiply(Xt.translate)).multiply(Xt.skew)).multiply(Xt.scale)).applyToRectangle(new c(xe-$*qt,Oe-X*Je,ie*it,de*bt)),vt=R.call(this,pt),St=[],Rt=0;Rt<vt.length;Rt+=1)St.indexOf(vt[Rt])===-1&&St.push(vt[Rt]);if(H(St),this.autoPaging)for(var Yt=St[0],Qt=St[St.length-1],nr=Yt;nr<Qt+1;nr++){this.pdf.setPage(nr);var Zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wr=nr===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=nr===1?0:zt+(nr-2)*sr;if(this.ctx.clip_path.length!==0){var Xr=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ae,this.posX+this.margin[3],-wt+wr+this.ctx.prevPageLastElemOffset),pe.call(this,"fill",!0),this.path=Xr}var kr=JSON.parse(JSON.stringify(pt));kr=M([kr],this.posX+this.margin[3],-wt+wr+this.ctx.prevPageLastElemOffset)[0];var ei=(nr>Yt||nr<Qt)&&P.call(this);ei&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zt,sr,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",kr.x,kr.y,kr.w,kr.h,null,null,Tt),ei&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,Tt)};var R=function(I,$,X){var ie=[];$=$||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":ie.push(Math.floor((I.y+de)/X)+1);break;case"arc":ie.push(Math.floor((I.y+de-I.radius)/X)+1),ie.push(Math.floor((I.y+de+I.radius)/X)+1);break;case"qct":var xe=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);ie.push(Math.floor((xe.y+de)/X)+1),ie.push(Math.floor((xe.y+xe.h+de)/X)+1);break;case"bct":var Oe=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);ie.push(Math.floor((Oe.y+de)/X)+1),ie.push(Math.floor((Oe.y+Oe.h+de)/X)+1);break;case"rect":ie.push(Math.floor((I.y+de)/X)+1),ie.push(Math.floor((I.y+I.h+de)/X)+1)}for(var ge=0;ge<ie.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ge];)L.call(this);return ie},L=function(){var I=this.fillStyle,$=this.strokeStyle,X=this.font,ie=this.lineCap,de=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=$,this.font=X,this.lineCap=ie,this.lineWidth=de,this.lineJoin=xe},M=function(I,$,X){for(var ie=0;ie<I.length;ie++)switch(I[ie].type){case"bct":I[ie].x2+=$,I[ie].y2+=X;case"qct":I[ie].x1+=$,I[ie].y1+=X;case"mt":case"lt":case"arc":default:I[ie].x+=$,I[ie].y+=X}return I},H=function(I){return I.sort(function($,X){return $-X})},oe=function(I,$){for(var X,ie,de=this.fillStyle,xe=this.strokeStyle,Oe=this.lineCap,ge=this.lineWidth,rt=Math.abs(ge*this.ctx.transform.scaleX),st=this.lineJoin,it=JSON.parse(JSON.stringify(this.path)),bt=JSON.parse(JSON.stringify(this.path)),qt=[],Je=0;Je<bt.length;Je++)if(bt[Je].x!==void 0)for(var ae=R.call(this,bt[Je]),Xt=0;Xt<ae.length;Xt+=1)qt.indexOf(ae[Xt])===-1&&qt.push(ae[Xt]);for(var Tt=0;Tt<qt.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<qt[Tt];)L.call(this);if(H(qt),this.autoPaging)for(var ot=qt[0],pt=qt[qt.length-1],vt=ot;vt<pt+1;vt++){this.pdf.setPage(vt),this.fillStyle=de,this.strokeStyle=xe,this.lineCap=Oe,this.lineWidth=rt,this.lineJoin=st;var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=vt===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nr=vt===1?0:Yt+(vt-2)*Qt;if(this.ctx.clip_path.length!==0){var Zt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(X,this.posX+this.margin[3],-nr+Rt+this.ctx.prevPageLastElemOffset),pe.call(this,I,!0),this.path=Zt}if(ie=JSON.parse(JSON.stringify(it)),this.path=M(ie,this.posX+this.margin[3],-nr+Rt+this.ctx.prevPageLastElemOffset),$===!1||vt===0){var wr=(vt>ot||vt<pt)&&P.call(this);wr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Qt,null).clip().discardPath()),pe.call(this,I,$),wr&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=rt,pe.call(this,I,$),this.lineWidth=ge;this.path=it},pe=function(I,$){if((I!=="stroke"||$||!O.call(this))&&(I==="stroke"||$||!_.call(this))){for(var X,ie,de=[],xe=this.path,Oe=0;Oe<xe.length;Oe++){var ge=xe[Oe];switch(ge.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:ge,deltas:[],abs:[]});break;case"lt":var rt=de.length;if(xe[Oe-1]&&!isNaN(xe[Oe-1].x)&&(X=[ge.x-xe[Oe-1].x,ge.y-xe[Oe-1].y],rt>0)){for(;rt>=0;rt--)if(de[rt-1].close!==!0&&de[rt-1].begin!==!0){de[rt-1].deltas.push(X),de[rt-1].abs.push(ge);break}}break;case"bct":X=[ge.x1-xe[Oe-1].x,ge.y1-xe[Oe-1].y,ge.x2-xe[Oe-1].x,ge.y2-xe[Oe-1].y,ge.x-xe[Oe-1].x,ge.y-xe[Oe-1].y],de[de.length-1].deltas.push(X);break;case"qct":var st=xe[Oe-1].x+2/3*(ge.x1-xe[Oe-1].x),it=xe[Oe-1].y+2/3*(ge.y1-xe[Oe-1].y),bt=ge.x+2/3*(ge.x1-ge.x),qt=ge.y+2/3*(ge.y1-ge.y),Je=ge.x,ae=ge.y;X=[st-xe[Oe-1].x,it-xe[Oe-1].y,bt-xe[Oe-1].x,qt-xe[Oe-1].y,Je-xe[Oe-1].x,ae-xe[Oe-1].y],de[de.length-1].deltas.push(X);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(ge)}}ie=$?null:I==="stroke"?"stroke":"fill";for(var Xt=!1,Tt=0;Tt<de.length;Tt++)if(de[Tt].arc)for(var ot=de[Tt].abs,pt=0;pt<ot.length;pt++){var vt=ot[pt];vt.type==="arc"?G.call(this,vt.x,vt.y,vt.radius,vt.startAngle,vt.endAngle,vt.counterclockwise,void 0,$,!Xt):fe.call(this,vt.x,vt.y),Xt=!0}else if(de[Tt].close===!0)this.pdf.internal.out("h"),Xt=!1;else if(de[Tt].begin!==!0){var St=de[Tt].start.x,Rt=de[Tt].start.y;re.call(this,de[Tt].deltas,St,Rt),Xt=!0}ie&&he.call(this,ie),$&&Re.call(this)}},Ee=function(I){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-X;case"top":return I+$-X;case"hanging":return I+$-2*X;case"middle":return I+$/2-X;case"ideographic":return I;case"alphabetic":default:return I}},ce=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function($,X){this.colorStops.push([$,X])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(I,$,X,ie,de,xe,Oe,ge,rt){for(var st=Be.call(this,X,ie,de,xe),it=0;it<st.length;it++){var bt=st[it];it===0&&(rt?V.call(this,bt.x1+I,bt.y1+$):fe.call(this,bt.x1+I,bt.y1+$)),qe.call(this,I,$,bt.x2,bt.y2,bt.x3,bt.y3,bt.x4,bt.y4)}ge?Re.call(this):he.call(this,Oe)},he=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Re=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(I,$){this.pdf.internal.out(r(I)+" "+i($)+" m")},Y=function(I){var $;switch(I.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var X=this.pdf.getTextDimensions(I.text),ie=Ee.call(this,I.y),de=ce.call(this,ie)-X.h,xe=this.ctx.transform.applyToPoint(new l(I.x,ie)),Oe=this.ctx.transform.decompose(),ge=new h;ge=(ge=(ge=ge.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var rt,st,it,bt=this.ctx.transform.applyToRectangle(new c(I.x,ie,X.w,X.h)),qt=ge.applyToRectangle(new c(I.x,de,X.w,X.h)),Je=R.call(this,qt),ae=[],Xt=0;Xt<Je.length;Xt+=1)ae.indexOf(Je[Xt])===-1&&ae.push(Je[Xt]);if(H(ae),this.autoPaging)for(var Tt=ae[0],ot=ae[ae.length-1],pt=Tt;pt<ot+1;pt++){this.pdf.setPage(pt);var vt=pt===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[2],Yt=Rt-this.margin[0],Qt=this.pdf.internal.pageSize.width-this.margin[1],nr=Qt-this.margin[3],Zt=pt===1?0:St+(pt-2)*Yt;if(this.ctx.clip_path.length!==0){var wr=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(rt,this.posX+this.margin[3],-1*Zt+vt),pe.call(this,"fill",!0),this.path=wr}var zt=M([JSON.parse(JSON.stringify(qt))],this.posX+this.margin[3],-Zt+vt+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(st=this.pdf.internal.getFontSize(),this.pdf.setFontSize(st*I.scale),it=this.lineWidth,this.lineWidth=it*I.scale);var sr=this.autoPaging!=="text";if(sr||zt.y+zt.h<=Rt){if(sr||zt.y>=vt&&zt.x<=Qt){var wt=sr?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Qt-zt.x)[0],Xr=M([JSON.parse(JSON.stringify(bt))],this.posX+this.margin[3],-Zt+vt+this.ctx.prevPageLastElemOffset)[0],kr=sr&&(pt>Tt||pt<ot)&&P.call(this);kr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nr,Yt,null).clip().discardPath()),this.pdf.text(wt,Xr.x,Xr.y,{angle:I.angle,align:$,renderingMode:I.renderingMode}),kr&&this.pdf.restoreGraphicsState()}}else zt.y<Rt&&(this.ctx.prevPageLastElemOffset+=Rt-zt.y);I.scale>=.01&&(this.pdf.setFontSize(st),this.lineWidth=it)}else I.scale>=.01&&(st=this.pdf.internal.getFontSize(),this.pdf.setFontSize(st*I.scale),it=this.lineWidth,this.lineWidth=it*I.scale),this.pdf.text(I.text,xe.x+this.posX,xe.y+this.posY,{angle:I.angle,align:$,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(st),this.lineWidth=it)},fe=function(I,$,X,ie){X=X||0,ie=ie||0,this.pdf.internal.out(r(I+X)+" "+i($+ie)+" l")},re=function(I,$,X){return this.pdf.lines(I,$,X,null,null)},qe=function(I,$,X,ie,de,xe,Oe,ge){this.pdf.internal.out([e(o(X+I)),e(a(ie+$)),e(o(de+I)),e(a(xe+$)),e(o(Oe+I)),e(a(ge+$)),"c"].join(" "))},Be=function(I,$,X,ie){for(var de=2*Math.PI,xe=Math.PI/2;$>X;)$-=de;var Oe=Math.abs(X-$);Oe<de&&ie&&(Oe=de-Oe);for(var ge=[],rt=ie?-1:1,st=$;Oe>1e-5;){var it=st+rt*Math.min(Oe,xe);ge.push(me.call(this,I,st,it)),Oe-=Math.abs(it-st),st=it}return ge},me=function(I,$,X){var ie=(X-$)/2,de=I*Math.cos(ie),xe=I*Math.sin(ie),Oe=de,ge=-xe,rt=Oe*Oe+ge*ge,st=rt+Oe*de+ge*xe,it=4/3*(Math.sqrt(2*rt*st)-st)/(Oe*xe-ge*de),bt=Oe-it*ge,qt=ge+it*Oe,Je=bt,ae=-qt,Xt=ie+$,Tt=Math.cos(Xt),ot=Math.sin(Xt);return{x1:I*Math.cos($),y1:I*Math.sin($),x2:bt*Tt-qt*ot,y2:bt*ot+qt*Tt,x3:Je*Tt-ae*ot,y3:Je*ot+ae*Tt,x4:I*Math.cos(X),y4:I*Math.sin(X)}},te=function(I){return 180*I/Math.PI},ye=function(I,$,X,ie,de,xe){var Oe=I+.5*(X-I),ge=$+.5*(ie-$),rt=de+.5*(X-de),st=xe+.5*(ie-xe),it=Math.min(I,de,Oe,rt),bt=Math.max(I,de,Oe,rt),qt=Math.min($,xe,ge,st),Je=Math.max($,xe,ge,st);return new c(it,qt,bt-it,Je-qt)},be=function(I,$,X,ie,de,xe,Oe,ge){var rt,st,it,bt,qt,Je,ae,Xt,Tt,ot,pt,vt,St,Rt,Yt=X-I,Qt=ie-$,nr=de-X,Zt=xe-ie,wr=Oe-de,zt=ge-xe;for(st=0;st<41;st++)Tt=(ae=(it=I+(rt=st/40)*Yt)+rt*((qt=X+rt*nr)-it))+rt*(qt+rt*(de+rt*wr-qt)-ae),ot=(Xt=(bt=$+rt*Qt)+rt*((Je=ie+rt*Zt)-bt))+rt*(Je+rt*(xe+rt*zt-Je)-Xt),st==0?(pt=Tt,vt=ot,St=Tt,Rt=ot):(pt=Math.min(pt,Tt),vt=Math.min(vt,ot),St=Math.max(St,Tt),Rt=Math.max(Rt,ot));return new c(Math.round(pt),Math.round(vt),Math.round(St-pt),Math.round(Rt-vt))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,$,X=(I=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:$}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(lr.API),function(t){var e=function(a){var l,c,h,g,w,b,N,_,O,P;for(c=[],h=0,g=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;g>h;h+=4)(w=(a.charCodeAt(h)<<24)+(a.charCodeAt(h+1)<<16)+(a.charCodeAt(h+2)<<8)+a.charCodeAt(h+3))!==0?(b=(w=((w=((w=((w=(w-(P=w%85))/85)-(O=w%85))/85)-(_=w%85))/85)-(N=w%85))/85)%85,c.push(b+33,N+33,_+33,O+33,P+33)):c.push(122);return function(R,L){for(var M=L;M>0;M--)R.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(a){var l,c,h,g,w,b=String,N="length",_=255,O="charCodeAt",P="slice",R="replace";for(a[P](-2),a=a[P](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),h=[],g=0,w=(a+=l="uuuuu"[P](a[N]%5||5))[N];w>g;g+=5)c=52200625*(a[O](g)-33)+614125*(a[O](g+1)-33)+7225*(a[O](g+2)-33)+85*(a[O](g+3)-33)+(a[O](g+4)-33),h.push(_&c>>24,_&c>>16,_&c>>8,_&c);return function(L,M){for(var H=M;H>0;H--)L.pop()}(h,l[N]),b.fromCharCode.apply(b,h)},i=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",h=0;h<a.length;h+=2)c+=String.fromCharCode("0x"+(a[h]+a[h+1]));return c},o=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return a=(l=xp(l)).reduce(function(h,g){return h+String.fromCharCode(g)},"")};t.processDataByFilters=function(a,l){var c=0,h=a||"",g=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(w){return("0"+w.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}}(lr.API),function(t){t.loadFile=function(e,r,i){return function(o,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(h,g,w){var b=new XMLHttpRequest,N=0,_=function(O){var P=O.length,R=[],L=String.fromCharCode;for(N=0;N<P;N+=1)R.push(L(255&O.charCodeAt(N)));return R.join("")};if(b.open("GET",h,!g),b.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(b.onload=function(){b.status===200?w(_(this.responseText)):w(void 0)}),b.send(null),g&&b.status===200)return _(b.responseText)}(o,a,l)}catch{}return c}(e,r,i)},t.loadImageFile=t.loadFile}(lr.API),function(t){function e(){return(cr.html2canvas?Promise.resolve(cr.html2canvas):qc(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(cr.DOMPurify?Promise.resolve(cr.DOMPurify):qc(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var c=en(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},o=function(l,c){var h=document.createElement(l);for(var g in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[g]=c.style[g];return h},a=function l(c){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),g=l.convert(Promise.resolve(),h);return g=(g=g.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(r).then(function(h){return this.set({src:o("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function h(g,w){for(var b=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),N=g.firstChild;N;N=N.nextSibling)w!==!0&&N.nodeType===1&&N.nodeName==="SCRIPT"||b.appendChild(h(N,w));return g.nodeType===1&&(g.nodeName==="CANVAS"?(b.width=g.width,b.height=g.height,b.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(b.value=g.value),b.addEventListener("load",function(){b.scrollTop=g.scrollTop,b.scrollLeft=g.scrollLeft},!0)),b}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var h=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var N=0;N<g.length;++N){var _=g[N],O=_.src.find(function(P){return P.format==="truetype"});O&&h.addFont(O.url,_.ref.name,_.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),c(this.prop.container,b)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(i(l)!=="object")return this;var c=Object.keys(l||{}).map(function(h){if(h in a.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(l,c){return this.then(function(){var h=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(h):h})},a.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(h,g){return Math.floor(h*g/72*96)}return this.then(function(){(l=l||lr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,c,h,g){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,h,g){return this.setProgress(l?this.progress.val+l:null,c||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},a.prototype.then=function(l,c){var h=this;return this.thenCore(l,c,function(g,w){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,g),b}).then(g,w).then(function(b){return h.updateProgress(1),b})})},a.prototype.thenCore=function(l,c,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),w=h.call(g,l,c);return a.convert(w,this.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach(function(h){c=c.thenCore(h)}),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,lr.getPageSize=function(l,c,h){if(en(l)==="object"){var g=l;l=g.orientation,c=g.unit||c,h=g.format||h}c=c||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var w,b=(""+h).toLowerCase(),N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+c}var _,O=0,P=0;if(N.hasOwnProperty(b))O=N[b][1]/w,P=N[b][0]/w;else try{O=h[1],P=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",P>O&&(_=P,P=O,O=_);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",O>P&&(_=P,P=O,O=_)}return{width:P,height:O,unit:c,k:w,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(jp):null;var h=new a(c);return c.worker?h:h.from(l).doCallback()}}(lr.API),lr.API.addJS=function(t){return Zg=t,this.internal.events.subscribe("postPutResources",function(){Wd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Zg+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Wd!==void 0&&Qg!==void 0&&this.internal.out("/Names <</JavaScript "+Wd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=r.outline.render().split(/\r\n/),a=0;a<o.length;a++){var l=o[a],c=i.exec(l);if(c!=null){var h=c[1];r.internal.newObjectDeferredBegin(h,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,w=[];for(a=0;a<g;a++){var b=r.internal.newObject();w.push(b);var N=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var _=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<w.length;a++)r.internal.write("(page_"+(a+1)+")"+w[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+_+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(i,o,a){var l={title:o,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(i){i.id=r.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},r.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},r.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var g=0;g<i.children.length;g++)this.renderItems(i.children[g])},r.outline.line=function(i){this.ctx.val+=i+`\r
`},r.outline.makeRef=function(i){return i.id+" 0 R"},r.outline.makeString=function(i){return"("+r.internal.pdfEscape(i)+")"},r.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(i,o){for(var a=0;a<o.children.length;a++)i.count++,this.count_r(i,o.children[a]);return i.count}}])}(lr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,i,o,a,l,c){var h,g=this.decode.DCT_DECODE,w=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(h=function(b){for(var N,_=256*b.charCodeAt(4)+b.charCodeAt(5),O=b.length,P={width:0,height:0,numcomponents:1},R=4;R<O;R+=2){if(R+=_,e.indexOf(b.charCodeAt(R+1))!==-1){N=256*b.charCodeAt(R+5)+b.charCodeAt(R+6),P={width:256*b.charCodeAt(R+7)+b.charCodeAt(R+8),height:N,numcomponents:b.charCodeAt(R+9)};break}_=256*b.charCodeAt(R+2)+b.charCodeAt(R+3)}return P}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}w={data:r,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:g,index:i,alias:o}}return w}}(lr.API);var Tu,Hd,em,tm,rm,Dw=function(){var t,e,r;function i(a){var l,c,h,g,w,b,N,_,O,P,R,L,M,H;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},b=null;;){switch(l=this.readUInt32(),O=(function(){var oe,pe;for(pe=[],oe=0;oe<4;++oe)pe.push(String.fromCharCode(this.data[this.pos++]));return pe}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":b&&this.animation.frames.push(b),this.pos+=4,b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},w=this.readUInt16(),g=this.readUInt16()||100,b.delay=1e3*w/g,b.disposeOp=this.data[this.pos++],b.blendOp=this.data[this.pos++],b.data=[];break;case"IDAT":case"fdAT":for(O==="fdAT"&&(this.pos+=4,l-=4),a=b?.data||this.imgData,L=0;0<=l?L<l:L>l;0<=l?++L:--L)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((P=h-this.transparency.indexed.length)>0)for(M=0;0<=P?M<P:M>P;0<=P?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":N=(R=this.read(l)).indexOf(0),_=String.fromCharCode.apply(String,R.slice(0,N)),this.text[_]=String.fromCharCode.apply(String,R.slice(N+1));break;case"IEND":return b&&this.animation.frames.push(b),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(H=this.colorType)===4||H===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var l,c;for(c=[],l=0;0<=a?l<a:l>a;0<=a?++l:--l)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),h=0,g=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function w(b,N,_,O){var P,R,L,M,H,oe,pe,Ee,ce,G,he,Re,V,Y,fe,re,qe,Be,me,te,ye,be=Math.ceil((g.width-b)/_),se=Math.ceil((g.height-N)/O),I=g.width==be&&g.height==se;for(Y=l*be,Re=I?c:new Uint8Array(Y*se),oe=a.length,V=0,R=0;V<se&&h<oe;){switch(a[h++]){case 0:for(M=qe=0;qe<Y;M=qe+=1)Re[R++]=a[h++];break;case 1:for(M=Be=0;Be<Y;M=Be+=1)P=a[h++],H=M<l?0:Re[R-l],Re[R++]=(P+H)%256;break;case 2:for(M=me=0;me<Y;M=me+=1)P=a[h++],L=(M-M%l)/l,fe=V&&Re[(V-1)*Y+L*l+M%l],Re[R++]=(fe+P)%256;break;case 3:for(M=te=0;te<Y;M=te+=1)P=a[h++],L=(M-M%l)/l,H=M<l?0:Re[R-l],fe=V&&Re[(V-1)*Y+L*l+M%l],Re[R++]=(P+Math.floor((H+fe)/2))%256;break;case 4:for(M=ye=0;ye<Y;M=ye+=1)P=a[h++],L=(M-M%l)/l,H=M<l?0:Re[R-l],V===0?fe=re=0:(fe=Re[(V-1)*Y+L*l+M%l],re=L&&Re[(V-1)*Y+(L-1)*l+M%l]),pe=H+fe-re,Ee=Math.abs(pe-H),G=Math.abs(pe-fe),he=Math.abs(pe-re),ce=Ee<=G&&Ee<=he?H:G<=he?fe:re,Re[R++]=(P+ce)%256;break;default:throw new Error("Invalid filter algorithm: "+a[h-1])}if(!I){var $=((N+V*O)*g.width+b)*l,X=V*Y;for(M=0;M<be;M+=1){for(var ie=0;ie<l;ie+=1)c[$++]=Re[X++];$+=(_-1)*l}}V++}}return a=pw(a),g.interlaceMethod==1?(w(0,0,8,8),w(4,0,8,8),w(0,4,4,8),w(2,0,4,4),w(0,2,2,4),w(1,0,2,2),w(0,1,1,2)):w(0,0,1,1),c},i.prototype.decodePalette=function(){var a,l,c,h,g,w,b,N,_;for(c=this.palette,w=this.transparency.indexed||[],g=new Uint8Array((w.length||0)+c.length),h=0,a=0,l=b=0,N=c.length;b<N;l=b+=3)g[h++]=c[l],g[h++]=c[l+1],g[h++]=c[l+2],g[h++]=(_=w[a++])!=null?_:255;return g},i.prototype.copyToImageData=function(a,l){var c,h,g,w,b,N,_,O,P,R,L;if(h=this.colors,P=null,c=this.hasAlphaChannel,this.palette.length&&(P=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),h=4,c=!0),O=(g=a.data||a).length,b=P||l,w=N=0,h===1)for(;w<O;)_=P?4*l[w/4]:N,R=b[_++],g[w++]=R,g[w++]=R,g[w++]=R,g[w++]=c?b[_++]:255,N=_;else for(;w<O;)_=P?4*l[w/4]:N,g[w++]=b[_++],g[w++]=b[_++],g[w++]=b[_++],g[w++]=c?b[_++]:255,N=_},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var o=function(){if(Object.prototype.toString.call(cr)==="[object Window]"){try{e=cr.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return o(),t=function(a){var l;if(o()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var l,c,h,g,w,b,N,_;if(this.animation){for(_=[],c=w=0,b=(N=this.animation.frames).length;w<b;c=++w)l=N[c],h=a.createImageData(l.width,l.height),g=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,g),l.imageData=h,_.push(l.image=t(h));return _}},i.prototype.renderFrame=function(a,l){var c,h,g;return c=(h=this.animation.frames)[l],g=h[l-1],l===0&&a.clearRect(0,0,this.width,this.height),g?.disposeOp===1?a.clearRect(g.xOffset,g.yOffset,g.width,g.height):g?.disposeOp===2&&a.putImageData(g.imageData,g.xOffset,g.yOffset),c.blendOp===0&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(a){var l,c,h,g,w,b,N=this;return c=0,b=this.animation,g=b.numFrames,h=b.frames,w=b.numPlays,(l=function(){var _,O;if(_=c++%g,O=h[_],N.renderFrame(a,_),g>1&&c/g<w)return N.animation._timeout=setTimeout(l,O.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var l,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,l=a.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Fw(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,o=t[e++],a=o>>7,l=1<<(7&o)+1;t[e++],t[e++];var c=null,h=null;a&&(c=e,h=l,e+=3*l);var g=!0,w=[],b=0,N=null,_=0,O=null;for(this.width=r,this.height=i;g&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,O=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var P=t[e++];b=t[e++]|t[e++]<<8,N=t[e++],(1&P)==0&&(N=null),_=P>>2&7,e++;break;case 254:for(;;){if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var R=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,H=t[e++]|t[e++]<<8,oe=t[e++],pe=oe>>6&1,Ee=1<<(7&oe)+1,ce=c,G=h,he=!1;oe>>7&&(he=!0,ce=e,G=Ee,e+=3*Ee);var Re=e;for(e++;;){var V;if(!((V=t[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}w.push({x:R,y:L,width:M,height:H,has_local_palette:he,palette_offset:ce,palette_size:G,data_offset:Re,data_length:e-Re,transparent_index:N,interlaced:!!pe,delay:b,disposal:_});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return O},this.frameInfo=function(Y){if(Y<0||Y>=w.length)throw new Error("Frame index out of range.");return w[Y]},this.decodeAndBlitFrameBGRA=function(Y,fe){var re=this.frameInfo(Y),qe=re.width*re.height,Be=new Uint8Array(qe);nm(t,re.data_offset,Be,qe);var me=re.palette_offset,te=re.transparent_index;te===null&&(te=256);var ye=re.width,be=r-ye,se=ye,I=4*(re.y*r+re.x),$=4*((re.y+re.height)*r+re.x),X=I,ie=4*be;re.interlaced===!0&&(ie+=4*r*7);for(var de=8,xe=0,Oe=Be.length;xe<Oe;++xe){var ge=Be[xe];if(se===0&&(se=ye,(X+=ie)>=$&&(ie=4*be+4*r*(de-1),X=I+(ye+be)*(de<<1),de>>=1)),ge===te)X+=4;else{var rt=t[me+3*ge],st=t[me+3*ge+1],it=t[me+3*ge+2];fe[X++]=it,fe[X++]=st,fe[X++]=rt,fe[X++]=255}--se}},this.decodeAndBlitFrameRGBA=function(Y,fe){var re=this.frameInfo(Y),qe=re.width*re.height,Be=new Uint8Array(qe);nm(t,re.data_offset,Be,qe);var me=re.palette_offset,te=re.transparent_index;te===null&&(te=256);var ye=re.width,be=r-ye,se=ye,I=4*(re.y*r+re.x),$=4*((re.y+re.height)*r+re.x),X=I,ie=4*be;re.interlaced===!0&&(ie+=4*r*7);for(var de=8,xe=0,Oe=Be.length;xe<Oe;++xe){var ge=Be[xe];if(se===0&&(se=ye,(X+=ie)>=$&&(ie=4*be+4*r*(de-1),X=I+(ye+be)*(de<<1),de>>=1)),ge===te)X+=4;else{var rt=t[me+3*ge],st=t[me+3*ge+1],it=t[me+3*ge+2];fe[X++]=rt,fe[X++]=st,fe[X++]=it,fe[X++]=255}--se}}}function nm(t,e,r,i){for(var o=t[e++],a=1<<o,l=a+1,c=l+1,h=o+1,g=(1<<h)-1,w=0,b=0,N=0,_=t[e++],O=new Int32Array(4096),P=null;;){for(;w<16&&_!==0;)b|=t[e++]<<w,w+=8,_===1?_=t[e++]:--_;if(w<h)break;var R=b&g;if(b>>=h,w-=h,R!==a){if(R===l)break;for(var L=R<c?R:P,M=0,H=L;H>a;)H=O[H]>>8,++M;var oe=H;if(N+M+(L!==R?1:0)>i)return void cn.log("Warning, gif stream longer than expected.");r[N++]=oe;var pe=N+=M;for(L!==R&&(r[N++]=oe),H=L;M--;)H=O[H],r[--pe]=255&H,H>>=8;P!==null&&c<4096&&(O[c++]=P<<8|oe,c>=g+1&&h<12&&(++h,g=g<<1|1)),P=R}else c=l+1,g=(1<<(h=o+1))-1,P=null}return N!==i&&cn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Xf(t){var e,r,i,o,a,l=Math.floor,c=new Array(64),h=new Array(64),g=new Array(64),w=new Array(64),b=new Array(65535),N=new Array(65535),_=new Array(64),O=new Array(64),P=[],R=0,L=7,M=new Array(64),H=new Array(64),oe=new Array(64),pe=new Array(256),Ee=new Array(2048),ce=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],he=[0,1,2,3,4,5,6,7,8,9,10,11],Re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],fe=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],qe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Be(I,$){for(var X=0,ie=0,de=new Array,xe=1;xe<=16;xe++){for(var Oe=1;Oe<=I[xe];Oe++)de[$[ie]]=[],de[$[ie]][0]=X,de[$[ie]][1]=xe,ie++,X++;X*=2}return de}function me(I){for(var $=I[0],X=I[1]-1;X>=0;)$&1<<X&&(R|=1<<L),X--,--L<0&&(R==255?(te(255),te(0)):te(R),L=7,R=0)}function te(I){P.push(I)}function ye(I){te(I>>8&255),te(255&I)}function be(I,$,X,ie,de){for(var xe,Oe=de[0],ge=de[240],rt=function(ot,pt){var vt,St,Rt,Yt,Qt,nr,Zt,wr,zt,sr,wt=0;for(zt=0;zt<8;++zt){vt=ot[wt],St=ot[wt+1],Rt=ot[wt+2],Yt=ot[wt+3],Qt=ot[wt+4],nr=ot[wt+5],Zt=ot[wt+6];var Xr=vt+(wr=ot[wt+7]),kr=vt-wr,ei=St+Zt,Sr=St-Zt,xt=Rt+nr,On=Rt-nr,mr=Yt+Qt,mi=Yt-Qt,dt=Xr+mr,An=Xr-mr,Er=ei+xt,xr=ei-xt;ot[wt]=dt+Er,ot[wt+4]=dt-Er;var Ft=.707106781*(xr+An);ot[wt+2]=An+Ft,ot[wt+6]=An-Ft;var pr=.382683433*((dt=mi+On)-(xr=Sr+kr)),bn=.5411961*dt+pr,Cr=1.306562965*xr+pr,qr=.707106781*(Er=On+Sr),sn=kr+qr,Ct=kr-qr;ot[wt+5]=Ct+bn,ot[wt+3]=Ct-bn,ot[wt+1]=sn+Cr,ot[wt+7]=sn-Cr,wt+=8}for(wt=0,zt=0;zt<8;++zt){vt=ot[wt],St=ot[wt+8],Rt=ot[wt+16],Yt=ot[wt+24],Qt=ot[wt+32],nr=ot[wt+40],Zt=ot[wt+48];var Qr=vt+(wr=ot[wt+56]),er=vt-wr,vr=St+Zt,Mr=St-Zt,Pr=Rt+nr,Ur=Rt-nr,qn=Yt+Qt,Pi=Yt-Qt,Tn=Qr+qn,ti=Qr-qn,tn=vr+Pr,vi=vr-Pr;ot[wt]=Tn+tn,ot[wt+32]=Tn-tn;var Li=.707106781*(vi+ti);ot[wt+16]=ti+Li,ot[wt+48]=ti-Li;var Un=.382683433*((Tn=Pi+Ur)-(vi=Mr+er)),Hs=.5411961*Tn+Un,Ii=1.306562965*vi+Un,ha=.707106781*(tn=Ur+Mr),Ks=er+ha,Gr=er-ha;ot[wt+40]=Gr+Hs,ot[wt+24]=Gr-Hs,ot[wt+8]=Ks+Ii,ot[wt+56]=Ks-Ii,wt++}for(zt=0;zt<64;++zt)sr=ot[zt]*pt[zt],_[zt]=sr>0?sr+.5|0:sr-.5|0;return _}(I,$),st=0;st<64;++st)O[ce[st]]=rt[st];var it=O[0]-X;X=O[0],it==0?me(ie[0]):(me(ie[N[xe=32767+it]]),me(b[xe]));for(var bt=63;bt>0&&O[bt]==0;)bt--;if(bt==0)return me(Oe),X;for(var qt,Je=1;Je<=bt;){for(var ae=Je;O[Je]==0&&Je<=bt;)++Je;var Xt=Je-ae;if(Xt>=16){qt=Xt>>4;for(var Tt=1;Tt<=qt;++Tt)me(ge);Xt&=15}xe=32767+O[Je],me(de[(Xt<<4)+N[xe]]),me(b[xe]),Je++}return bt!=63&&me(Oe),X}function se(I){I=Math.min(Math.max(I,1),100),a!=I&&(function($){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var de=l((X[ie]*$+50)/100);de=Math.min(Math.max(de,1),255),c[ce[ie]]=de}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var ge=l((xe[Oe]*$+50)/100);ge=Math.min(Math.max(ge,1),255),h[ce[Oe]]=ge}for(var rt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],st=0,it=0;it<8;it++)for(var bt=0;bt<8;bt++)g[st]=1/(c[ce[st]]*rt[it]*rt[bt]*8),w[st]=1/(h[ce[st]]*rt[it]*rt[bt]*8),st++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),a=I)}this.encode=function(I,$){$&&se($),P=new Array,R=0,L=7,ye(65496),ye(65504),ye(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ye(1),ye(1),te(0),te(0),function(){ye(65499),ye(132),te(0);for(var St=0;St<64;St++)te(c[St]);te(1);for(var Rt=0;Rt<64;Rt++)te(h[Rt])}(),function(St,Rt){ye(65472),ye(17),te(8),ye(Rt),ye(St),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(I.width,I.height),function(){ye(65476),ye(418),te(0);for(var St=0;St<16;St++)te(G[St+1]);for(var Rt=0;Rt<=11;Rt++)te(he[Rt]);te(16);for(var Yt=0;Yt<16;Yt++)te(Re[Yt+1]);for(var Qt=0;Qt<=161;Qt++)te(V[Qt]);te(1);for(var nr=0;nr<16;nr++)te(Y[nr+1]);for(var Zt=0;Zt<=11;Zt++)te(fe[Zt]);te(17);for(var wr=0;wr<16;wr++)te(re[wr+1]);for(var zt=0;zt<=161;zt++)te(qe[zt])}(),ye(65498),ye(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var X=0,ie=0,de=0;R=0,L=7,this.encode.displayName="_encode_";for(var xe,Oe,ge,rt,st,it,bt,qt,Je,ae=I.data,Xt=I.width,Tt=I.height,ot=4*Xt,pt=0;pt<Tt;){for(xe=0;xe<ot;){for(st=ot*pt+xe,bt=-1,qt=0,Je=0;Je<64;Je++)it=st+(qt=Je>>3)*ot+(bt=4*(7&Je)),pt+qt>=Tt&&(it-=ot*(pt+1+qt-Tt)),xe+bt>=ot&&(it-=xe+bt-ot+4),Oe=ae[it++],ge=ae[it++],rt=ae[it++],M[Je]=(Ee[Oe]+Ee[ge+256>>0]+Ee[rt+512>>0]>>16)-128,H[Je]=(Ee[Oe+768>>0]+Ee[ge+1024>>0]+Ee[rt+1280>>0]>>16)-128,oe[Je]=(Ee[Oe+1280>>0]+Ee[ge+1536>>0]+Ee[rt+1792>>0]>>16)-128;X=be(M,g,X,e,i),ie=be(H,w,ie,r,o),de=be(oe,w,de,r,o),xe+=32}pt+=8}if(L>=0){var vt=[];vt[1]=L+1,vt[0]=(1<<L+1)-1,me(vt)}return ye(65497),new Uint8Array(P)},t=t||50,function(){for(var I=String.fromCharCode,$=0;$<256;$++)pe[$]=I($)}(),e=Be(G,he),r=Be(Y,fe),i=Be(Re,V),o=Be(re,qe),function(){for(var I=1,$=2,X=1;X<=15;X++){for(var ie=I;ie<$;ie++)N[32767+ie]=X,b[32767+ie]=[],b[32767+ie][1]=X,b[32767+ie][0]=ie;for(var de=-($-1);de<=-I;de++)N[32767+de]=X,b[32767+de]=[],b[32767+de][1]=X,b[32767+de][0]=$-1+de;I<<=1,$<<=1}}(),function(){for(var I=0;I<256;I++)Ee[I]=19595*I,Ee[I+256>>0]=38470*I,Ee[I+512>>0]=7471*I+32768,Ee[I+768>>0]=-11059*I,Ee[I+1024>>0]=-21709*I,Ee[I+1280>>0]=32768*I+8421375,Ee[I+1536>>0]=-27439*I,Ee[I+1792>>0]=-5329*I}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function no(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function im(t){function e(G){if(!G)throw Error("assert :P")}function r(G,he,Re){for(var V=0;4>V;V++)if(G[he+V]!=Re.charCodeAt(V))return!0;return!1}function i(G,he,Re,V,Y){for(var fe=0;fe<Y;fe++)G[he+fe]=Re[V+fe]}function o(G,he,Re,V){for(var Y=0;Y<V;Y++)G[he+Y]=Re}function a(G){return new Int32Array(G)}function l(G,he){for(var Re=[],V=0;V<G;V++)Re.push(new he);return Re}function c(G,he){var Re=[];return function V(Y,fe,re){for(var qe=re[fe],Be=0;Be<qe&&(Y.push(re.length>fe+1?[]:new he),!(re.length<fe+1));Be++)V(Y[Be],fe+1,re)}(Re,0,G),Re}var h=function(){var G=this;function he(d,m){for(var S=1<<m-1>>>0;d&S;)S>>>=1;return S?(d&S-1)+S:d}function Re(d,m,S,E,D){e(!(E%S));do d[m+(E-=S)]=D;while(0<E)}function V(d,m,S,E,D){if(e(2328>=D),512>=D)var B=a(512);else if((B=a(D))==null)return 0;return function(z,W,K,Q,_e,Ue){var ze,Te,nt=W,Ye=1<<K,Ne=a(16),Ae=a(16);for(e(_e!=0),e(Q!=null),e(z!=null),e(0<K),Te=0;Te<_e;++Te){if(15<Q[Te])return 0;++Ne[Q[Te]]}if(Ne[0]==_e)return 0;for(Ae[1]=0,ze=1;15>ze;++ze){if(Ne[ze]>1<<ze)return 0;Ae[ze+1]=Ae[ze]+Ne[ze]}for(Te=0;Te<_e;++Te)ze=Q[Te],0<Q[Te]&&(Ue[Ae[ze]++]=Te);if(Ae[15]==1)return(Q=new Y).g=0,Q.value=Ue[0],Re(z,nt,1,Ye,Q),Ye;var et,Ze=-1,tt=Ye-1,Pt=0,At=1,Jt=1,jt=1<<K;for(Te=0,ze=1,_e=2;ze<=K;++ze,_e<<=1){if(At+=Jt<<=1,0>(Jt-=Ne[ze]))return 0;for(;0<Ne[ze];--Ne[ze])(Q=new Y).g=ze,Q.value=Ue[Te++],Re(z,nt+Pt,_e,jt,Q),Pt=he(Pt,ze)}for(ze=K+1,_e=2;15>=ze;++ze,_e<<=1){if(At+=Jt<<=1,0>(Jt-=Ne[ze]))return 0;for(;0<Ne[ze];--Ne[ze]){if(Q=new Y,(Pt&tt)!=Ze){for(nt+=jt,et=1<<(Ze=ze)-K;15>Ze&&!(0>=(et-=Ne[Ze]));)++Ze,et<<=1;Ye+=jt=1<<(et=Ze-K),z[W+(Ze=Pt&tt)].g=et+K,z[W+Ze].value=nt-W-Ze}Q.g=ze-K,Q.value=Ue[Te++],Re(z,nt+(Pt>>K),_e,jt,Q),Pt=he(Pt,ze)}}return At!=2*Ae[15]-1?0:Ye}(d,m,S,E,D,B)}function Y(){this.value=this.g=0}function fe(){this.value=this.g=0}function re(){this.G=l(5,Y),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(gr,fe)}function qe(d,m,S,E){e(d!=null),e(m!=null),e(2147483648>E),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=m,d.pa=S,d.Jd=m,d.Yc=S+E,d.Zc=4<=E?S+E-4+1:S,xe(d)}function Be(d,m){for(var S=0;0<m--;)S|=ge(d,128)<<m;return S}function me(d,m){var S=Be(d,m);return Oe(d)?-S:S}function te(d,m,S,E){var D,B=0;for(e(d!=null),e(m!=null),e(4294967288>E),d.Sb=E,d.Ra=0,d.u=0,d.h=0,4<E&&(E=4),D=0;D<E;++D)B+=m[S+D]<<8*D;d.Ra=B,d.bb=E,d.oa=m,d.pa=S}function ye(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<_o-8>>>0,++d.bb,d.u-=8;X(d)&&(d.h=1,d.u=0)}function be(d,m){if(e(0<=m),!d.h&&m<=Vn){var S=$(d)&ta[m];return d.u+=m,ye(d),S}return d.h=1,d.u=0}function se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(d){return d.Ra>>>(d.u&_o-1)>>>0}function X(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>_o}function ie(d,m){d.u=m,d.h=X(d)}function de(d){d.u>=Sa&&(e(d.u>=Sa),ye(d))}function xe(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Oe(d){return Be(d,1)}function ge(d,m){var S=d.Ca;0>d.b&&xe(d);var E=d.b,D=S*m>>>8,B=(d.I>>>E>D)+0;for(B?(S-=D,d.I-=D+1<<E>>>0):S=D+1,E=S,D=0;256<=E;)D+=8,E>>=8;return E=7^D+ni[E],d.b-=E,d.Ca=(S<<E)-1,B}function rt(d,m,S){d[m+0]=S>>24&255,d[m+1]=S>>16&255,d[m+2]=S>>8&255,d[m+3]=S>>0&255}function st(d,m){return d[m+0]<<0|d[m+1]<<8}function it(d,m){return st(d,m)|d[m+2]<<16}function bt(d,m){return st(d,m)|st(d,m+2)<<16}function qt(d,m){var S=1<<m;return e(d!=null),e(0<m),d.X=a(S),d.X==null?0:(d.Mb=32-m,d.Xa=m,1)}function Je(d,m){e(d!=null),e(m!=null),e(d.Xa==m.Xa),i(m.X,0,d.X,0,1<<m.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Xt(d,m,S,E){e(S!=null),e(E!=null);var D=S[0],B=E[0];return D==0&&(D=(d*B+m/2)/m),B==0&&(B=(m*D+d/2)/d),0>=D||0>=B?0:(S[0]=D,E[0]=B,1)}function Tt(d,m){return d+(1<<m)-1>>>m}function ot(d,m){return((4278255360&d)+(4278255360&m)>>>0&4278255360)+((16711935&d)+(16711935&m)>>>0&16711935)>>>0}function pt(d,m){G[m]=function(S,E,D,B,z,W,K){var Q;for(Q=0;Q<z;++Q){var _e=G[d](W[K+Q-1],D,B+Q);W[K+Q]=ot(S[E+Q],_e)}}}function vt(){this.ud=this.hd=this.jd=0}function St(d,m){return((4278124286&(d^m))>>>1)+(d&m)>>>0}function Rt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Yt(d,m){return Rt(d+(d-m+.5>>1))}function Qt(d,m,S){return Math.abs(m-S)-Math.abs(d-S)}function nr(d,m,S,E,D,B,z){for(E=B[z-1],S=0;S<D;++S)B[z+S]=E=ot(d[m+S],E)}function Zt(d,m,S,E,D){var B;for(B=0;B<S;++B){var z=d[m+B],W=z>>8&255,K=16711935&(K=(K=16711935&z)+((W<<16)+W));E[D+B]=(4278255360&z)+K>>>0}}function wr(d,m){m.jd=d>>0&255,m.hd=d>>8&255,m.ud=d>>16&255}function zt(d,m,S,E,D,B){var z;for(z=0;z<E;++z){var W=m[S+z],K=W>>>8,Q=W,_e=255&(_e=(_e=W>>>16)+((d.jd<<24>>24)*(K<<24>>24)>>>5));Q=255&(Q=(Q=Q+((d.hd<<24>>24)*(K<<24>>24)>>>5))+((d.ud<<24>>24)*(_e<<24>>24)>>>5)),D[B+z]=(4278255360&W)+(_e<<16)+Q}}function sr(d,m,S,E,D){G[m]=function(B,z,W,K,Q,_e,Ue,ze,Te){for(K=Ue;K<ze;++K)for(Ue=0;Ue<Te;++Ue)Q[_e++]=D(W[E(B[z++])])},G[d]=function(B,z,W,K,Q,_e,Ue){var ze=8>>B.b,Te=B.Ea,nt=B.K[0],Ye=B.w;if(8>ze)for(B=(1<<B.b)-1,Ye=(1<<ze)-1;z<W;++z){var Ne,Ae=0;for(Ne=0;Ne<Te;++Ne)Ne&B||(Ae=E(K[Q++])),_e[Ue++]=D(nt[Ae&Ye]),Ae>>=ze}else G["VP8LMapColor"+S](K,Q,nt,Ye,_e,Ue,z,W,Te)}}function wt(d,m,S,E,D){for(S=m+S;m<S;){var B=d[m++];E[D++]=B>>16&255,E[D++]=B>>8&255,E[D++]=B>>0&255}}function Xr(d,m,S,E,D){for(S=m+S;m<S;){var B=d[m++];E[D++]=B>>16&255,E[D++]=B>>8&255,E[D++]=B>>0&255,E[D++]=B>>24&255}}function kr(d,m,S,E,D){for(S=m+S;m<S;){var B=(z=d[m++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;E[D++]=B,E[D++]=z}}function ei(d,m,S,E,D){for(S=m+S;m<S;){var B=(z=d[m++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;E[D++]=B,E[D++]=z}}function Sr(d,m,S,E,D){for(S=m+S;m<S;){var B=d[m++];E[D++]=B>>0&255,E[D++]=B>>8&255,E[D++]=B>>16&255}}function xt(d,m,S,E,D,B){if(B==0)for(S=m+S;m<S;)rt(E,((B=d[m++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),D+=32;else i(E,D,d,m,S)}function On(d,m){G[m][0]=G[d+"0"],G[m][1]=G[d+"1"],G[m][2]=G[d+"2"],G[m][3]=G[d+"3"],G[m][4]=G[d+"4"],G[m][5]=G[d+"5"],G[m][6]=G[d+"6"],G[m][7]=G[d+"7"],G[m][8]=G[d+"8"],G[m][9]=G[d+"9"],G[m][10]=G[d+"10"],G[m][11]=G[d+"11"],G[m][12]=G[d+"12"],G[m][13]=G[d+"13"],G[m][14]=G[d+"0"],G[m][15]=G[d+"0"]}function mr(d){return d==cl||d==qo||d==zl||d==$l}function mi(){this.eb=[],this.size=this.A=this.fb=0}function dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function An(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mi,this.f.kb=new dt,this.sd=null}function Er(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function pr(d,m){var S=d.T,E=m.ba.f.RGBA,D=E.eb,B=E.fb+d.ka*E.A,z=Qi[m.ba.S],W=d.y,K=d.O,Q=d.f,_e=d.N,Ue=d.ea,ze=d.W,Te=m.cc,nt=m.dc,Ye=m.Mc,Ne=m.Nc,Ae=d.ka,et=d.ka+d.T,Ze=d.U,tt=Ze+1>>1;for(Ae==0?z(W,K,null,null,Q,_e,Ue,ze,Q,_e,Ue,ze,D,B,null,null,Ze):(z(m.ec,m.fc,W,K,Te,nt,Ye,Ne,Q,_e,Ue,ze,D,B-E.A,D,B,Ze),++S);Ae+2<et;Ae+=2)Te=Q,nt=_e,Ye=Ue,Ne=ze,_e+=d.Rc,ze+=d.Rc,B+=2*E.A,z(W,(K+=2*d.fa)-d.fa,W,K,Te,nt,Ye,Ne,Q,_e,Ue,ze,D,B-E.A,D,B,Ze);return K+=d.fa,d.j+et<d.o?(i(m.ec,m.fc,W,K,Ze),i(m.cc,m.dc,Q,_e,tt),i(m.Mc,m.Nc,Ue,ze,tt),S--):1&et||z(W,K,null,null,Q,_e,Ue,ze,Q,_e,Ue,ze,D,B+E.A,null,null,Ze),S}function bn(d,m,S){var E=d.F,D=[d.J];if(E!=null){var B=d.U,z=m.ba.S,W=z==Ul||z==zl;m=m.ba.f.RGBA;var K=[0],Q=d.ka;K[0]=d.T,d.Kb&&(Q==0?--K[0]:(--Q,D[0]-=d.width),d.j+d.ka+d.T==d.o&&(K[0]=d.o-d.j-Q));var _e=m.eb;Q=m.fb+Q*m.A,d=It(E,D[0],d.width,B,K,_e,Q+(W?0:3),m.A),e(S==K),d&&mr(z)&&Nt(_e,Q,W,B,K,m.A)}return 0}function Cr(d){var m=d.ma,S=m.ba.S,E=11>S,D=S==ko||S==ql||S==Ul||S==Zr||S==12||mr(S);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!xo(m.Oa,d,D?11:12))return 0;if(D&&mr(S)&&at(),d.da)alert("todo:use_scaling");else{if(E){if(m.Ib=Ft,d.Kb){if(S=d.U+1>>1,m.memory=a(d.U+2*S),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+d.U,m.Mc=m.cc,m.Nc=m.dc+S,m.Ib=pr,at()}}else alert("todo:EmitYUV");D&&(m.Jb=bn,E&&Me())}if(E&&!di){for(d=0;256>d;++d)Zi[d]=89858*(d-128)+na>>Wa,es[d]=-22014*(d-128)+na,pl[d]=-45773*(d-128),Vo[d]=113618*(d-128)+na>>Wa;for(d=Hr;d<Jr;++d)m=76283*(d-16)+na>>Wa,vu[d-Hr]=xi(m,255),hd[d-Hr]=xi(m+8>>4,15);di=1}return 1}function qr(d){var m=d.ma,S=d.U,E=d.T;return e(!(1&d.ka)),0>=S||0>=E?0:(S=m.Ib(d,m),m.Jb!=null&&m.Jb(d,m,S),m.Dc+=S,1)}function sn(d){d.ma.memory=null}function Ct(d,m,S,E){return be(d,8)!=47?0:(m[0]=be(d,14)+1,S[0]=be(d,14)+1,E[0]=be(d,1),be(d,3)!=0?0:!d.h)}function Qr(d,m){if(4>d)return d+1;var S=d-2>>1;return(2+(1&d)<<S)+be(m,S)+1}function er(d,m){return 120<m?m-120:1<=(S=((S=Kh[m-1])>>4)*d+(8-(15&S)))?S:1;var S}function vr(d,m,S){var E=$(S),D=d[m+=255&E].g-8;return 0<D&&(ie(S,S.u+8),E=$(S),m+=d[m].value,m+=E&(1<<D)-1),ie(S,S.u+d[m].g),d[m].value}function Mr(d,m,S){return S.g+=d.g,S.value+=d.value<<m>>>0,e(8>=S.g),d.g}function Pr(d,m,S){var E=d.xc;return e((m=E==0?0:d.vc[d.md*(S>>E)+(m>>E)])<d.Wb),d.Ya[m]}function Ur(d,m,S,E){var D=d.ab,B=d.c*m,z=d.C;m=z+m;var W=S,K=E;for(E=d.Ta,S=d.Ua;0<D--;){var Q=d.gc[D],_e=z,Ue=m,ze=W,Te=K,nt=(K=E,W=S,Q.Ea);switch(e(_e<Ue),e(Ue<=Q.nc),Q.hc){case 2:ra(ze,Te,(Ue-_e)*nt,K,W);break;case 0:var Ye=_e,Ne=Ue,Ae=K,et=W,Ze=(jt=Q).Ea;Ye==0&&(Ri(ze,Te,null,null,1,Ae,et),nr(ze,Te+1,0,0,Ze-1,Ae,et+1),Te+=Ze,et+=Ze,++Ye);for(var tt=1<<jt.b,Pt=tt-1,At=Tt(Ze,jt.b),Jt=jt.K,jt=jt.w+(Ye>>jt.b)*At;Ye<Ne;){var Dr=Jt,Fr=jt,Ir=1;for(ys(ze,Te,Ae,et-Ze,1,Ae,et);Ir<Ze;){var _r=(Ir&~Pt)+tt;_r>Ze&&(_r=Ze),(0,A[Dr[Fr++]>>8&15])(ze,Te+ +Ir,Ae,et+Ir-Ze,_r-Ir,Ae,et+Ir),Ir=_r}Te+=Ze,et+=Ze,++Ye&Pt||(jt+=At)}Ue!=Q.nc&&i(K,W-nt,K,W+(Ue-_e-1)*nt,nt);break;case 1:for(nt=ze,Ne=Te,Ze=(ze=Q.Ea)-(et=ze&~(Ae=(Te=1<<Q.b)-1)),Ye=Tt(ze,Q.b),tt=Q.K,Q=Q.w+(_e>>Q.b)*Ye;_e<Ue;){for(Pt=tt,At=Q,Jt=new vt,jt=Ne+et,Dr=Ne+ze;Ne<jt;)wr(Pt[At++],Jt),C(Jt,nt,Ne,Te,K,W),Ne+=Te,W+=Te;Ne<Dr&&(wr(Pt[At++],Jt),C(Jt,nt,Ne,Ze,K,W),Ne+=Ze,W+=Ze),++_e&Ae||(Q+=Ye)}break;case 3:if(ze==K&&Te==W&&0<Q.b){for(Ne=K,ze=nt=W+(Ue-_e)*nt-(et=(Ue-_e)*Tt(Q.Ea,Q.b)),Te=K,Ae=W,Ye=[],et=(Ze=et)-1;0<=et;--et)Ye[et]=Te[Ae+et];for(et=Ze-1;0<=et;--et)Ne[ze+et]=Ye[et];mn(Q,_e,Ue,K,nt,K,W)}else mn(Q,_e,Ue,ze,Te,K,W)}W=E,K=S}K!=S&&i(E,S,W,K,B)}function qn(d,m){var S=d.V,E=d.Ba+d.c*d.C,D=m-d.C;if(e(m<=d.l.o),e(16>=D),0<D){var B=d.l,z=d.Ta,W=d.Ua,K=B.width;if(Ur(d,D,S,E),D=W=[W],e((S=d.C)<(E=m)),e(B.v<B.va),E>B.o&&(E=B.o),S<B.j){var Q=B.j-S;S=B.j,D[0]+=Q*K}if(S>=E?S=0:(D[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=E-S,S=1),S){if(W=W[0],11>(S=d.ca).S){var _e=S.f.RGBA,Ue=(E=S.S,D=B.U,B=B.T,Q=_e.eb,_e.A),ze=B;for(_e=_e.fb+d.Ma*_e.A;0<ze--;){var Te=z,nt=W,Ye=D,Ne=Q,Ae=_e;switch(E){case fu:T(Te,nt,Ye,Ne,Ae);break;case ko:U(Te,nt,Ye,Ne,Ae);break;case cl:U(Te,nt,Ye,Ne,Ae),Nt(Ne,Ae,0,Ye,1,0);break;case od:ke(Te,nt,Ye,Ne,Ae);break;case ql:xt(Te,nt,Ye,Ne,Ae,1);break;case qo:xt(Te,nt,Ye,Ne,Ae,1),Nt(Ne,Ae,0,Ye,1,0);break;case Ul:xt(Te,nt,Ye,Ne,Ae,0);break;case zl:xt(Te,nt,Ye,Ne,Ae,0),Nt(Ne,Ae,1,Ye,1,0);break;case Zr:Z(Te,nt,Ye,Ne,Ae);break;case $l:Z(Te,nt,Ye,Ne,Ae),Lt(Ne,Ae,Ye,1,0);break;case pu:le(Te,nt,Ye,Ne,Ae);break;default:e(0)}W+=K,_e+=Ue}d.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=S.height)}}d.C=m,e(d.C<=d.i)}function Pi(d){var m;if(0<d.ua)return 0;for(m=0;m<d.Wb;++m){var S=d.Ya[m].G,E=d.Ya[m].H;if(0<S[1][E[1]+0].g||0<S[2][E[2]+0].g||0<S[3][E[3]+0].g)return 0}return 1}function Tn(d,m,S,E,D,B){if(d.Z!=0){var z=d.qd,W=d.rd;for(e(ki[d.Z]!=null);m<S;++m)ki[d.Z](z,W,E,D,E,D,B),z=E,W=D,D+=B;d.qd=z,d.rd=W}}function ti(d,m){var S=d.l.ma,E=S.Z==0||S.Z==1?d.l.j:d.C;if(E=d.C<E?E:d.C,e(m<=d.l.o),m>E){var D=d.l.width,B=S.ca,z=S.tb+D*E,W=d.V,K=d.Ba+d.c*E,Q=d.gc;e(d.ab==1),e(Q[0].hc==3),f(Q[0],E,m,W,K,B,z),Tn(S,E,m,B,z,D)}d.C=d.Ma=m}function tn(d,m,S,E,D,B,z){var W=d.$/E,K=d.$%E,Q=d.m,_e=d.s,Ue=S+d.$,ze=Ue;D=S+E*D;var Te=S+E*B,nt=280+_e.ua,Ye=d.Pb?W:16777216,Ne=0<_e.ua?_e.Wa:null,Ae=_e.wc,et=Ue<Te?Pr(_e,K,W):null;e(d.C<B),e(Te<=D);var Ze=!1;e:for(;;){for(;Ze||Ue<Te;){var tt=0;if(W>=Ye){var Pt=Ue-S;e((Ye=d).Pb),Ye.wd=Ye.m,Ye.xd=Pt,0<Ye.s.ua&&Je(Ye.s.Wa,Ye.s.vb),Ye=W+mu}if(K&Ae||(et=Pr(_e,K,W)),e(et!=null),et.Qb&&(m[Ue]=et.qb,Ze=!0),!Ze)if(de(Q),et.jc){tt=Q,Pt=m;var At=Ue,Jt=et.pd[$(tt)&gr-1];e(et.jc),256>Jt.g?(ie(tt,tt.u+Jt.g),Pt[At]=Jt.value,tt=0):(ie(tt,tt.u+Jt.g-256),e(256<=Jt.value),tt=Jt.value),tt==0&&(Ze=!0)}else tt=vr(et.G[0],et.H[0],Q);if(Q.h)break;if(Ze||256>tt){if(!Ze)if(et.nd)m[Ue]=(et.qb|tt<<8)>>>0;else{if(de(Q),Ze=vr(et.G[1],et.H[1],Q),de(Q),Pt=vr(et.G[2],et.H[2],Q),At=vr(et.G[3],et.H[3],Q),Q.h)break;m[Ue]=(At<<24|Ze<<16|tt<<8|Pt)>>>0}if(Ze=!1,++Ue,++K>=E&&(K=0,++W,z!=null&&W<=B&&!(W%16)&&z(d,W),Ne!=null))for(;ze<Ue;)tt=m[ze++],Ne.X[(506832829*tt&4294967295)>>>Ne.Mb]=tt}else if(280>tt){if(tt=Qr(tt-256,Q),Pt=vr(et.G[4],et.H[4],Q),de(Q),Pt=er(E,Pt=Qr(Pt,Q)),Q.h)break;if(Ue-S<Pt||D-Ue<tt)break e;for(At=0;At<tt;++At)m[Ue+At]=m[Ue+At-Pt];for(Ue+=tt,K+=tt;K>=E;)K-=E,++W,z!=null&&W<=B&&!(W%16)&&z(d,W);if(e(Ue<=D),K&Ae&&(et=Pr(_e,K,W)),Ne!=null)for(;ze<Ue;)tt=m[ze++],Ne.X[(506832829*tt&4294967295)>>>Ne.Mb]=tt}else{if(!(tt<nt))break e;for(Ze=tt-280,e(Ne!=null);ze<Ue;)tt=m[ze++],Ne.X[(506832829*tt&4294967295)>>>Ne.Mb]=tt;tt=Ue,e(!(Ze>>>(Pt=Ne).Xa)),m[tt]=Pt.X[Ze],Ze=!0}Ze||e(Q.h==X(Q))}if(d.Pb&&Q.h&&Ue<D)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Je(d.s.vb,d.s.Wa);else{if(Q.h)break e;z?.(d,W>B?B:W),d.a=0,d.$=Ue-S}return 1}return d.a=3,0}function vi(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var m=d.Wa;m!=null&&(m.X=null),d.vb=null,e(d!=null)}function Li(){var d=new ul;return d==null?null:(d.a=0,d.xb=hl,On("Predictor","VP8LPredictors"),On("Predictor","VP8LPredictors_C"),On("PredictorAdd","VP8LPredictorsAdd"),On("PredictorAdd","VP8LPredictorsAdd_C"),ra=Zt,C=zt,T=wt,U=Xr,Z=kr,le=ei,ke=Sr,G.VP8LMapColor32b=Va,G.VP8LMapColor8b=y,d)}function Un(d,m,S,E,D){var B=1,z=[d],W=[m],K=E.m,Q=E.s,_e=null,Ue=0;e:for(;;){if(S)for(;B&&be(K,1);){var ze=z,Te=W,nt=E,Ye=1,Ne=nt.m,Ae=nt.gc[nt.ab],et=be(Ne,2);if(nt.Oc&1<<et)B=0;else{switch(nt.Oc|=1<<et,Ae.hc=et,Ae.Ea=ze[0],Ae.nc=Te[0],Ae.K=[null],++nt.ab,e(4>=nt.ab),et){case 0:case 1:Ae.b=be(Ne,3)+2,Ye=Un(Tt(Ae.Ea,Ae.b),Tt(Ae.nc,Ae.b),0,nt,Ae.K),Ae.K=Ae.K[0];break;case 3:var Ze,tt=be(Ne,8)+1,Pt=16<tt?0:4<tt?1:2<tt?2:3;if(ze[0]=Tt(Ae.Ea,Pt),Ae.b=Pt,Ze=Ye=Un(tt,1,0,nt,Ae.K)){var At,Jt=tt,jt=Ae,Dr=1<<(8>>jt.b),Fr=a(Dr);if(Fr==null)Ze=0;else{var Ir=jt.K[0],_r=jt.w;for(Fr[0]=jt.K[0][0],At=1;At<1*Jt;++At)Fr[At]=ot(Ir[_r+At],Fr[At-1]);for(;At<4*Dr;++At)Fr[At]=0;jt.K[0]=null,jt.K[0]=Fr,Ze=1}}Ye=Ze;break;case 2:break;default:e(0)}B=Ye}}if(z=z[0],W=W[0],B&&be(K,1)&&!(B=1<=(Ue=be(K,4))&&11>=Ue)){E.a=3;break e}var Kr;if(Kr=B)t:{var Yr,dr,_n,Fi=E,Ln=z,Hn=W,$r=Ue,Si=S,Ni=Fi.m,kn=Fi.s,Kn=[null],hi=1,ts=0,Fs=ud[$r];r:for(;;){if(Si&&be(Ni,1)){var Sn=be(Ni,3)+2,Rn=Tt(Ln,Sn),ws=Tt(Hn,Sn),Ao=Rn*ws;if(!Un(Rn,ws,0,Fi,Kn))break r;for(Kn=Kn[0],kn.xc=Sn,Yr=0;Yr<Ao;++Yr){var Ka=Kn[Yr]>>8&65535;Kn[Yr]=Ka,Ka>=hi&&(hi=Ka+1)}}if(Ni.h)break r;for(dr=0;5>dr;++dr){var Vr=Uo[dr];!dr&&0<$r&&(Vr+=1<<$r),ts<Vr&&(ts=Vr)}var ja=l(hi*Fs,Y),yu=hi,dc=l(yu,re);if(dc==null)var Ms=null;else e(65536>=yu),Ms=dc;var Bs=a(ts);if(Ms==null||Bs==null||ja==null){Fi.a=1;break r}var Ho=ja;for(Yr=_n=0;Yr<hi;++Yr){var qs=Ms[Yr],Ga=qs.G,Ko=qs.H,gl=0,bs=1,ml=0;for(dr=0;5>dr;++dr){Vr=Uo[dr],Ga[dr]=Ho,Ko[dr]=_n,!dr&&0<$r&&(Vr+=1<<$r);i:{var jo,Ja=Vr,vl=Fi,Ea=Bs,pd=Ho,hc=_n,un=0,ia=vl.m,fc=be(ia,1);if(o(Ea,0,0,Ja),fc){var pc=be(ia,1)+1,wu=be(ia,1),bu=be(ia,wu==0?1:8);Ea[bu]=1,pc==2&&(Ea[bu=be(ia,8)]=1);var Ca=1}else{var yn=a(19),Dn=be(ia,4)+4;if(19<Dn){vl.a=3;var In=0;break i}for(jo=0;jo<Dn;++jo)yn[Hh[jo]]=be(ia,3);var yl=void 0,Ya=void 0,wl=vl,Qh=yn,Gn=Ja,xu=Ea,Gl=0,Pa=wl.m,sa=8,xs=l(128,Y);n:for(;V(xs,0,7,Qh,19);){if(be(Pa,1)){var Jl=2+2*be(Pa,3);if((yl=2+be(Pa,Jl))>Gn)break n}else yl=Gn;for(Ya=0;Ya<Gn&&yl--;){de(Pa);var _u=xs[0+(127&$(Pa))];ie(Pa,Pa.u+_u.g);var Eo=_u.value;if(16>Eo)xu[Ya++]=Eo,Eo!=0&&(sa=Eo);else{var gd=Eo==16,gc=Eo-16,md=gu[gc],mc=be(Pa,Vl[gc])+md;if(Ya+mc>Gn)break n;for(var vd=gd?sa:0;0<mc--;)xu[Ya++]=vd}}Gl=1;break n}Gl||(wl.a=3),Ca=Gl}(Ca=Ca&&!ia.h)&&(un=V(pd,hc,8,Ea,Ja)),Ca&&un!=0?In=un:(vl.a=3,In=0)}if(In==0)break r;if(bs&&ld[dr]==1&&(bs=Ho[_n].g==0),gl+=Ho[_n].g,_n+=In,3>=dr){var bl,ku=Bs[0];for(bl=1;bl<Vr;++bl)Bs[bl]>ku&&(ku=Bs[bl]);ml+=ku}}if(qs.nd=bs,qs.Qb=0,bs&&(qs.qb=(Ga[3][Ko[3]+0].value<<24|Ga[1][Ko[1]+0].value<<16|Ga[2][Ko[2]+0].value)>>>0,gl==0&&256>Ga[0][Ko[0]+0].value&&(qs.Qb=1,qs.qb+=Ga[0][Ko[0]+0].value<<8)),qs.jc=!qs.Qb&&6>ml,qs.jc){var Yl,_s=qs;for(Yl=0;Yl<gr;++Yl){var Xa=Yl,aa=_s.pd[Xa],Go=_s.G[0][_s.H[0]+Xa];256<=Go.value?(aa.g=Go.g+256,aa.value=Go.value):(aa.g=0,aa.value=0,Xa>>=Mr(Go,8,aa),Xa>>=Mr(_s.G[1][_s.H[1]+Xa],16,aa),Xa>>=Mr(_s.G[2][_s.H[2]+Xa],0,aa),Mr(_s.G[3][_s.H[3]+Xa],24,aa))}}}kn.vc=Kn,kn.Wb=hi,kn.Ya=Ms,kn.yc=ja,Kr=1;break t}Kr=0}if(!(B=Kr)){E.a=3;break e}if(0<Ue){if(Q.ua=1<<Ue,!qt(Q.Wa,Ue)){E.a=1,B=0;break e}}else Q.ua=0;var Su=E,Nu=z,yd=W,Au=Su.s,ju=Au.xc;if(Su.c=Nu,Su.i=yd,Au.md=Tt(Nu,ju),Au.wc=ju==0?-1:(1<<ju)-1,S){E.xb=Aa;break e}if((_e=a(z*W))==null){E.a=1,B=0;break e}B=(B=tn(E,_e,0,z,W,W,null))&&!K.h;break e}return B?(D!=null?D[0]=_e:(e(_e==null),e(S)),E.$=0,S||vi(Q)):vi(Q),B}function Hs(d,m){var S=d.c*d.i,E=S+m+16*m;return e(d.c<=m),d.V=a(E),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+S+m,1)}function Ii(d,m){var S=d.C,E=m-S,D=d.V,B=d.Ba+d.c*S;for(e(m<=d.l.o);0<E;){var z=16<E?16:E,W=d.l.ma,K=d.l.width,Q=K*z,_e=W.ca,Ue=W.tb+K*S,ze=d.Ta,Te=d.Ua;Ur(d,z,D,B),Ut(ze,Te,_e,Ue,Q),Tn(W,S,S+z,_e,Ue,K),E-=z,D+=z*d.c,S+=z}e(S==m),d.C=d.Ma=m}function ha(){this.ub=this.yd=this.td=this.Rb=0}function Ks(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function js(){this.Yb=function(){var d=[];return function m(S,E,D){for(var B=D[E],z=0;z<B&&(S.push(D.length>E+1?[]:0),!(D.length<E+1));z++)m(S[z],E+1,D)}(d,0,[3,11]),d}()}function Or(){this.jb=a(3),this.Wc=c([4,8],js),this.Xc=c([4,17],js)}function ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Oi(){this.ld=this.La=this.dd=this.tc=0}function fa(){this.Na=this.la=0}function pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ta(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Es(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oi),this.Y=0,this.ya=Array(new Ta),this.aa=0,this.l=new Ra}function ga(){this.y=a(16),this.f=a(8),this.ea=a(8)}function li(){this.cb=this.a=0,this.sc="",this.m=new se,this.Od=new ha,this.Kc=new Ks,this.ed=new ol,this.Qa=new Gr,this.Ic=this.$c=this.Aa=0,this.D=new Es,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,se),this.ia=0,this.pb=l(4,pa),this.Pa=new Or,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ga),this.Hd=0,this.rb=Array(new fa),this.sb=0,this.wa=Array(new Oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ta),this.L=this.aa=0,this.gd=c([4,2],Oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ra(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ir(){var d=new li;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,zo||(zo=Tr)),d}function fn(d,m,S){return d.a==0&&(d.a=m,d.sc=S,d.cb=0),0}function Ro(d,m,S){return 3<=S&&d[m+0]==157&&d[m+1]==1&&d[m+2]==42}function Do(d,m){if(d==null)return 0;if(d.a=0,d.sc="OK",m==null)return fn(d,2,"null VP8Io passed to VP8GetHeaders()");var S=m.data,E=m.w,D=m.ha;if(4>D)return fn(d,7,"Truncated header.");var B=S[E+0]|S[E+1]<<8|S[E+2]<<16,z=d.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return fn(d,3,"Incorrect keyframe parameters.");if(!z.yd)return fn(d,4,"Frame not displayable.");E+=3,D-=3;var W=d.Kc;if(z.Rb){if(7>D)return fn(d,7,"cannot parse picture header");if(!Ro(S,E,D))return fn(d,3,"Bad code word");W.c=16383&(S[E+4]<<8|S[E+3]),W.Td=S[E+4]>>6,W.i=16383&(S[E+6]<<8|S[E+5]),W.Ud=S[E+6]>>6,E+=7,D-=7,d.za=W.c+15>>4,d.Ub=W.i+15>>4,m.width=W.c,m.height=W.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,o((B=d.Pa).jb,0,255,B.jb.length),e((B=d.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,o(B.Zb,0,0,B.Zb.length),o(B.Lb,0,0,B.Lb)}if(z.ub>D)return fn(d,7,"bad partition length");qe(B=d.m,S,E,z.ub),E+=z.ub,D-=z.ub,z.Rb&&(W.Ld=Oe(B),W.Kd=Oe(B)),W=d.Qa;var K,Q=d.Pa;if(e(B!=null),e(W!=null),W.Cb=Oe(B),W.Cb){if(W.Bb=Oe(B),Oe(B)){for(W.Fb=Oe(B),K=0;4>K;++K)W.Zb[K]=Oe(B)?me(B,7):0;for(K=0;4>K;++K)W.Lb[K]=Oe(B)?me(B,6):0}if(W.Bb)for(K=0;3>K;++K)Q.jb[K]=Oe(B)?Be(B,8):255}else W.Bb=0;if(B.Ka)return fn(d,3,"cannot parse segment header");if((W=d.ed).zd=Oe(B),W.Tb=Be(B,6),W.wb=Be(B,3),W.Pc=Oe(B),W.Pc&&Oe(B)){for(Q=0;4>Q;++Q)Oe(B)&&(W.vd[Q]=me(B,6));for(Q=0;4>Q;++Q)Oe(B)&&(W.od[Q]=me(B,6))}if(d.L=W.Tb==0?0:W.zd?1:2,B.Ka)return fn(d,3,"cannot parse filter header");var _e=D;if(D=K=E,E=K+_e,W=_e,d.Xb=(1<<Be(d.m,2))-1,_e<3*(Q=d.Xb))S=7;else{for(K+=3*Q,W-=3*Q,_e=0;_e<Q;++_e){var Ue=S[D+0]|S[D+1]<<8|S[D+2]<<16;Ue>W&&(Ue=W),qe(d.Jc[+_e],S,K,Ue),K+=Ue,W-=Ue,D+=3}qe(d.Jc[+Q],S,K,W),S=K<E?0:5}if(S!=0)return fn(d,S,"cannot parse partitions");for(S=Be(K=d.m,7),D=Oe(K)?me(K,4):0,E=Oe(K)?me(K,4):0,W=Oe(K)?me(K,4):0,Q=Oe(K)?me(K,4):0,K=Oe(K)?me(K,4):0,_e=d.Qa,Ue=0;4>Ue;++Ue){if(_e.Cb){var ze=_e.Zb[Ue];_e.Fb||(ze+=S)}else{if(0<Ue){d.pb[Ue]=d.pb[0];continue}ze=S}var Te=d.pb[Ue];Te.Sc[0]=dl[xi(ze+D,127)],Te.Sc[1]=Wl[xi(ze+0,127)],Te.Eb[0]=2*dl[xi(ze+E,127)],Te.Eb[1]=101581*Wl[xi(ze+W,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=dl[xi(ze+Q,117)],Te.Qc[1]=Wl[xi(ze+K,127)],Te.lc=ze+K}if(!z.Rb)return fn(d,4,"Not a key frame.");for(Oe(B),z=d.Pa,S=0;4>S;++S){for(D=0;8>D;++D)for(E=0;3>E;++E)for(W=0;11>W;++W)Q=ge(B,Jh[S][D][E][W])?Be(B,8):dd[S][D][E][W],z.Wc[S][D].Yb[E][W]=Q;for(D=0;17>D;++D)z.Xc[S][D]=z.Wc[S][lc[D]]}return d.kc=Oe(B),d.kc&&(d.Bd=Be(B,8)),d.cb=1}function Tr(d,m,S,E,D,B,z){var W=m[D].Yb[S];for(S=0;16>D;++D){if(!ge(d,W[S+0]))return D;for(;!ge(d,W[S+1]);)if(W=m[++D].Yb[0],S=0,D==16)return 16;var K=m[D+1].Yb;if(ge(d,W[S+2])){var Q=d,_e=0;if(ge(Q,(ze=W)[(Ue=S)+3]))if(ge(Q,ze[Ue+6])){for(W=0,Ue=2*(_e=ge(Q,ze[Ue+8]))+(ze=ge(Q,ze[Ue+9+_e])),_e=0,ze=ac[Ue];ze[W];++W)_e+=_e+ge(Q,ze[W]);_e+=3+(8<<Ue)}else ge(Q,ze[Ue+7])?(_e=7+2*ge(Q,165),_e+=ge(Q,145)):_e=5+ge(Q,159);else _e=ge(Q,ze[Ue+4])?3+ge(Q,ze[Ue+5]):2;W=K[2]}else _e=1,W=K[1];K=z+oc[D],0>(Q=d).b&&xe(Q);var Ue,ze=Q.b,Te=(Ue=Q.Ca>>1)-(Q.I>>ze)>>31;--Q.b,Q.Ca+=Te,Q.Ca|=1,Q.I-=(Ue+1&Te)<<ze,B[K]=((_e^Te)-Te)*E[(0<D)+0]}return 16}function zi(d){var m=d.rb[d.sb-1];m.la=0,m.Na=0,o(d.zc,0,0,d.zc.length),d.ja=0}function us(d,m){if(d==null)return 0;if(m==null)return fn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Do(d,m))return 0;if(e(d.cb),m.ac==null||m.ac(m)){m.ob&&(d.L=0);var S=Wo[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=m.v-S>>4,d.zb=m.j-S>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=m.o+15+S>>4,d.Hb=m.va+15+S>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var E=d.ed;for(S=0;4>S;++S){var D;if(d.Qa.Cb){var B=d.Qa.Lb[S];d.Qa.Fb||(B+=E.Tb)}else B=E.Tb;for(D=0;1>=D;++D){var z=d.gd[S][D],W=B;if(E.Pc&&(W+=E.vd[0],D&&(W+=E.od[0])),0<(W=0>W?0:63<W?63:W)){var K=W;0<E.wb&&(K=4<E.wb?K>>2:K>>1)>9-E.wb&&(K=9-E.wb),1>K&&(K=1),z.dd=K,z.tc=2*W+K,z.ld=40<=W?2:15<=W?1:0}else z.tc=0;z.La=D}}}S=0}else fn(d,6,"Frame setup failed"),S=d.a;if(S=S==0){if(S){d.$c=0,0<d.Aa||(d.Ic=Ha);e:{S=d.Ic,E=4*(K=d.za);var Q=32*K,_e=K+1,Ue=0<d.L?K*(0<d.Aa?2:1):0,ze=(d.Aa==2?2:1)*K;if((z=E+832+(D=3*(16*S+Wo[d.L])/2*Q)+(B=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=z)S=0;else{if(z>d.Vb){if(d.Vb=0,d.Ec=a(z),d.Fc=0,d.Ec==null){S=fn(d,1,"no memory during frame initialization.");break e}d.Vb=z}z=d.Ec,W=d.Fc,d.Ac=z,d.Bc=W,W+=E,d.Gd=l(Q,ga),d.Hd=0,d.rb=l(_e+1,fa),d.sb=1,d.wa=Ue?l(Ue,Oi):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=K),e(!0),d.oc=z,d.pc=W,W+=832,d.ya=l(ze,Ta),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=K),d.R=16*K,d.B=8*K,K=(Q=Wo[d.L])*d.R,Q=Q/2*d.B,d.sa=z,d.ta=W+K,d.qa=d.sa,d.ra=d.ta+16*S*d.R+Q,d.Ha=d.qa,d.Ia=d.ra+8*S*d.B+Q,d.$c=0,W+=D,d.mb=B?z:null,d.nb=B?W:null,e(W+B<=d.Fc+d.Vb),zi(d),o(d.Ac,d.Bc,0,E),S=1}}if(S){if(m.ka=0,m.y=d.sa,m.O=d.ta,m.f=d.qa,m.N=d.ra,m.ea=d.Ha,m.Vd=d.Ia,m.fa=d.R,m.Rc=d.B,m.F=null,m.J=0,!Na){for(S=-255;255>=S;++S)Lr[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)Gt[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)xn[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)vn[255+S]=0>S?0:255<S?255:S;Na=1}je=Rr,Ie=va,De=Gs,we=Da,Ce=Fa,ne=po,Fe=Js,Pe=gn,Ve=Is,He=Ua,Ke=Ys,Xe=xa,lt=Xs,yt=_a,ut=gs,gt=Ki,kt=bi,ht=vo,Ds[0]=Vi,Ds[1]=go,Ds[2]=hs,Ds[3]=wi,Ds[4]=Wi,Ds[5]=ui,Ds[6]=ya,Ds[7]=wa,Ds[8]=mo,Ds[9]=Ma,Di[0]=yi,Di[1]=ll,Di[2]=pn,Di[3]=$i,Di[4]=rn,Di[5]=ds,Di[6]=zr,Xi[0]=Ti,Xi[1]=Fo,Xi[2]=Ba,Xi[3]=fs,Xi[4]=qa,Xi[5]=Ps,Xi[6]=Mo,S=1}else S=0}S&&(S=function(Te,nt){for(Te.M=0;Te.M<Te.Va;++Te.M){var Ye,Ne=Te.Jc[Te.M&Te.Xb],Ae=Te.m,et=Te;for(Ye=0;Ye<et.za;++Ye){var Ze=Ae,tt=et,Pt=tt.Ac,At=tt.Bc+4*Ye,Jt=tt.zc,jt=tt.ya[tt.aa+Ye];if(tt.Qa.Bb?jt.$b=ge(Ze,tt.Pa.jb[0])?2+ge(Ze,tt.Pa.jb[2]):ge(Ze,tt.Pa.jb[1]):jt.$b=0,tt.kc&&(jt.Ad=ge(Ze,tt.Bd)),jt.Za=!ge(Ze,145)+0,jt.Za){var Dr=jt.Ob,Fr=0;for(tt=0;4>tt;++tt){var Ir,_r=Jt[0+tt];for(Ir=0;4>Ir;++Ir){_r=Gh[Pt[At+Ir]][_r];for(var Kr=cd[ge(Ze,_r[0])];0<Kr;)Kr=cd[2*Kr+ge(Ze,_r[Kr])];_r=-Kr,Pt[At+Ir]=_r}i(Dr,Fr,Pt,At,4),Fr+=4,Jt[0+tt]=_r}}else _r=ge(Ze,156)?ge(Ze,128)?1:3:ge(Ze,163)?2:0,jt.Ob[0]=_r,o(Pt,At,_r,4),o(Jt,0,_r,4);jt.Dd=ge(Ze,142)?ge(Ze,114)?ge(Ze,183)?1:3:2:0}if(et.m.Ka)return fn(Te,7,"Premature end-of-partition0 encountered.");for(;Te.ja<Te.za;++Te.ja){if(et=Ne,Ze=(Ae=Te).rb[Ae.sb-1],Pt=Ae.rb[Ae.sb+Ae.ja],Ye=Ae.ya[Ae.aa+Ae.ja],At=Ae.kc?Ye.Ad:0)Ze.la=Pt.la=0,Ye.Za||(Ze.Na=Pt.Na=0),Ye.Hc=0,Ye.Gc=0,Ye.ia=0;else{var Yr,dr;if(Ze=Pt,Pt=et,At=Ae.Pa.Xc,Jt=Ae.ya[Ae.aa+Ae.ja],jt=Ae.pb[Jt.$b],tt=Jt.ad,Dr=0,Fr=Ae.rb[Ae.sb-1],_r=Ir=0,o(tt,Dr,0,384),Jt.Za)var _n=0,Fi=At[3];else{Kr=a(16);var Ln=Ze.Na+Fr.Na;if(Ln=zo(Pt,At[1],Ln,jt.Eb,0,Kr,0),Ze.Na=Fr.Na=(0<Ln)+0,1<Ln)je(Kr,0,tt,Dr);else{var Hn=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)tt[Dr+Kr]=Hn}_n=1,Fi=At[0]}var $r=15&Ze.la,Si=15&Fr.la;for(Kr=0;4>Kr;++Kr){var Ni=1&Si;for(Hn=dr=0;4>Hn;++Hn)$r=$r>>1|(Ni=(Ln=zo(Pt,Fi,Ln=Ni+(1&$r),jt.Sc,_n,tt,Dr))>_n)<<7,dr=dr<<2|(3<Ln?3:1<Ln?2:tt[Dr+0]!=0),Dr+=16;$r>>=4,Si=Si>>1|Ni<<7,Ir=(Ir<<8|dr)>>>0}for(Fi=$r,_n=Si>>4,Yr=0;4>Yr;Yr+=2){for(dr=0,$r=Ze.la>>4+Yr,Si=Fr.la>>4+Yr,Kr=0;2>Kr;++Kr){for(Ni=1&Si,Hn=0;2>Hn;++Hn)Ln=Ni+(1&$r),$r=$r>>1|(Ni=0<(Ln=zo(Pt,At[2],Ln,jt.Qc,0,tt,Dr)))<<3,dr=dr<<2|(3<Ln?3:1<Ln?2:tt[Dr+0]!=0),Dr+=16;$r>>=2,Si=Si>>1|Ni<<5}_r|=dr<<4*Yr,Fi|=$r<<4<<Yr,_n|=(240&Si)<<Yr}Ze.la=Fi,Fr.la=_n,Jt.Hc=Ir,Jt.Gc=_r,Jt.ia=43690&_r?0:jt.ia,At=!(Ir|_r)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[Ye.$b][Ye.Za],Ae.wa[Ae.Y+Ae.ja].La|=!At),et.Ka)return fn(Te,7,"Premature end-of-file encountered.")}if(zi(Te),Ae=nt,et=1,Ye=(Ne=Te).D,Ze=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(Ye.M=Ne.M,Ye.uc=Ze,bo(Ne,Ye),et=1,Ye=(dr=Ne.D).Nb,Ze=(_r=Wo[Ne.L])*Ne.R,Pt=_r/2*Ne.B,Kr=16*Ye*Ne.R,Hn=8*Ye*Ne.B,At=Ne.sa,Jt=Ne.ta-Ze+Kr,jt=Ne.qa,tt=Ne.ra-Pt+Hn,Dr=Ne.Ha,Fr=Ne.Ia-Pt+Hn,Si=($r=dr.M)==0,Ir=$r>=Ne.Va-1,Ne.Aa==2&&bo(Ne,dr),dr.uc)for(Ni=(Ln=Ne).D.M,e(Ln.D.uc),dr=Ln.yb;dr<Ln.Hb;++dr){_n=dr,Fi=Ni;var kn=(Kn=(Vr=Ln).D).Nb;Yr=Vr.R;var Kn=Kn.wa[Kn.Y+_n],hi=Vr.sa,ts=Vr.ta+16*kn*Yr+16*_n,Fs=Kn.dd,Sn=Kn.tc;if(Sn!=0)if(e(3<=Sn),Vr.L==1)0<_n&&gt(hi,ts,Yr,Sn+4),Kn.La&&ht(hi,ts,Yr,Sn),0<Fi&&ut(hi,ts,Yr,Sn+4),Kn.La&&kt(hi,ts,Yr,Sn);else{var Rn=Vr.B,ws=Vr.qa,Ao=Vr.ra+8*kn*Rn+8*_n,Ka=Vr.Ha,Vr=Vr.Ia+8*kn*Rn+8*_n;kn=Kn.ld,0<_n&&(Pe(hi,ts,Yr,Sn+4,Fs,kn),He(ws,Ao,Ka,Vr,Rn,Sn+4,Fs,kn)),Kn.La&&(Xe(hi,ts,Yr,Sn,Fs,kn),yt(ws,Ao,Ka,Vr,Rn,Sn,Fs,kn)),0<Fi&&(Fe(hi,ts,Yr,Sn+4,Fs,kn),Ve(ws,Ao,Ka,Vr,Rn,Sn+4,Fs,kn)),Kn.La&&(Ke(hi,ts,Yr,Sn,Fs,kn),lt(ws,Ao,Ka,Vr,Rn,Sn,Fs,kn))}}if(Ne.ia&&alert("todo:DitherRow"),Ae.put!=null){if(dr=16*$r,$r=16*($r+1),Si?(Ae.y=Ne.sa,Ae.O=Ne.ta+Kr,Ae.f=Ne.qa,Ae.N=Ne.ra+Hn,Ae.ea=Ne.Ha,Ae.W=Ne.Ia+Hn):(dr-=_r,Ae.y=At,Ae.O=Jt,Ae.f=jt,Ae.N=tt,Ae.ea=Dr,Ae.W=Fr),Ir||($r-=_r),$r>Ae.o&&($r=Ae.o),Ae.F=null,Ae.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&dr<$r&&(Ae.J=za(Ne,Ae,dr,$r-dr),Ae.F=Ne.mb,Ae.F==null&&Ae.F.length==0)){et=fn(Ne,3,"Could not decode alpha data.");break e}dr<Ae.j&&(_r=Ae.j-dr,dr=Ae.j,e(!(1&_r)),Ae.O+=Ne.R*_r,Ae.N+=Ne.B*(_r>>1),Ae.W+=Ne.B*(_r>>1),Ae.F!=null&&(Ae.J+=Ae.width*_r)),dr<$r&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=dr-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=$r-dr,et=Ae.put(Ae))}Ye+1!=Ne.Ic||Ir||(i(Ne.sa,Ne.ta-Ze,At,Jt+16*Ne.R,Ze),i(Ne.qa,Ne.ra-Pt,jt,tt+8*Ne.B,Pt),i(Ne.Ha,Ne.Ia-Pt,Dr,Fr+8*Ne.B,Pt))}if(!et)return fn(Te,6,"Output aborted.")}return 1}(d,m)),m.bc!=null&&m.bc(m),S&=1}return S?(d.cb=0,S):0}function Cn(d,m,S,E,D){D=d[m+S+32*E]+(D>>3),d[m+S+32*E]=-256&D?0>D?0:255:D}function ma(d,m,S,E,D,B){Cn(d,m,0,S,E+D),Cn(d,m,1,S,E+B),Cn(d,m,2,S,E-B),Cn(d,m,3,S,E-D)}function ri(d){return(20091*d>>16)+d}function Cs(d,m,S,E){var D,B=0,z=a(16);for(D=0;4>D;++D){var W=d[m+0]+d[m+8],K=d[m+0]-d[m+8],Q=(35468*d[m+4]>>16)-ri(d[m+12]),_e=ri(d[m+4])+(35468*d[m+12]>>16);z[B+0]=W+_e,z[B+1]=K+Q,z[B+2]=K-Q,z[B+3]=W-_e,B+=4,m++}for(D=B=0;4>D;++D)W=(d=z[B+0]+4)+z[B+8],K=d-z[B+8],Q=(35468*z[B+4]>>16)-ri(z[B+12]),Cn(S,E,0,0,W+(_e=ri(z[B+4])+(35468*z[B+12]>>16))),Cn(S,E,1,0,K+Q),Cn(S,E,2,0,K-Q),Cn(S,E,3,0,W-_e),B++,E+=32}function po(d,m,S,E){var D=d[m+0]+4,B=35468*d[m+4]>>16,z=ri(d[m+4]),W=35468*d[m+1]>>16;ma(S,E,0,D+z,d=ri(d[m+1]),W),ma(S,E,1,D+B,d,W),ma(S,E,2,D-B,d,W),ma(S,E,3,D-z,d,W)}function va(d,m,S,E,D){Cs(d,m,S,E),D&&Cs(d,m+16,S,E+4)}function Gs(d,m,S,E){Ie(d,m+0,S,E,1),Ie(d,m+32,S,E+128,1)}function Da(d,m,S,E){var D;for(d=d[m+0]+4,D=0;4>D;++D)for(m=0;4>m;++m)Cn(S,E,m,D,d)}function Fa(d,m,S,E){d[m+0]&&we(d,m+0,S,E),d[m+16]&&we(d,m+16,S,E+4),d[m+32]&&we(d,m+32,S,E+128),d[m+48]&&we(d,m+48,S,E+128+4)}function Rr(d,m,S,E){var D,B=a(16);for(D=0;4>D;++D){var z=d[m+0+D]+d[m+12+D],W=d[m+4+D]+d[m+8+D],K=d[m+4+D]-d[m+8+D],Q=d[m+0+D]-d[m+12+D];B[0+D]=z+W,B[8+D]=z-W,B[4+D]=Q+K,B[12+D]=Q-K}for(D=0;4>D;++D)z=(d=B[0+4*D]+3)+B[3+4*D],W=B[1+4*D]+B[2+4*D],K=B[1+4*D]-B[2+4*D],Q=d-B[3+4*D],S[E+0]=z+W>>3,S[E+16]=Q+K>>3,S[E+32]=z-W>>3,S[E+48]=Q-K>>3,E+=64}function Nr(d,m,S){var E,D=m-32,B=Wn,z=255-d[D-1];for(E=0;E<S;++E){var W,K=B,Q=z+d[m-1];for(W=0;W<S;++W)d[m+W]=K[Q+d[D+W]];m+=32}}function go(d,m){Nr(d,m,4)}function Fo(d,m){Nr(d,m,8)}function ll(d,m){Nr(d,m,16)}function pn(d,m){var S;for(S=0;16>S;++S)i(d,m+32*S,d,m-32,16)}function $i(d,m){var S;for(S=16;0<S;--S)o(d,m,d[m-1],16),m+=32}function cs(d,m,S){var E;for(E=0;16>E;++E)o(m,S+32*E,d,16)}function yi(d,m){var S,E=16;for(S=0;16>S;++S)E+=d[m-1+32*S]+d[m+S-32];cs(E>>5,d,m)}function rn(d,m){var S,E=8;for(S=0;16>S;++S)E+=d[m-1+32*S];cs(E>>4,d,m)}function ds(d,m){var S,E=8;for(S=0;16>S;++S)E+=d[m+S-32];cs(E>>4,d,m)}function zr(d,m){cs(128,d,m)}function $t(d,m,S){return d+2*m+S+2>>2}function hs(d,m){var S,E=m-32;for(E=new Uint8Array([$t(d[E-1],d[E+0],d[E+1]),$t(d[E+0],d[E+1],d[E+2]),$t(d[E+1],d[E+2],d[E+3]),$t(d[E+2],d[E+3],d[E+4])]),S=0;4>S;++S)i(d,m+32*S,E,0,E.length)}function wi(d,m){var S=d[m-1],E=d[m-1+32],D=d[m-1+64],B=d[m-1+96];rt(d,m+0,16843009*$t(d[m-1-32],S,E)),rt(d,m+32,16843009*$t(S,E,D)),rt(d,m+64,16843009*$t(E,D,B)),rt(d,m+96,16843009*$t(D,B,B))}function Vi(d,m){var S,E=4;for(S=0;4>S;++S)E+=d[m+S-32]+d[m-1+32*S];for(E>>=3,S=0;4>S;++S)o(d,m+32*S,E,4)}function Wi(d,m){var S=d[m-1+0],E=d[m-1+32],D=d[m-1+64],B=d[m-1-32],z=d[m+0-32],W=d[m+1-32],K=d[m+2-32],Q=d[m+3-32];d[m+0+96]=$t(E,D,d[m-1+96]),d[m+1+96]=d[m+0+64]=$t(S,E,D),d[m+2+96]=d[m+1+64]=d[m+0+32]=$t(B,S,E),d[m+3+96]=d[m+2+64]=d[m+1+32]=d[m+0+0]=$t(z,B,S),d[m+3+64]=d[m+2+32]=d[m+1+0]=$t(W,z,B),d[m+3+32]=d[m+2+0]=$t(K,W,z),d[m+3+0]=$t(Q,K,W)}function ya(d,m){var S=d[m+1-32],E=d[m+2-32],D=d[m+3-32],B=d[m+4-32],z=d[m+5-32],W=d[m+6-32],K=d[m+7-32];d[m+0+0]=$t(d[m+0-32],S,E),d[m+1+0]=d[m+0+32]=$t(S,E,D),d[m+2+0]=d[m+1+32]=d[m+0+64]=$t(E,D,B),d[m+3+0]=d[m+2+32]=d[m+1+64]=d[m+0+96]=$t(D,B,z),d[m+3+32]=d[m+2+64]=d[m+1+96]=$t(B,z,W),d[m+3+64]=d[m+2+96]=$t(z,W,K),d[m+3+96]=$t(W,K,K)}function ui(d,m){var S=d[m-1+0],E=d[m-1+32],D=d[m-1+64],B=d[m-1-32],z=d[m+0-32],W=d[m+1-32],K=d[m+2-32],Q=d[m+3-32];d[m+0+0]=d[m+1+64]=B+z+1>>1,d[m+1+0]=d[m+2+64]=z+W+1>>1,d[m+2+0]=d[m+3+64]=W+K+1>>1,d[m+3+0]=K+Q+1>>1,d[m+0+96]=$t(D,E,S),d[m+0+64]=$t(E,S,B),d[m+0+32]=d[m+1+96]=$t(S,B,z),d[m+1+32]=d[m+2+96]=$t(B,z,W),d[m+2+32]=d[m+3+96]=$t(z,W,K),d[m+3+32]=$t(W,K,Q)}function wa(d,m){var S=d[m+0-32],E=d[m+1-32],D=d[m+2-32],B=d[m+3-32],z=d[m+4-32],W=d[m+5-32],K=d[m+6-32],Q=d[m+7-32];d[m+0+0]=S+E+1>>1,d[m+1+0]=d[m+0+64]=E+D+1>>1,d[m+2+0]=d[m+1+64]=D+B+1>>1,d[m+3+0]=d[m+2+64]=B+z+1>>1,d[m+0+32]=$t(S,E,D),d[m+1+32]=d[m+0+96]=$t(E,D,B),d[m+2+32]=d[m+1+96]=$t(D,B,z),d[m+3+32]=d[m+2+96]=$t(B,z,W),d[m+3+64]=$t(z,W,K),d[m+3+96]=$t(W,K,Q)}function Ma(d,m){var S=d[m-1+0],E=d[m-1+32],D=d[m-1+64],B=d[m-1+96];d[m+0+0]=S+E+1>>1,d[m+2+0]=d[m+0+32]=E+D+1>>1,d[m+2+32]=d[m+0+64]=D+B+1>>1,d[m+1+0]=$t(S,E,D),d[m+3+0]=d[m+1+32]=$t(E,D,B),d[m+3+32]=d[m+1+64]=$t(D,B,B),d[m+3+64]=d[m+2+64]=d[m+0+96]=d[m+1+96]=d[m+2+96]=d[m+3+96]=B}function mo(d,m){var S=d[m-1+0],E=d[m-1+32],D=d[m-1+64],B=d[m-1+96],z=d[m-1-32],W=d[m+0-32],K=d[m+1-32],Q=d[m+2-32];d[m+0+0]=d[m+2+32]=S+z+1>>1,d[m+0+32]=d[m+2+64]=E+S+1>>1,d[m+0+64]=d[m+2+96]=D+E+1>>1,d[m+0+96]=B+D+1>>1,d[m+3+0]=$t(W,K,Q),d[m+2+0]=$t(z,W,K),d[m+1+0]=d[m+3+32]=$t(S,z,W),d[m+1+32]=d[m+3+64]=$t(E,S,z),d[m+1+64]=d[m+3+96]=$t(D,E,S),d[m+1+96]=$t(B,D,E)}function Ba(d,m){var S;for(S=0;8>S;++S)i(d,m+32*S,d,m-32,8)}function fs(d,m){var S;for(S=0;8>S;++S)o(d,m,d[m-1],8),m+=32}function Hi(d,m,S){var E;for(E=0;8>E;++E)o(m,S+32*E,d,8)}function Ti(d,m){var S,E=8;for(S=0;8>S;++S)E+=d[m+S-32]+d[m-1+32*S];Hi(E>>4,d,m)}function Ps(d,m){var S,E=4;for(S=0;8>S;++S)E+=d[m+S-32];Hi(E>>3,d,m)}function qa(d,m){var S,E=4;for(S=0;8>S;++S)E+=d[m-1+32*S];Hi(E>>3,d,m)}function Mo(d,m){Hi(128,d,m)}function ps(d,m,S){var E=d[m-S],D=d[m+0],B=3*(D-E)+nn[1020+d[m-2*S]-d[m+S]],z=Yi[112+(B+4>>3)];d[m-S]=Wn[255+E+Yi[112+(B+3>>3)]],d[m+0]=Wn[255+D-z]}function Ls(d,m,S,E){var D=d[m+0],B=d[m+S];return Rs[255+d[m-2*S]-d[m-S]]>E||Rs[255+B-D]>E}function ba(d,m,S,E){return 4*Rs[255+d[m-S]-d[m+0]]+Rs[255+d[m-2*S]-d[m+S]]<=E}function Bo(d,m,S,E,D){var B=d[m-3*S],z=d[m-2*S],W=d[m-S],K=d[m+0],Q=d[m+S],_e=d[m+2*S],Ue=d[m+3*S];return 4*Rs[255+W-K]+Rs[255+z-Q]>E?0:Rs[255+d[m-4*S]-B]<=D&&Rs[255+B-z]<=D&&Rs[255+z-W]<=D&&Rs[255+Ue-_e]<=D&&Rs[255+_e-Q]<=D&&Rs[255+Q-K]<=D}function gs(d,m,S,E){var D=2*E+1;for(E=0;16>E;++E)ba(d,m+E,S,D)&&ps(d,m+E,S)}function Ki(d,m,S,E){var D=2*E+1;for(E=0;16>E;++E)ba(d,m+E*S,1,D)&&ps(d,m+E*S,1)}function bi(d,m,S,E){var D;for(D=3;0<D;--D)gs(d,m+=4*S,S,E)}function vo(d,m,S,E){var D;for(D=3;0<D;--D)Ki(d,m+=4,S,E)}function Gi(d,m,S,E,D,B,z,W){for(B=2*B+1;0<D--;){if(Bo(d,m,S,B,z))if(Ls(d,m,S,W))ps(d,m,S);else{var K=d,Q=m,_e=S,Ue=K[Q-2*_e],ze=K[Q-_e],Te=K[Q+0],nt=K[Q+_e],Ye=K[Q+2*_e],Ne=27*(et=nn[1020+3*(Te-ze)+nn[1020+Ue-nt]])+63>>7,Ae=18*et+63>>7,et=9*et+63>>7;K[Q-3*_e]=Wn[255+K[Q-3*_e]+et],K[Q-2*_e]=Wn[255+Ue+Ae],K[Q-_e]=Wn[255+ze+Ne],K[Q+0]=Wn[255+Te-Ne],K[Q+_e]=Wn[255+nt-Ae],K[Q+2*_e]=Wn[255+Ye-et]}m+=E}}function zn(d,m,S,E,D,B,z,W){for(B=2*B+1;0<D--;){if(Bo(d,m,S,B,z))if(Ls(d,m,S,W))ps(d,m,S);else{var K=d,Q=m,_e=S,Ue=K[Q-_e],ze=K[Q+0],Te=K[Q+_e],nt=Yi[112+((Ye=3*(ze-Ue))+4>>3)],Ye=Yi[112+(Ye+3>>3)],Ne=nt+1>>1;K[Q-2*_e]=Wn[255+K[Q-2*_e]+Ne],K[Q-_e]=Wn[255+Ue+Ye],K[Q+0]=Wn[255+ze-nt],K[Q+_e]=Wn[255+Te-Ne]}m+=E}}function Js(d,m,S,E,D,B){Gi(d,m,S,1,16,E,D,B)}function gn(d,m,S,E,D,B){Gi(d,m,1,S,16,E,D,B)}function Ys(d,m,S,E,D,B){var z;for(z=3;0<z;--z)zn(d,m+=4*S,S,1,16,E,D,B)}function xa(d,m,S,E,D,B){var z;for(z=3;0<z;--z)zn(d,m+=4,1,S,16,E,D,B)}function Is(d,m,S,E,D,B,z,W){Gi(d,m,D,1,8,B,z,W),Gi(S,E,D,1,8,B,z,W)}function Ua(d,m,S,E,D,B,z,W){Gi(d,m,1,D,8,B,z,W),Gi(S,E,1,D,8,B,z,W)}function Xs(d,m,S,E,D,B,z,W){zn(d,m+4*D,D,1,8,B,z,W),zn(S,E+4*D,D,1,8,B,z,W)}function _a(d,m,S,E,D,B,z,W){zn(d,m+4,1,D,8,B,z,W),zn(S,E+4,1,D,8,B,z,W)}function Ji(){this.ba=new An,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function an(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Os(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ka(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new Y}function ul(){this.xb=this.a=0,this.l=new Ra,this.ca=new An,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ka,this.ab=0,this.gc=l(4,Os),this.Oc=0}function Qs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ra,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ts(d,m,S,E,D,B,z){for(d=d==null?0:d[m+0],m=0;m<z;++m)D[B+m]=d+S[E+m]&255,d=D[B+m]}function yo(d,m,S,E,D,B,z){var W;if(d==null)Ts(null,null,S,E,D,B,z);else for(W=0;W<z;++W)D[B+W]=d[m+W]+S[E+W]&255}function ms(d,m,S,E,D,B,z){if(d==null)Ts(null,null,S,E,D,B,z);else{var W,K=d[m+0],Q=K,_e=K;for(W=0;W<z;++W)Q=_e+(K=d[m+W])-Q,_e=S[E+W]+(-256&Q?0>Q?0:255:Q)&255,Q=K,D[B+W]=_e}}function za(d,m,S,E){var D=m.width,B=m.o;if(e(d!=null&&m!=null),0>S||0>=E||S+E>B)return null;if(!d.Cc){if(d.ga==null){var z;if(d.ga=new Qs,(z=d.ga==null)||(z=m.width*m.o,e(d.Gb.length==0),d.Gb=a(z),d.Uc=0,d.Gb==null?z=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,z=1),z=!z),!z){z=d.ga;var W=d.Fa,K=d.P,Q=d.qc,_e=d.mb,Ue=d.nb,ze=K+1,Te=Q-1,nt=z.l;if(e(W!=null&&_e!=null&&m!=null),ki[0]=null,ki[1]=Ts,ki[2]=yo,ki[3]=ms,z.ca=_e,z.tb=Ue,z.c=m.width,z.i=m.height,e(0<z.c&&0<z.i),1>=Q)m=0;else if(z.$a=W[K+0]>>0&3,z.Z=W[K+0]>>2&3,z.Lc=W[K+0]>>4&3,K=W[K+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||K)m=0;else if(nt.put=qr,nt.ac=Cr,nt.bc=sn,nt.ma=z,nt.width=m.width,nt.height=m.height,nt.Da=m.Da,nt.v=m.v,nt.va=m.va,nt.j=m.j,nt.o=m.o,z.$a)e:{e(z.$a==1),m=Li();t:for(;;){if(m==null){m=0;break e}if(e(z!=null),z.mc=m,m.c=z.c,m.i=z.i,m.l=z.l,m.l.ma=z,m.l.width=z.c,m.l.height=z.i,m.a=0,te(m.m,W,ze,Te),!Un(z.c,z.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Pi(m.s)?(z.ic=1,W=m.c*m.i,m.Ta=null,m.Ua=0,m.V=a(W),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(z.ic=0,m=Hs(m,z.c)),!m))break t;m=1;break e}z.mc=null,m=0}else m=Te>=z.c*z.i;z=!m}if(z)return null;d.ga.Lc!=1?d.Ga=0:E=B-S}e(d.ga!=null),e(S+E<=B);e:{if(m=(W=d.ga).c,B=W.l.o,W.$a==0){if(ze=d.rc,Te=d.Vc,nt=d.Fa,K=d.P+1+S*m,Q=d.mb,_e=d.nb+S*m,e(K<=d.P+d.qc),W.Z!=0)for(e(ki[W.Z]!=null),z=0;z<E;++z)ki[W.Z](ze,Te,nt,K,Q,_e,m),ze=Q,Te=_e,_e+=m,K+=m;else for(z=0;z<E;++z)i(Q,_e,nt,K,m),ze=Q,Te=_e,_e+=m,K+=m;d.rc=ze,d.Vc=Te}else{if(e(W.mc!=null),m=S+E,e((z=W.mc)!=null),e(m<=z.i),z.C>=m)m=1;else if(W.ic||Me(),W.ic){W=z.V,ze=z.Ba,Te=z.c;var Ye=z.i,Ne=(nt=1,K=z.$/Te,Q=z.$%Te,_e=z.m,Ue=z.s,z.$),Ae=Te*Ye,et=Te*m,Ze=Ue.wc,tt=Ne<et?Pr(Ue,Q,K):null;e(Ne<=Ae),e(m<=Ye),e(Pi(Ue));t:for(;;){for(;!_e.h&&Ne<et;){if(Q&Ze||(tt=Pr(Ue,Q,K)),e(tt!=null),de(_e),256>(Ye=vr(tt.G[0],tt.H[0],_e)))W[ze+Ne]=Ye,++Ne,++Q>=Te&&(Q=0,++K<=m&&!(K%16)&&ti(z,K));else{if(!(280>Ye)){nt=0;break t}Ye=Qr(Ye-256,_e);var Pt,At=vr(tt.G[4],tt.H[4],_e);if(de(_e),!(Ne>=(At=er(Te,At=Qr(At,_e)))&&Ae-Ne>=Ye)){nt=0;break t}for(Pt=0;Pt<Ye;++Pt)W[ze+Ne+Pt]=W[ze+Ne+Pt-At];for(Ne+=Ye,Q+=Ye;Q>=Te;)Q-=Te,++K<=m&&!(K%16)&&ti(z,K);Ne<et&&Q&Ze&&(tt=Pr(Ue,Q,K))}e(_e.h==X(_e))}ti(z,K>m?m:K);break t}!nt||_e.h&&Ne<Ae?(nt=0,z.a=_e.h?5:3):z.$=Ne,m=nt}else m=tn(z,z.V,z.Ba,z.c,z.i,m,Ii);if(!m){E=0;break e}}S+E>=B&&(d.Cc=1),E=1}if(!E)return null;if(d.Cc&&((E=d.ga)!=null&&(E.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+S*D}function x(d,m,S,E,D,B){for(;0<D--;){var z,W=d,K=m+(S?1:0),Q=d,_e=m+(S?0:3);for(z=0;z<E;++z){var Ue=Q[_e+4*z];Ue!=255&&(Ue*=32897,W[K+4*z+0]=W[K+4*z+0]*Ue>>23,W[K+4*z+1]=W[K+4*z+1]*Ue>>23,W[K+4*z+2]=W[K+4*z+2]*Ue>>23)}m+=B}}function F(d,m,S,E,D){for(;0<E--;){var B;for(B=0;B<S;++B){var z=d[m+2*B+0],W=15&(Q=d[m+2*B+1]),K=4369*W,Q=(240&Q|Q>>4)*K>>16;d[m+2*B+0]=(240&z|z>>4)*K>>16&240|(15&z|z<<4)*K>>16>>4&15,d[m+2*B+1]=240&Q|W}m+=D}}function ee(d,m,S,E,D,B,z,W){var K,Q,_e=255;for(Q=0;Q<D;++Q){for(K=0;K<E;++K){var Ue=d[m+K];B[z+4*K]=Ue,_e&=Ue}m+=S,z+=W}return _e!=255}function ve(d,m,S,E,D){var B;for(B=0;B<D;++B)S[E+B]=d[m+B]>>8}function Me(){Nt=x,Lt=F,It=ee,Ut=ve}function Qe(d,m,S){G[d]=function(E,D,B,z,W,K,Q,_e,Ue,ze,Te,nt,Ye,Ne,Ae,et,Ze){var tt,Pt=Ze-1>>1,At=W[K+0]|Q[_e+0]<<16,Jt=Ue[ze+0]|Te[nt+0]<<16;e(E!=null);var jt=3*At+Jt+131074>>2;for(m(E[D+0],255&jt,jt>>16,Ye,Ne),B!=null&&(jt=3*Jt+At+131074>>2,m(B[z+0],255&jt,jt>>16,Ae,et)),tt=1;tt<=Pt;++tt){var Dr=W[K+tt]|Q[_e+tt]<<16,Fr=Ue[ze+tt]|Te[nt+tt]<<16,Ir=At+Dr+Jt+Fr+524296,_r=Ir+2*(Dr+Jt)>>3;jt=_r+At>>1,At=(Ir=Ir+2*(At+Fr)>>3)+Dr>>1,m(E[D+2*tt-1],255&jt,jt>>16,Ye,Ne+(2*tt-1)*S),m(E[D+2*tt-0],255&At,At>>16,Ye,Ne+(2*tt-0)*S),B!=null&&(jt=Ir+Jt>>1,At=_r+Fr>>1,m(B[z+2*tt-1],255&jt,jt>>16,Ae,et+(2*tt-1)*S),m(B[z+2*tt+0],255&At,At>>16,Ae,et+(2*tt+0)*S)),At=Dr,Jt=Fr}1&Ze||(jt=3*At+Jt+131074>>2,m(E[D+Ze-1],255&jt,jt>>16,Ye,Ne+(Ze-1)*S),B!=null&&(jt=3*Jt+At+131074>>2,m(B[z+Ze-1],255&jt,jt>>16,Ae,et+(Ze-1)*S)))}}function at(){Qi[fu]=Yh,Qi[ko]=So,Qi[od]=Xh,Qi[ql]=fl,Qi[Ul]=$o,Qi[Zr]=Hl,Qi[pu]=uc,Qi[cl]=So,Qi[qo]=fl,Qi[zl]=$o,Qi[$l]=Hl}function Et(d){return d&-16384?0>d?0:255:d>>No}function Vt(d,m){return Et((19077*d>>8)+(26149*m>>8)-14234)}function hr(d,m,S){return Et((19077*d>>8)-(6419*m>>8)-(13320*S>>8)+8708)}function ar(d,m){return Et((19077*d>>8)+(33050*m>>8)-17685)}function Ar(d,m,S,E,D){E[D+0]=Vt(d,S),E[D+1]=hr(d,m,S),E[D+2]=ar(d,m)}function on(d,m,S,E,D){E[D+0]=ar(d,m),E[D+1]=hr(d,m,S),E[D+2]=Vt(d,S)}function ln(d,m,S,E,D){var B=hr(d,m,S);m=B<<3&224|ar(d,m)>>3,E[D+0]=248&Vt(d,S)|B>>5,E[D+1]=m}function jn(d,m,S,E,D){var B=240&ar(d,m)|15;E[D+0]=240&Vt(d,S)|hr(d,m,S)>>4,E[D+1]=B}function $n(d,m,S,E,D){E[D+0]=255,Ar(d,m,S,E,D+1)}function Pn(d,m,S,E,D){on(d,m,S,E,D),E[D+3]=255}function vs(d,m,S,E,D){Ar(d,m,S,E,D),E[D+3]=255}function xi(d,m){return 0>d?0:d>m?m:d}function _i(d,m,S){G[d]=function(E,D,B,z,W,K,Q,_e,Ue){for(var ze=_e+(-2&Ue)*S;_e!=ze;)m(E[D+0],B[z+0],W[K+0],Q,_e),m(E[D+1],B[z+0],W[K+0],Q,_e+S),D+=2,++z,++K,_e+=2*S;1&Ue&&m(E[D+0],B[z+0],W[K+0],Q,_e)}}function Zs(d,m,S){return S==0?d==0?m==0?6:5:m==0?4:0:S}function wo(d,m,S,E,D){switch(d>>>30){case 3:Ie(m,S,E,D,0);break;case 2:ne(m,S,E,D);break;case 1:we(m,S,E,D)}}function bo(d,m){var S,E,D=m.M,B=m.Nb,z=d.oc,W=d.pc+40,K=d.oc,Q=d.pc+584,_e=d.oc,Ue=d.pc+600;for(S=0;16>S;++S)z[W+32*S-1]=129;for(S=0;8>S;++S)K[Q+32*S-1]=129,_e[Ue+32*S-1]=129;for(0<D?z[W-1-32]=K[Q-1-32]=_e[Ue-1-32]=129:(o(z,W-32-1,127,21),o(K,Q-32-1,127,9),o(_e,Ue-32-1,127,9)),E=0;E<d.za;++E){var ze=m.ya[m.aa+E];if(0<E){for(S=-1;16>S;++S)i(z,W+32*S-4,z,W+32*S+12,4);for(S=-1;8>S;++S)i(K,Q+32*S-4,K,Q+32*S+4,4),i(_e,Ue+32*S-4,_e,Ue+32*S+4,4)}var Te=d.Gd,nt=d.Hd+E,Ye=ze.ad,Ne=ze.Hc;if(0<D&&(i(z,W-32,Te[nt].y,0,16),i(K,Q-32,Te[nt].f,0,8),i(_e,Ue-32,Te[nt].ea,0,8)),ze.Za){var Ae=z,et=W-32+16;for(0<D&&(E>=d.za-1?o(Ae,et,Te[nt].y[15],4):i(Ae,et,Te[nt+1].y,0,4)),S=0;4>S;S++)Ae[et+128+S]=Ae[et+256+S]=Ae[et+384+S]=Ae[et+0+S];for(S=0;16>S;++S,Ne<<=2)Ae=z,et=W+cc[S],Ds[ze.Ob[S]](Ae,et),wo(Ne,Ye,16*+S,Ae,et)}else if(Ae=Zs(E,D,ze.Ob[0]),Di[Ae](z,W),Ne!=0)for(S=0;16>S;++S,Ne<<=2)wo(Ne,Ye,16*+S,z,W+cc[S]);for(S=ze.Gc,Ae=Zs(E,D,ze.Dd),Xi[Ae](K,Q),Xi[Ae](_e,Ue),Ne=Ye,Ae=K,et=Q,255&(ze=S>>0)&&(170&ze?De(Ne,256,Ae,et):Ce(Ne,256,Ae,et)),ze=_e,Ne=Ue,255&(S>>=8)&&(170&S?De(Ye,320,ze,Ne):Ce(Ye,320,ze,Ne)),D<d.Ub-1&&(i(Te[nt].y,0,z,W+480,16),i(Te[nt].f,0,K,Q+224,8),i(Te[nt].ea,0,_e,Ue+224,8)),S=8*B*d.B,Te=d.sa,nt=d.ta+16*E+16*B*d.R,Ye=d.qa,ze=d.ra+8*E+S,Ne=d.Ha,Ae=d.Ia+8*E+S,S=0;16>S;++S)i(Te,nt+S*d.R,z,W+32*S,16);for(S=0;8>S;++S)i(Ye,ze+S*d.B,K,Q+32*S,8),i(Ne,Ae+S*d.B,_e,Ue+32*S,8)}}function $a(d,m,S,E,D,B,z,W,K){var Q=[0],_e=[0],Ue=0,ze=K!=null?K.kd:0,Te=K??new an;if(d==null||12>S)return 7;Te.data=d,Te.w=m,Te.ha=S,m=[m],S=[S],Te.gb=[Te.gb];e:{var nt=m,Ye=S,Ne=Te.gb;if(e(d!=null),e(Ye!=null),e(Ne!=null),Ne[0]=0,12<=Ye[0]&&!r(d,nt[0],"RIFF")){if(r(d,nt[0]+8,"WEBP")){Ne=3;break e}var Ae=bt(d,nt[0]+4);if(12>Ae||4294967286<Ae){Ne=3;break e}if(ze&&Ae>Ye[0]-8){Ne=7;break e}Ne[0]=Ae,nt[0]+=12,Ye[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ae=0<Te.gb[0],S=S[0];;){e:{var et=d;Ye=m,Ne=S;var Ze=Q,tt=_e,Pt=nt=[0];if((jt=Ue=[Ue])[0]=0,8>Ne[0])Ne=7;else{if(!r(et,Ye[0],"VP8X")){if(bt(et,Ye[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var At=bt(et,Ye[0]+8),Jt=1+it(et,Ye[0]+12);if(2147483648<=Jt*(et=1+it(et,Ye[0]+15))){Ne=3;break e}Pt!=null&&(Pt[0]=At),Ze!=null&&(Ze[0]=Jt),tt!=null&&(tt[0]=et),Ye[0]+=18,Ne[0]-=18,jt[0]=1}Ne=0}}if(Ue=Ue[0],nt=nt[0],Ne!=0)return Ne;if(Ye=!!(2&nt),!Ae&&Ue)return 3;if(B!=null&&(B[0]=!!(16&nt)),z!=null&&(z[0]=Ye),W!=null&&(W[0]=0),z=Q[0],nt=_e[0],Ue&&Ye&&K==null){Ne=0;break}if(4>S){Ne=7;break}if(Ae&&Ue||!Ae&&!Ue&&!r(d,m[0],"ALPH")){S=[S],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{At=d,Ne=m,Ae=S;var jt=Te.gb;Ze=Te.na,tt=Te.P,Pt=Te.Sa,Jt=22,e(At!=null),e(Ae!=null),et=Ne[0];var Dr=Ae[0];for(e(Ze!=null),e(Pt!=null),Ze[0]=null,tt[0]=null,Pt[0]=0;;){if(Ne[0]=et,Ae[0]=Dr,8>Dr){Ne=7;break e}var Fr=bt(At,et+4);if(4294967286<Fr){Ne=3;break e}var Ir=8+Fr+1&-2;if(Jt+=Ir,0<jt&&Jt>jt){Ne=3;break e}if(!r(At,et,"VP8 ")||!r(At,et,"VP8L")){Ne=0;break e}if(Dr[0]<Ir){Ne=7;break e}r(At,et,"ALPH")||(Ze[0]=At,tt[0]=et+8,Pt[0]=Fr),et+=Ir,Dr-=Ir}}if(S=S[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Ne!=0)break}S=[S],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(jt=d,Ne=m,Ae=S,Ze=Te.gb[0],tt=Te.Ja,Pt=Te.xa,At=Ne[0],et=!r(jt,At,"VP8 "),Jt=!r(jt,At,"VP8L"),e(jt!=null),e(Ae!=null),e(tt!=null),e(Pt!=null),8>Ae[0])Ne=7;else{if(et||Jt){if(jt=bt(jt,At+4),12<=Ze&&jt>Ze-12){Ne=3;break e}if(ze&&jt>Ae[0]-8){Ne=7;break e}tt[0]=jt,Ne[0]+=8,Ae[0]-=8,Pt[0]=Jt}else Pt[0]=5<=Ae[0]&&jt[At+0]==47&&!(jt[At+4]>>5),tt[0]=Ae[0];Ne=0}if(S=S[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],m=m[0],Ne!=0)break;if(4294967286<Te.Ja)return 3;if(W==null||Ye||(W[0]=Te.xa?2:1),z=[z],nt=[nt],Te.xa){if(5>S){Ne=7;break}W=z,ze=nt,Ye=B,d==null||5>S?d=0:5<=S&&d[m+0]==47&&!(d[m+4]>>5)?(Ae=[0],jt=[0],Ze=[0],te(tt=new I,d,m,S),Ct(tt,Ae,jt,Ze)?(W!=null&&(W[0]=Ae[0]),ze!=null&&(ze[0]=jt[0]),Ye!=null&&(Ye[0]=Ze[0]),d=1):d=0):d=0}else{if(10>S){Ne=7;break}W=nt,d==null||10>S||!Ro(d,m+3,S-3)?d=0:(ze=d[m+0]|d[m+1]<<8|d[m+2]<<16,Ye=16383&(d[m+7]<<8|d[m+6]),d=16383&(d[m+9]<<8|d[m+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=Te.Ja||!Ye||!d?d=0:(z&&(z[0]=Ye),W&&(W[0]=d),d=1))}if(!d||(z=z[0],nt=nt[0],Ue&&(Q[0]!=z||_e[0]!=nt)))return 3;K!=null&&(K[0]=Te,K.offset=m-K.w,e(4294967286>m-K.w),e(K.offset==K.ha-S));break}return Ne==0||Ne==7&&Ue&&K==null?(B!=null&&(B[0]|=Te.na!=null&&0<Te.na.length),E!=null&&(E[0]=z),D!=null&&(D[0]=nt),0):Ne}function xo(d,m,S){var E=m.width,D=m.height,B=0,z=0,W=E,K=D;if(m.Da=d!=null&&0<d.Da,m.Da&&(W=d.cd,K=d.bd,B=d.v,z=d.j,11>S||(B&=-2,z&=-2),0>B||0>z||0>=W||0>=K||B+W>E||z+K>D))return 0;if(m.v=B,m.j=z,m.va=B+W,m.o=z+K,m.U=W,m.T=K,m.da=d!=null&&0<d.da,m.da){if(!Xt(W,K,S=[d.ib],B=[d.hb]))return 0;m.ib=S[0],m.hb=B[0]}return m.ob=d!=null&&d.ob,m.Kb=d==null||!d.Sd,m.da&&(m.ob=m.ib<3*E/4&&m.hb<3*D/4,m.Kb=0),1}function ea(d){if(d==null)return 2;if(11>d.S){var m=d.f.RGBA;m.fb+=(d.height-1)*m.A,m.A=-m.A}else m=d.f.kb,d=d.height,m.O+=(d-1)*m.fa,m.fa=-m.fa,m.N+=(d-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(d-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(d-1)*m.lb,m.lb=-m.lb);return 0}function ci(d,m,S,E){if(E==null||0>=d||0>=m)return 2;if(S!=null){if(S.Da){var D=S.cd,B=S.bd,z=-2&S.v,W=-2&S.j;if(0>z||0>W||0>=D||0>=B||z+D>d||W+B>m)return 2;d=D,m=B}if(S.da){if(!Xt(d,m,D=[S.ib],B=[S.hb]))return 2;d=D[0],m=B[0]}}E.width=d,E.height=m;e:{var K=E.width,Q=E.height;if(d=E.S,0>=K||0>=Q||!(d>=fu&&13>d))d=2;else{if(0>=E.Rd&&E.sd==null){z=B=D=m=0;var _e=(W=K*Kl[d])*Q;if(11>d||(B=(Q+1)/2*(m=(K+1)/2),d==12&&(z=(D=K)*Q)),(Q=a(_e+2*B+z))==null){d=1;break e}E.sd=Q,11>d?((K=E.f.RGBA).eb=Q,K.fb=0,K.A=W,K.size=_e):((K=E.f.kb).y=Q,K.O=0,K.fa=W,K.Fd=_e,K.f=Q,K.N=0+_e,K.Ab=m,K.Cd=B,K.ea=Q,K.W=0+_e+B,K.Db=m,K.Ed=B,d==12&&(K.F=Q,K.J=0+_e+2*B),K.Tc=z,K.lb=D)}if(m=1,D=E.S,B=E.width,z=E.height,D>=fu&&13>D)if(11>D)d=E.f.RGBA,m&=(W=Math.abs(d.A))*(z-1)+B<=d.size,m&=W>=B*Kl[D],m&=d.eb!=null;else{d=E.f.kb,W=(B+1)/2,_e=(z+1)/2,K=Math.abs(d.fa),Q=Math.abs(d.Ab);var Ue=Math.abs(d.Db),ze=Math.abs(d.lb),Te=ze*(z-1)+B;m&=K*(z-1)+B<=d.Fd,m&=Q*(_e-1)+W<=d.Cd,m=(m&=Ue*(_e-1)+W<=d.Ed)&K>=B&Q>=W&Ue>=W,m&=d.y!=null,m&=d.f!=null,m&=d.ea!=null,D==12&&(m&=ze>=B,m&=Te<=d.Tc,m&=d.F!=null)}else m=0;d=m?0:2}}return d!=0||S!=null&&S.fd&&(d=ea(E)),d}var gr=64,ta=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vn=24,_o=32,Sa=8,ni=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),G.Predictor0=function(){return 4278190080},G.Predictor1=function(d){return d},G.Predictor2=function(d,m,S){return m[S+0]},G.Predictor3=function(d,m,S){return m[S+1]},G.Predictor4=function(d,m,S){return m[S-1]},G.Predictor5=function(d,m,S){return St(St(d,m[S+1]),m[S+0])},G.Predictor6=function(d,m,S){return St(d,m[S-1])},G.Predictor7=function(d,m,S){return St(d,m[S+0])},G.Predictor8=function(d,m,S){return St(m[S-1],m[S+0])},G.Predictor9=function(d,m,S){return St(m[S+0],m[S+1])},G.Predictor10=function(d,m,S){return St(St(d,m[S-1]),St(m[S+0],m[S+1]))},G.Predictor11=function(d,m,S){var E=m[S+0];return 0>=Qt(E>>24&255,d>>24&255,(m=m[S-1])>>24&255)+Qt(E>>16&255,d>>16&255,m>>16&255)+Qt(E>>8&255,d>>8&255,m>>8&255)+Qt(255&E,255&d,255&m)?E:d},G.Predictor12=function(d,m,S){var E=m[S+0];return(Rt((d>>24&255)+(E>>24&255)-((m=m[S-1])>>24&255))<<24|Rt((d>>16&255)+(E>>16&255)-(m>>16&255))<<16|Rt((d>>8&255)+(E>>8&255)-(m>>8&255))<<8|Rt((255&d)+(255&E)-(255&m)))>>>0},G.Predictor13=function(d,m,S){var E=m[S-1];return(Yt((d=St(d,m[S+0]))>>24&255,E>>24&255)<<24|Yt(d>>16&255,E>>16&255)<<16|Yt(d>>8&255,E>>8&255)<<8|Yt(d>>0&255,E>>0&255))>>>0};var Ri=G.PredictorAdd0;G.PredictorAdd1=nr,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var ys=G.PredictorAdd2;sr("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),sr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var ra,mn=G.ColorIndexInverseTransform,Va=G.MapARGB,f=G.VP8LColorIndexInverseTransformAlpha,y=G.MapAlpha,A=G.VP8LPredictorsAdd=[];A.length=16,(G.VP8LPredictors=[]).length=16,(G.VP8LPredictorsAdd_C=[]).length=16,(G.VP8LPredictors_C=[]).length=16;var C,T,U,Z,le,ke,je,Ie,ne,De,we,Ce,Fe,Pe,Ve,He,Ke,Xe,lt,yt,ut,gt,kt,ht,Nt,Lt,It,Ut,Lr=a(511),Gt=a(2041),xn=a(225),vn=a(767),Na=0,nn=Gt,Yi=xn,Wn=vn,Rs=Lr,fu=0,ko=1,od=2,ql=3,Ul=4,Zr=5,pu=6,cl=7,qo=8,zl=9,$l=10,Vl=[2,3,7],gu=[3,3,11],Uo=[280,256,256,256,40],ld=[0,1,1,1,0],Hh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Kh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ud=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mu=8,dl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zo=null,ac=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Gh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Di=[],Ds=[],Xi=[],Aa=1,hl=2,ki=[],Qi=[];Qe("UpsampleRgbLinePair",Ar,3),Qe("UpsampleBgrLinePair",on,3),Qe("UpsampleRgbaLinePair",vs,4),Qe("UpsampleBgraLinePair",Pn,4),Qe("UpsampleArgbLinePair",$n,4),Qe("UpsampleRgba4444LinePair",jn,2),Qe("UpsampleRgb565LinePair",ln,2);var Yh=G.UpsampleRgbLinePair,Xh=G.UpsampleBgrLinePair,So=G.UpsampleRgbaLinePair,fl=G.UpsampleBgraLinePair,$o=G.UpsampleArgbLinePair,Hl=G.UpsampleRgba4444LinePair,uc=G.UpsampleRgb565LinePair,Wa=16,na=1<<Wa-1,Hr=-227,Jr=482,No=6,di=0,Zi=a(256),Vo=a(256),pl=a(256),es=a(256),vu=a(Jr-Hr),hd=a(Jr-Hr);_i("YuvToRgbRow",Ar,3),_i("YuvToBgrRow",on,3),_i("YuvToRgbaRow",vs,4),_i("YuvToBgraRow",Pn,4),_i("YuvToArgbRow",$n,4),_i("YuvToRgba4444Row",jn,2),_i("YuvToRgb565Row",ln,2);var cc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wo=[0,2,8],fd=[8,7,6,4,4,2,2,2,1,1,1,1],Ha=1;this.WebPDecodeRGBA=function(d,m,S,E,D){var B=ko,z=new Ji,W=new An;z.ba=W,W.S=B,W.width=[W.width],W.height=[W.height];var K=W.width,Q=W.height,_e=new Er;if(_e==null||d==null)var Ue=2;else e(_e!=null),Ue=$a(d,m,S,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ue!=0?K=0:(K!=null&&(K[0]=_e.width[0]),Q!=null&&(Q[0]=_e.height[0]),K=1),K){W.width=W.width[0],W.height=W.height[0],E!=null&&(E[0]=W.width),D!=null&&(D[0]=W.height);e:{if(E=new Ra,(D=new an).data=d,D.w=m,D.ha=S,D.kd=1,m=[0],e(D!=null),((d=$a(D.data,D.w,D.ha,null,null,null,m,null,D))==0||d==7)&&m[0]&&(d=4),(m=d)==0){if(e(z!=null),E.data=D.data,E.w=D.w+D.offset,E.ha=D.ha-D.offset,E.put=qr,E.ac=Cr,E.bc=sn,E.ma=z,D.xa){if((d=Li())==null){z=1;break e}if(function(ze,Te){var nt=[0],Ye=[0],Ne=[0];t:for(;;){if(ze==null)return 0;if(Te==null)return ze.a=2,0;if(ze.l=Te,ze.a=0,te(ze.m,Te.data,Te.w,Te.ha),!Ct(ze.m,nt,Ye,Ne)){ze.a=3;break t}if(ze.xb=hl,Te.width=nt[0],Te.height=Ye[0],!Un(nt[0],Ye[0],1,ze,null))break t;return 1}return e(ze.a!=0),0}(d,E)){if(E=(m=ci(E.width,E.height,z.Oa,z.ba))==0){t:{E=d;r:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((S=E.l)!=null),e((D=S.ma)!=null),E.xb!=0){if(E.ca=D.ba,E.tb=D.tb,e(E.ca!=null),!xo(D.Oa,S,ql)){E.a=2;break r}if(!Hs(E,S.width)||S.da)break r;if((S.da||mr(E.ca.S))&&Me(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&Me()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!qt(E.s.vb,E.s.Wa.Xa)){E.a=1;break r}E.xb=0}if(!tn(E,E.V,E.Ba,E.c,E.i,S.o,qn))break r;D.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(m=d.a)}else m=d.a}else{if((d=new ir)==null){z=1;break e}if(d.Fa=D.na,d.P=D.P,d.qc=D.Sa,Do(d,E)){if((m=ci(E.width,E.height,z.Oa,z.ba))==0){if(d.Aa=0,S=z.Oa,e((D=d)!=null),S!=null){if(0<(K=0>(K=S.Md)?0:100<K?255:255*K/100)){for(Q=_e=0;4>Q;++Q)12>(Ue=D.pb[Q]).lc&&(Ue.ia=K*fd[0>Ue.lc?0:Ue.lc]>>3),_e|=Ue.ia;_e&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=S.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}us(d,E)||(m=d.a)}}else m=d.a}m==0&&z.Oa!=null&&z.Oa.fd&&(m=ea(z.ba))}z=m}B=z!=0?null:11>B?W.f.RGBA.eb:W.f.kb.y}else B=null;return B};var Kl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(G,he){for(var Re="",V=0;V<4;V++)Re+=String.fromCharCode(G[he++]);return Re}function w(G,he){return(G[he+0]<<0|G[he+1]<<8|G[he+2]<<16)>>>0}function b(G,he){return(G[he+0]<<0|G[he+1]<<8|G[he+2]<<16|G[he+3]<<24)>>>0}new h;var N=[0],_=[0],O=[],P=new h,R=t,L=function(G,he){var Re={},V=0,Y=!1,fe=0,re=0;if(Re.frames=[],!function($,X,ie,de){for(var xe=0;xe<de;xe++)if($[X+xe]!=ie.charCodeAt(xe))return!0;return!1}(G,he,"RIFF",4)){for(b(G,he+=4),he+=8;he<G.length;){var qe=g(G,he),Be=b(G,he+=4);he+=4;var me=Be+(1&Be);switch(qe){case"VP8 ":case"VP8L":Re.frames[V]===void 0&&(Re.frames[V]={}),(be=Re.frames[V]).src_off=Y?re:he-8,be.src_size=fe+Be+8,V++,Y&&(Y=!1,fe=0,re=0);break;case"VP8X":(be=Re.header={}).feature_flags=G[he];var te=he+4;be.canvas_width=1+w(G,te),te+=3,be.canvas_height=1+w(G,te),te+=3;break;case"ALPH":Y=!0,fe=me+8,re=he-8;break;case"ANIM":(be=Re.header).bgcolor=b(G,he),te=he+4,be.loop_count=(se=G)[(I=te)+0]<<0|se[I+1]<<8,te+=2;break;case"ANMF":var ye,be;(be=Re.frames[V]={}).offset_x=2*w(G,he),he+=3,be.offset_y=2*w(G,he),he+=3,be.width=1+w(G,he),he+=3,be.height=1+w(G,he),he+=3,be.duration=w(G,he),he+=3,ye=G[he++],be.dispose=1&ye,be.blend=ye>>1&1}qe!="ANMF"&&(he+=me)}var se,I;return Re}}(R,0);L.response=R,L.rgbaoutput=!0,L.dataurl=!1;var M=L.header?L.header:null,H=L.frames?L.frames:null;if(M){M.loop_counter=M.loop_count,N=[M.canvas_height],_=[M.canvas_width];for(var oe=0;oe<H.length&&H[oe].blend!=0;oe++);}var pe=H[0],Ee=P.WebPDecodeRGBA(R,pe.src_off,pe.src_size,_,N);pe.rgba=Ee,pe.imgwidth=_[0],pe.imgheight=N[0];for(var ce=0;ce<_[0]*N[0]*4;ce++)O[ce]=Ee[ce];return this.width=_,this.height=N,this.data=O,this}(function(t){var e=function(){return typeof xp=="function"},r=function(N,_,O,P){var R=4,L=l;switch(P){case t.image_compression.FAST:R=1,L=a;break;case t.image_compression.MEDIUM:R=6,L=c;break;case t.image_compression.SLOW:R=9,L=h}N=i(N,_,O,L);var M=xp(N,{level:R});return t.__addimage__.arrayBufferToBinaryString(M)},i=function(N,_,O,P){for(var R,L,M,H=N.length/_,oe=new Uint8Array(N.length+H),pe=w(),Ee=0;Ee<H;Ee+=1){if(M=Ee*_,R=N.subarray(M,M+_),P)oe.set(P(R,O,L),M+Ee);else{for(var ce,G=pe.length,he=[];ce<G;ce+=1)he[ce]=pe[ce](R,O,L);var Re=b(he.concat());oe.set(he[Re],M+Ee)}L=R}return oe},o=function(N){var _=Array.apply([],N);return _.unshift(0),_},a=function(N,_){var O,P=[],R=N.length;P[0]=1;for(var L=0;L<R;L+=1)O=N[L-_]||0,P[L+1]=N[L]-O+256&255;return P},l=function(N,_,O){var P,R=[],L=N.length;R[0]=2;for(var M=0;M<L;M+=1)P=O&&O[M]||0,R[M+1]=N[M]-P+256&255;return R},c=function(N,_,O){var P,R,L=[],M=N.length;L[0]=3;for(var H=0;H<M;H+=1)P=N[H-_]||0,R=O&&O[H]||0,L[H+1]=N[H]+256-(P+R>>>1)&255;return L},h=function(N,_,O){var P,R,L,M,H=[],oe=N.length;H[0]=4;for(var pe=0;pe<oe;pe+=1)P=N[pe-_]||0,R=O&&O[pe]||0,L=O&&O[pe-_]||0,M=g(P,R,L),H[pe+1]=N[pe]-M+256&255;return H},g=function(N,_,O){if(N===_&&_===O)return N;var P=Math.abs(_-O),R=Math.abs(N-O),L=Math.abs(N+_-O-O);return P<=R&&P<=L?N:R<=L?_:O},w=function(){return[o,a,l,c,h]},b=function(N){var _=N.map(function(O){return O.reduce(function(P,R){return P+Math.abs(R)},0)});return _.indexOf(Math.min.apply(null,_))};t.processPNG=function(N,_,O,P){var R,L,M,H,oe,pe,Ee,ce,G,he,Re,V,Y,fe,re,qe=this.decode.FLATE_DECODE,Be="";if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){if(N=(M=new Dw(N)).imgData,L=M.bits,R=M.colorSpace,oe=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){G=(ce=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,Re=new Uint8Array(G*M.colors),he=new Uint8Array(G);var me,te=M.pixelBitlength-M.bits;for(fe=0,re=0;fe<G;fe++){for(Y=ce[fe],me=0;me<te;)Re[re++]=Y>>>me&255,me+=M.bits;he[fe]=Y>>>me&255}}if(M.bits===16){G=(ce=new Uint32Array(M.decodePixels().buffer)).length,Re=new Uint8Array(G*(32/M.pixelBitlength)*M.colors),he=new Uint8Array(G*(32/M.pixelBitlength)),V=M.colors>1,fe=0,re=0;for(var ye=0;fe<G;)Y=ce[fe++],Re[re++]=Y>>>0&255,V&&(Re[re++]=Y>>>16&255,Y=ce[fe++],Re[re++]=Y>>>0&255),he[ye++]=Y>>>16&255;L=8}P!==t.image_compression.NONE&&e()?(N=r(Re,M.width*M.colors,M.colors,P),Ee=r(he,M.width,1,P)):(N=Re,Ee=he,qe=void 0)}if(M.colorType===3&&(R=this.color_spaces.INDEXED,pe=M.palette,M.transparency.indexed)){var be=M.transparency.indexed,se=0;for(fe=0,G=be.length;fe<G;++fe)se+=be[fe];if((se/=255)===G-1&&be.indexOf(0)!==-1)H=[be.indexOf(0)];else if(se!==G){for(ce=M.decodePixels(),he=new Uint8Array(ce.length),fe=0,G=ce.length;fe<G;fe++)he[fe]=be[ce[fe]];Ee=r(he,M.width,1)}}var I=function($){var X;switch($){case t.image_compression.FAST:X=11;break;case t.image_compression.MEDIUM:X=13;break;case t.image_compression.SLOW:X=14;break;default:X=12}return X}(P);return qe===this.decode.FLATE_DECODE&&(Be="/Predictor "+I+" "),Be+="/Colors "+oe+" /BitsPerComponent "+L+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(Ee&&this.__addimage__.isArrayBuffer(Ee)||this.__addimage__.isArrayBufferView(Ee))&&(Ee=this.__addimage__.arrayBufferToBinaryString(Ee)),{alias:O,data:N,index:_,filter:qe,decodeParameters:Be,transparency:H,palette:pe,sMask:Ee,predictor:I,width:M.width,height:M.height,bitsPerComponent:L,colorSpace:R}}}})(lr.API),function(t){t.processGIF89A=function(e,r,i,o){var a=new Fw(e),l=a.width,c=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var g={data:h,width:l,height:c},w=new Xf(100).encode(g,100);return t.processJPEG.call(this,w,r,i,o)},t.processGIF87A=t.processGIF89A}(lr.API),no.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:i,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},no.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){cn.log("bit decode error:"+r)}},no.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<e;o++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*o*4,c=0;c<8&&8*o+c<this.width;c++){var h=this.palette[a>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}r!==0&&(this.pos+=4-r)}},no.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<t;o++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*o*4,c=a>>4,h=15&a,g=this.palette[c];if(this.data[l]=g.blue,this.data[l+1]=g.green,this.data[l+2]=g.red,this.data[l+3]=255,2*o+1>=this.width)break;g=this.palette[h],this.data[l+4]=g.blue,this.data[l+4+1]=g.green,this.data[l+4+2]=g.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},no.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*i;if(o<this.palette.length){var l=this.palette[o];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},no.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,h=(a>>10&e)/e*255|0,g=a>>15?255:0,w=i*this.width*4+4*o;this.data[w]=h,this.data[w+1]=c,this.data[w+2]=l,this.data[w+3]=g}this.pos+=t}},no.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,h=(l>>5&r)/r*255|0,g=(l>>11)/e*255|0,w=o*this.width*4+4*a;this.data[w]=g,this.data[w+1]=h,this.data[w+2]=c,this.data[w+3]=255}this.pos+=t}},no.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=o,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},no.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=a,this.data[c+1]=o,this.data[c+2]=i,this.data[c+3]=l}},no.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,i,o){var a=new no(e,!1),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},g=new Xf(100).encode(h,100);return t.processJPEG.call(this,g,r,i,o)}}(lr.API),im.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,i,o){var a=new im(e),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},g=new Xf(100).encode(h,100);return t.processJPEG.call(this,g,r,i,o)}}(lr.API),lr.API.processRGBA=function(t,e,r){for(var i=t.data,o=i.length,a=new Uint8Array(o/4*3),l=new Uint8Array(o/4),c=0,h=0,g=0;g<o;g+=4){var w=i[g],b=i[g+1],N=i[g+2],_=i[g+3];a[c++]=w,a[c++]=b,a[c++]=N,l[h++]=_}var O=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:O,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tu=lr.API,Hd=Tu.getCharWidthsArray=function(t,e){var r,i,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:o.metadata.Unicode.widths,h=c.fof?c.fof:1,g=e.kerning?e.kerning:o.metadata.Unicode.kerning,w=g.fof?g.fof:1,b=e.doKerning!==!1,N=0,_=t.length,O=0,P=c[0]||h,R=[];for(r=0;r<_;r++)i=t.charCodeAt(r),typeof o.metadata.widthOfString=="function"?R.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(N=b&&en(g[i])==="object"&&!isNaN(parseInt(g[i][O],10))?g[i][O]/w:0,R.push((c[i]||P)/h+N)),O=i;return R},em=Tu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return Tu.processArabic&&(t=Tu.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,r,o)/r:Hd.apply(this,arguments).reduce(function(a,l){return a+l},0)},tm=function(t,e,r,i){for(var o=[],a=0,l=t.length,c=0;a!==l&&c+e[a]<r;)c+=e[a],a++;o.push(t.slice(0,a));var h=a;for(c=0;a!==l;)c+e[a]>i&&(o.push(t.slice(h,a)),c=0,h=a),c+=e[a],a++;return h!==a&&o.push(t.slice(h,a)),o},rm=function(t,e,r){r||(r={});var i,o,a,l,c,h,g,w=[],b=[w],N=r.textIndent||0,_=0,O=0,P=t.split(" "),R=Hd.apply(this,[" ",r])[0];if(h=r.lineIndent===-1?P[0].length+2:r.lineIndent||0){var L=Array(h).join(" "),M=[];P.map(function(oe){(oe=oe.split(/\s*\n/)).length>1?M=M.concat(oe.map(function(pe,Ee){return(Ee&&pe.length?`
`:"")+pe})):M.push(oe[0])}),P=M,h=em.apply(this,[L,r])}for(a=0,l=P.length;a<l;a++){var H=0;if(i=P[a],h&&i[0]==`
`&&(i=i.substr(1),H=1),N+_+(O=(o=Hd.apply(this,[i,r])).reduce(function(oe,pe){return oe+pe},0))>e||H){if(O>e){for(c=tm.apply(this,[i,o,e-(N+_),e]),w.push(c.shift()),w=[c.pop()];c.length;)b.push([c.shift()]);O=o.slice(i.length-(w[0]?w[0].length:0)).reduce(function(oe,pe){return oe+pe},0)}else w=[i];b.push(w),N=O+h,_=R}else w.push(i),N+=_+O,_=R}return g=h?function(oe,pe){return(pe?L:"")+oe.join(" ")}:function(oe){return oe.join(" ")},b.map(g)},Tu.splitTextToSize=function(t,e,r){var i,o=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var b=this.internal.getFont(w.fontName,w.fontStyle);return b.metadata.Unicode?{widths:b.metadata.Unicode.widths||{0:1},kerning:b.metadata.Unicode.kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/o;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/o:0,a.lineIndent=r.lineIndent;var c,h,g=[];for(c=0,h=i.length;c<h;c++)g=g.concat(rm.apply(this,[i[c],l,a]));return g},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},i={},o=0;o<e.length;o++)r[e[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=e[o];var a=function(b){return"0x"+parseInt(b,10).toString(16)},l=t.__fontmetrics__.compress=function(b){var N,_,O,P,R=["{"];for(var L in b){if(N=b[L],isNaN(parseInt(L,10))?_="'"+L+"'":(L=parseInt(L,10),_=(_=a(L).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof N=="number")N<0?(O=a(N).slice(3),P="-"):(O=a(N).slice(2),P=""),O=P+O.slice(0,-1)+i[O.slice(-1)];else{if(en(N)!=="object")throw new Error("Don't know what to do with value type "+en(N)+".");O=l(N)}R.push(_+O)}return R.push("}"),R.join("")},c=t.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var N,_,O,P,R={},L=1,M=R,H=[],oe="",pe="",Ee=b.length-1,ce=1;ce<Ee;ce+=1)(P=b[ce])=="'"?N?(O=N.join(""),N=void 0):N=[]:N?N.push(P):P=="{"?(H.push([M,O]),M={},O=void 0):P=="}"?((_=H.pop())[0][_[1]]=M,O=void 0,M=_[0]):P=="-"?L=-1:O===void 0?r.hasOwnProperty(P)?(oe+=r[P],O=parseInt(oe,16)*L,L=1,oe=""):oe+=P:r.hasOwnProperty(P)?(pe+=r[P],M[O]=parseInt(pe,16)*L,L=1,O=void 0,pe=""):pe+=P;return R},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},w={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(b){var N=b.font,_=w.Unicode[N.postScriptName];_&&(N.metadata.Unicode={},N.metadata.Unicode.widths=_.widths,N.metadata.Unicode.kerning=_.kerning);var O=g.Unicode[N.postScriptName];O&&(N.metadata.Unicode.encoding=O,N.encoding=O.codePages[0])}])}(lr.API),function(t){var e=function(r){for(var i=r.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=r.charCodeAt(a);return o};t.API.events.push(["addFont",function(r){var i=void 0,o=r.font,a=r.instance;if(!o.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(i=a.existsFileInVFS(o.postScriptName)===!1?a.loadFile(o.postScriptName):a.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Lc(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(o,i)}}])}(lr),function(t){function e(){return(cr.canvg?Promise.resolve(cr.canvg):qc(()=>import("./index.es-CspI5Sh0.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}lr.API.addSvgAsImage=function(r,i,o,a,l,c,h,g){if(isNaN(i)||isNaN(o))throw cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var w=document.createElement("canvas");w.width=a,w.height=l;var b=w.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,w.width,w.height);var N={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return e().then(function(O){return O.fromString(b,r,N)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(O){return O.render(N)}).then(function(){_.addImage(w.toDataURL("image/jpeg",1),i,o,a,l,h,g)})}}(),lr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(e,r);return this},lr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var i,o,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],g=0,w=0,b=0;function N(O,P){var R,L=!1;for(R=0;R<O.length;R+=1)O[R]===P&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var _=c.length;for(b=0;b<_;b+=1)r[c[b]].value=r[c[b]].defaultValue,r[c[b]].explicitSet=!1}if(en(t)==="object"){for(o in t)if(a=t[o],N(c,o)&&a!==void 0){if(r[o].type==="boolean"&&typeof a=="boolean")r[o].value=a;else if(r[o].type==="name"&&N(r[o].valueSet,a))r[o].value=a;else if(r[o].type==="integer"&&Number.isInteger(a))r[o].value=a;else if(r[o].type==="array"){for(g=0;g<a.length;g+=1)if(i=!0,a[g].length===1&&typeof a[g][0]=="number")h.push(String(a[g]-1));else if(a[g].length>1){for(w=0;w<a[g].length;w+=1)typeof a[g][w]!="number"&&(i=!1);i===!0&&h.push([a[g][0]-1,a[g][1]-1].join(" "))}r[o].value="["+h.join(" ")+"]"}else r[o].value=r[o].defaultValue;r[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var O,P=[];for(O in r)r[O].explicitSet===!0&&(r[O].type==="name"?P.push("/"+O+" /"+r[O].value):P.push("/"+O+" "+r[O].value));P.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+P.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),g=a.length+l.length+c.length+o.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(o+a+l+c+h),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(lr.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,l){for(var c,h=l.metadata.Unicode.widths,g=["","0","00","000","0000"],w=[""],b=0,N=a.length;b<N;++b){if(c=l.metadata.characterToGlyph(a.charCodeAt(b)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(b),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return w.join("");c=c.toString(16),w.push(g[4-c.length],c)}return w.join("")},i=function(a){var l,c,h,g,w,b,N;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],b=0,N=(c=Object.keys(a).sort(function(_,O){return _-O})).length;b<N;b++)l=c[b],h.length>=100&&(w+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(g=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+g+">"));return h.length&&(w+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),w+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,g=l.newObject,w=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var b=c.metadata.Unicode.widths,N=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),_="",O=0;O<N.length;O++)_+=String.fromCharCode(N[O]);var P=g();w({data:_,addLength1:!0,objectId:P}),h("endobj");var R=g();w({data:i(c.metadata.toUnicode),addLength1:!0,objectId:R}),h("endobj");var L=g();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+zu(c.fontName)),h("/FontFile2 "+P+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var M=g();h("<<"),h("/Type /Font"),h("/BaseFont /"+zu(c.fontName)),h("/FontDescriptor "+L+" 0 R"),h("/W "+t.API.PDFObject.convert(b)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=g(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+R+" 0 R"),h("/BaseFont /"+zu(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+M+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,g=l.newObject,w=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var b=c.metadata.rawData,N="",_=0;_<b.length;_++)N+=String.fromCharCode(b[_]);var O=g();w({data:N,addLength1:!0,objectId:O}),h("endobj");var P=g();w({data:i(c.metadata.toUnicode),addLength1:!0,objectId:P}),h("endobj");var R=g();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+O+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+zu(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=g();for(var L=0;L<c.metadata.hmtx.widths.length;L++)c.metadata.hmtx.widths[L]=parseInt(c.metadata.hmtx.widths[L]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+P+" 0 R/BaseFont/"+zu(c.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]);var o=function(a){var l,c=a.text||"",h=a.x,g=a.y,w=a.options||{},b=a.mutex||{},N=b.pdfEscape,_=b.activeFontKey,O=b.fonts,P=_,R="",L=0,M="",H=O[P].encoding;if(O[P].encoding!=="Identity-H")return{text:c,x:h,y:g,options:w,mutex:b};for(M=c,P=_,Array.isArray(c)&&(M=c[0]),L=0;L<M.length;L+=1)O[P].metadata.hasOwnProperty("cmap")&&(l=O[P].metadata.cmap.unicode.codeMap[M[L].charCodeAt(0)]),l||M[L].charCodeAt(0)<256&&O[P].metadata.hasOwnProperty("Unicode")?R+=M[L]:R+="";var oe="";return parseInt(P.slice(1))<14||H==="WinAnsiEncoding"?oe=N(R,P).split("").map(function(pe){return pe.charCodeAt(0).toString(16)}).join(""):H==="Identity-H"&&(oe=r(R,O[P])),b.isHex=!0,{text:oe,x:h,y:g,options:w,mutex:b}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var g=0;for(g=0;g<l.length;g+=1)Array.isArray(l[g])&&l[g].length===3?c.push([o(Object.assign({},h,{text:l[g][0]})).text,l[g][1],l[g][2]]):c.push(o(Object.assign({},h,{text:l[g]})).text);a.text=c}else a.text=o(Object.assign({},h,{text:l})).text}])}(lr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,i){return e.call(this),this.internal.vFS[r]=i,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(lr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var o,a,l,c,h,g,w,b=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},P={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,H=0;this.__bidiEngine__={};var oe=function(V){var Y=V.charCodeAt(),fe=Y>>8,re=P[fe];return re!==void 0?b[256*re+(255&Y)]:fe===252||fe===253?"AL":L.test(fe)?"L":fe===8?"R":"N"},pe=function(V){for(var Y,fe=0;fe<V.length;fe++){if((Y=oe(V.charAt(fe)))==="L")return!1;if(Y==="R")return!0}return!1},Ee=function(V,Y,fe,re){var qe,Be,me,te,ye=Y[re];switch(ye){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(ye="AN");break;case"AL":M=!0,ye="R";break;case"WS":ye="N";break;case"CS":re<1||re+1>=Y.length||(qe=fe[re-1])!=="EN"&&qe!=="AN"||(Be=Y[re+1])!=="EN"&&Be!=="AN"?ye="N":M&&(Be="AN"),ye=Be===qe?Be:"N";break;case"ES":ye=(qe=re>0?fe[re-1]:"B")==="EN"&&re+1<Y.length&&Y[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&fe[re-1]==="EN"){ye="EN";break}if(M){ye="N";break}for(me=re+1,te=Y.length;me<te&&Y[me]==="ET";)me++;ye=me<te&&Y[me]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(te=Y.length,me=re+1;me<te&&Y[me]==="NSM";)me++;if(me<te){var be=V[re],se=be>=1425&&be<=2303||be===64286;if(qe=Y[me],se&&(qe==="R"||qe==="AL")){ye="R";break}}}ye=re<1||(qe=Y[re-1])==="B"?"N":fe[re-1];break;case"B":M=!1,o=!0,ye=H;break;case"S":a=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":ye="N"}return ye},ce=function(V,Y,fe){var re=V.split("");return fe&&G(re,fe,{hiLevel:H}),re.reverse(),Y&&Y.reverse(),re.join("")},G=function(V,Y,fe){var re,qe,Be,me,te,ye=-1,be=V.length,se=0,I=[],$=H?_:N,X=[];for(M=!1,o=!1,a=!1,qe=0;qe<be;qe++)X[qe]=oe(V[qe]);for(Be=0;Be<be;Be++){if(te=se,I[Be]=Ee(V,X,I,Be),re=240&(se=$[te][O[I[Be]]]),se&=15,Y[Be]=me=$[se][5],re>0)if(re===16){for(qe=ye;qe<Be;qe++)Y[qe]=1;ye=-1}else ye=-1;if($[se][6])ye===-1&&(ye=Be);else if(ye>-1){for(qe=ye;qe<Be;qe++)Y[qe]=me;ye=-1}X[Be]==="B"&&(Y[Be]=0),fe.hiLevel|=me}a&&function(ie,de,xe){for(var Oe=0;Oe<xe;Oe++)if(ie[Oe]==="S"){de[Oe]=H;for(var ge=Oe-1;ge>=0&&ie[ge]==="WS";ge--)de[ge]=H}}(X,Y,be)},he=function(V,Y,fe,re,qe){if(!(qe.hiLevel<V)){if(V===1&&H===1&&!o)return Y.reverse(),void(fe&&fe.reverse());for(var Be,me,te,ye,be=Y.length,se=0;se<be;){if(re[se]>=V){for(te=se+1;te<be&&re[te]>=V;)te++;for(ye=se,me=te-1;ye<me;ye++,me--)Be=Y[ye],Y[ye]=Y[me],Y[me]=Be,fe&&(Be=fe[ye],fe[ye]=fe[me],fe[me]=Be);se=te}se++}}},Re=function(V,Y,fe){var re=V.split(""),qe={hiLevel:H};return fe||(fe=[]),G(re,fe,qe),function(Be,me,te){if(te.hiLevel!==0&&w)for(var ye,be=0;be<Be.length;be++)me[be]===1&&(ye=R.indexOf(Be[be]))>=0&&(Be[be]=R[ye+1])}(re,fe,qe),he(2,re,Y,fe,qe),he(1,re,Y,fe,qe),re.join("")};return this.__bidiEngine__.doBidiReorder=function(V,Y,fe){if(function(qe,Be){if(Be)for(var me=0;me<qe.length;me++)Be[me]=me;c===void 0&&(c=pe(qe)),g===void 0&&(g=pe(qe))}(V,Y),l||!h||g)if(l&&h&&c^g)H=c?1:0,V=ce(V,Y,fe);else if(!l&&h&&g)H=c?1:0,V=Re(V,Y,fe),V=ce(V,Y);else if(!l||c||h||g){if(l&&!h&&c^g)V=ce(V,Y),c?(H=0,V=Re(V,Y,fe)):(H=1,V=Re(V,Y,fe),V=ce(V,Y));else if(l&&c&&!h&&g)H=1,V=Re(V,Y,fe),V=ce(V,Y);else if(!l&&!h&&c^g){var re=w;c?(H=1,V=Re(V,Y,fe),H=0,w=!1,V=Re(V,Y,fe),w=re):(H=0,V=Re(V,Y,fe),V=ce(V,Y),H=1,w=!1,V=Re(V,Y,fe),w=re,V=ce(V,Y))}}else H=0,V=Re(V,Y,fe);else H=c?1:0,V=Re(V,Y,fe);return V},this.__bidiEngine__.setOptions=function(V){V&&(l=V.isInputVisual,h=V.isOutputVisual,c=V.isInputRtl,g=V.isOutputRtl,w=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var o=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(o)==="[object Array]"){var c=0;for(l=[],c=0;c<o.length;c+=1)Object.prototype.toString.call(o[c])==="[object Array]"?l.push([r.doBidiReorder(o[c][0]),o[c][1],o[c][2]]):l.push([r.doBidiReorder(o[c])]);i.text=l}else i.text=r.doBidiReorder(o);r.setOptions({isInputVisual:!0})}])}(lr),lr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ml(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Qw(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Mw(this.contents),this.head=new qw(this),this.name=new Ww(this),this.cmap=new qv(this),this.toUnicode={},this.hhea=new Uw(this),this.maxp=new Hw(this),this.hmtx=new Kw(this),this.post=new $w(this),this.os2=new zw(this),this.loca=new Xw(this),this.glyf=new Gw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,i,o,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,g;for(g=[],l=0,c=(h=this.bbox).length;l<c;l++)e=h[l],g.push(Math.round(e*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),(32768&(r=o>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,i){var o,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)o=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/r)||0;return l*(r/1e3)},t.prototype.lineHeight=function(e,r){var i;return r==null&&(r=!1),i=r?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var fo,Ml=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,i;for(i=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)i[r]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var r,i,o;for(o=[],r=0,i=e.length;0<=i?r<i:r>i;r=0<=i?++r:--r)o.push(this.writeByte(e.charCodeAt(r)));return o},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,i,o,a,l,c,h;return e=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*r+1099511627776*i+4294967296*o+16777216*a+65536*l+256*c+h},t.prototype.writeLongLong=function(e){var r,i;return r=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,i;for(r=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)r.push(this.readByte());return r},t.prototype.write=function(e){var r,i,o,a;for(a=[],i=0,o=e.length;i<o;i++)r=e[i],a.push(this.writeByte(r));return a},t}(),Mw=function(){var t;function e(r){var i,o,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},o=0,a=this.tableCount;0<=a?o<a:o>a;o=0<=a?++o:--o)i={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(r){var i,o,a,l,c,h,g,w,b,N,_,O,P;for(P in _=Object.keys(r).length,h=Math.log(2),b=16*Math.floor(Math.log(_)/h),l=Math.floor(b/h),w=16*_-b,(o=new Ml).writeInt(this.scalarType),o.writeShort(_),o.writeShort(b),o.writeShort(l),o.writeShort(w),a=16*_,g=o.pos+a,c=null,O=[],r)for(N=r[P],o.writeString(P),o.writeInt(t(N)),o.writeInt(g),o.writeInt(N.length),O=O.concat(N),P==="head"&&(c=g),g+=N.length;g%4;)O.push(0),g++;return o.write(O),i=2981146554-t(o.data),o.pos=c+8,o.writeUInt32(i),o.data},t=function(r){var i,o,a,l;for(r=Uv.call(r);r.length%4;)r.push(0);for(a=new Ml(r),o=0,i=0,l=r.length;i<l;i=i+=4)o+=a.readUInt32();return 4294967295&o},e}(),Bw={}.hasOwnProperty,To=function(t,e){for(var r in e)Bw.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};fo=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var qw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var i;return(i=new Ml).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(r),i.writeShort(this.glyphDataFormat),i.data},e}(),sm=function(){function t(e,r){var i,o,a,l,c,h,g,w,b,N,_,O,P,R,L,M,H;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(_=e.readUInt16(),N=_/2,e.pos+=6,a=function(){var oe,pe;for(pe=[],h=oe=0;0<=N?oe<N:oe>N;h=0<=N?++oe:--oe)pe.push(e.readUInt16());return pe}(),e.pos+=2,P=function(){var oe,pe;for(pe=[],h=oe=0;0<=N?oe<N:oe>N;h=0<=N?++oe:--oe)pe.push(e.readUInt16());return pe}(),g=function(){var oe,pe;for(pe=[],h=oe=0;0<=N?oe<N:oe>N;h=0<=N?++oe:--oe)pe.push(e.readUInt16());return pe}(),w=function(){var oe,pe;for(pe=[],h=oe=0;0<=N?oe<N:oe>N;h=0<=N?++oe:--oe)pe.push(e.readUInt16());return pe}(),o=(this.length-e.pos+this.offset)/2,c=function(){var oe,pe;for(pe=[],h=oe=0;0<=o?oe<o:oe>o;h=0<=o?++oe:--oe)pe.push(e.readUInt16());return pe}(),h=L=0,H=a.length;L<H;h=++L)for(R=a[h],i=M=O=P[h];O<=R?M<=R:M>=R;i=O<=R?++M:--M)w[h]===0?l=i+g[h]:(l=c[w[h]/2+(i-O)-(N-h)]||0)!==0&&(l+=g[h]),this.codeMap[i]=65535&l}e.pos=b}return t.encode=function(e,r){var i,o,a,l,c,h,g,w,b,N,_,O,P,R,L,M,H,oe,pe,Ee,ce,G,he,Re,V,Y,fe,re,qe,Be,me,te,ye,be,se,I,$,X,ie,de,xe,Oe,ge,rt,st,it;switch(re=new Ml,l=Object.keys(e).sort(function(bt,qt){return bt-qt}),r){case"macroman":for(P=0,R=function(){var bt=[];for(O=0;O<256;++O)bt.push(0);return bt}(),M={0:0},a={},qe=0,ye=l.length;qe<ye;qe++)M[ge=e[o=l[qe]]]==null&&(M[ge]=++P),a[o]={old:e[o],new:M[e[o]]},R[o]=M[e[o]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(R),{charMap:a,subtable:re.data,maxGlyphID:P+1};case"unicode":for(Y=[],b=[],H=0,M={},i={},L=g=null,Be=0,be=l.length;Be<be;Be++)M[pe=e[o=l[Be]]]==null&&(M[pe]=++H),i[o]={old:pe,new:M[pe]},c=M[pe]-o,L!=null&&c===g||(L&&b.push(L),Y.push(o),g=c),L=o;for(L&&b.push(L),b.push(65535),Y.push(65535),Re=2*(he=Y.length),G=2*Math.pow(Math.log(he)/Math.LN2,2),N=Math.log(G/2)/Math.LN2,ce=2*he-G,h=[],Ee=[],_=[],O=me=0,se=Y.length;me<se;O=++me){if(V=Y[O],w=b[O],V===65535){h.push(0),Ee.push(0);break}if(V-(fe=i[V].new)>=32768)for(h.push(0),Ee.push(2*(_.length+he-O)),o=te=V;V<=w?te<=w:te>=w;o=V<=w?++te:--te)_.push(i[o].new);else h.push(fe-V),Ee.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*he+2*_.length),re.writeUInt16(0),re.writeUInt16(Re),re.writeUInt16(G),re.writeUInt16(N),re.writeUInt16(ce),xe=0,I=b.length;xe<I;xe++)o=b[xe],re.writeUInt16(o);for(re.writeUInt16(0),Oe=0,$=Y.length;Oe<$;Oe++)o=Y[Oe],re.writeUInt16(o);for(rt=0,X=h.length;rt<X;rt++)c=h[rt],re.writeUInt16(c);for(st=0,ie=Ee.length;st<ie;st++)oe=Ee[st],re.writeUInt16(oe);for(it=0,de=_.length;it<de;it++)P=_[it],re.writeUInt16(P);return{charMap:i,subtable:re.data,maxGlyphID:H+1}}},t}(),qv=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="cmap",e.prototype.parse=function(r){var i,o,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)i=new sm(r,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(r,i){var o,a;return i==null&&(i="macroman"),o=sm.encode(r,i),(a=new Ml).writeUInt16(0),a.writeUInt16(1),o.table=a.data.concat(o.subtable),o},e}(),Uw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),zw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var i,o;for(o=[],i=0;i<10;++i)o.push(r.readByte());return o}(),this.charRange=function(){var i,o;for(o=[],i=0;i<4;++i)o.push(r.readInt());return o}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var i,o;for(o=[],i=0;i<2;i=++i)o.push(r.readInt());return o}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),$w=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="post",e.prototype.parse=function(r){var i,o,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var l;for(o=r.readUInt16(),this.glyphNameIndex=[],l=0;0<=o?l<o:l>o;l=0<=o?++l:--l)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)i=r.readByte(),a.push(this.names.push(r.readString(i)));return a;case 151552:return o=r.readUInt16(),this.offsets=r.read(o);case 196608:break;case 262144:return this.map=(function(){var c,h,g;for(g=[],l=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;l=0<=h?++c:--c)g.push(r.readUInt32());return g}).call(this)}},e}(),Vw=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Ww=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="name",e.prototype.parse=function(r){var i,o,a,l,c,h,g,w,b,N,_;for(r.pos=this.offset,r.readShort(),i=r.readShort(),h=r.readShort(),o=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)o.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+h+r.readShort()});for(g={},l=b=0,N=o.length;b<N;l=++b)a=o[l],r.pos=a.offset,w=r.readString(a.length),c=new Vw(w,a),g[_=a.nameID]==null&&(g[_]=[]),g[a.nameID].push(c);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},e}(),Hw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),Kw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="hmtx",e.prototype.parse=function(r){var i,o,a,l,c,h,g;for(r.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var w,b;for(b=[],i=w=0;0<=a?w<a:w>a;i=0<=a?++w:--w)b.push(r.readInt16());return b}(),this.widths=(function(){var w,b,N,_;for(_=[],w=0,b=(N=this.metrics).length;w<b;w++)l=N[w],_.push(l.advance);return _}).call(this),o=this.widths[this.widths.length-1],g=[],i=c=0;0<=a?c<a:c>a;i=0<=a?++c:--c)g.push(this.widths.push(o));return g},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),Uv=[].slice,Gw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var i,o,a,l,c,h,g,w,b,N;return r in this.cache?this.cache[r]:(l=this.file.loca,i=this.file.contents,o=l.indexOf(r),(a=l.lengthOf(r))===0?this.cache[r]=null:(i.pos=this.offset+o,c=(h=new Ml(i.read(a))).readShort(),w=h.readShort(),N=h.readShort(),g=h.readShort(),b=h.readShort(),this.cache[r]=c===-1?new Yw(h,w,N,g,b):new Jw(h,c,w,N,g,b),this.cache[r]))},e.prototype.encode=function(r,i,o){var a,l,c,h,g;for(c=[],l=[],h=0,g=i.length;h<g;h++)a=r[i[h]],l.push(c.length),a&&(c=c.concat(a.encode(o)));return l.push(c.length),{table:c,offsets:l}},e}(),Jw=function(){function t(e,r,i,o,a,l){this.raw=e,this.numberOfContours=r,this.xMin=i,this.yMin=o,this.xMax=a,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Yw=function(){function t(e,r,i,o,a){var l,c;for(this.raw=e,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var e,r,i;for(r=new Ml(Uv.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Xw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,fo),e.prototype.tag="loca",e.prototype.parse=function(r){var i,o;return r.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,l;for(l=[],o=0,a=this.length;o<a;o+=2)l.push(2*r.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],o=0,a=this.length;o<a;o+=4)l.push(r.readUInt32());return l}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,i){for(var o=new Uint32Array(this.offsets.length),a=0,l=0,c=0;c<o.length;++c)if(o[c]=a,l<i.length&&i[l]==c){++l,o[c]=a;var h=this.offsets[c],g=this.offsets[c+1]-h;g>0&&(a+=g)}for(var w=new Array(4*o.length),b=0;b<o.length;++b)w[4*b+3]=255&o[b],w[4*b+2]=(65280&o[b])>>8,w[4*b+1]=(16711680&o[b])>>16,w[4*b]=(4278190080&o[b])>>24;return w},e}(),Qw=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,i,o,a;for(r in o=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[r],e[r]=o[i];return e},t.prototype.glyphsFor=function(e){var r,i,o,a,l,c,h;for(o={},l=0,c=e.length;l<c;l++)o[a=e[l]]=this.font.glyf.glyphFor(a);for(a in r=[],o)(i=o[a])!=null&&i.compound&&r.push.apply(r,i.glyphIDs);if(r.length>0)for(a in h=this.glyphsFor(r))i=h[a],o[a]=i;return o},t.prototype.encode=function(e,r){var i,o,a,l,c,h,g,w,b,N,_,O,P,R,L;for(o in i=qv.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),_={0:0},L=i.charMap)_[(h=L[o]).old]=h.new;for(O in N=i.maxGlyphID,l)O in _||(_[O]=N++);return w=function(M){var H,oe;for(H in oe={},M)oe[M[H]]=H;return oe}(_),b=Object.keys(w).sort(function(M,H){return M-H}),P=function(){var M,H,oe;for(oe=[],M=0,H=b.length;M<H;M++)c=b[M],oe.push(w[c]);return oe}(),a=this.font.glyf.encode(l,P,_),g=this.font.loca.encode(a.offsets,P),R={cmap:this.font.cmap.raw(),glyf:a.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},t}();lr.API.PDFObject=function(){var t;function e(){}return t=function(r,i){return(Array(i+1).join("0")+r).slice(-i)},e.convert=function(r){var i,o,a,l;if(Array.isArray(r))return"["+function(){var c,h,g;for(g=[],c=0,h=r.length;c<h;c++)i=r[c],g.push(e.convert(i));return g}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(o in a=["<<"],r)l=r[o],a.push("/"+o+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+r},e}();const zv=t=>{const e=new lr,r=[3,152,158],i=[31,41,55],o=[156,163,175];e.setFillColor(...r),e.rect(0,0,210,40,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("Agence de Voyage",20,25),e.setTextColor(...i),e.setFontSize(28),e.setFont("helvetica","bold"),e.text("INVOICE",20,60),e.setFontSize(12),e.setFont("helvetica","normal"),e.text(`Invoice Number: ${t.invoiceNumber}`,20,75),e.text(`Date: ${Dl(t.createdAt||new Date().toISOString())}`,20,85),e.text(`Due Date: ${Dl(t.dueDate||new Date().toISOString())}`,20,95),e.setFontSize(10),e.setTextColor(o[0],o[1],o[2]),e.text("123 Travel Street",140,60),e.text("New York, NY 10001",140,70),e.text("Phone: (555) 123-4567",140,80),e.text("Email: info@agencedevoyage.com",140,90);const a={draft:[156,163,175],sent:[3,152,158],paid:[34,197,94],overdue:[239,68,68]};if(e.setFillColor(...a[t.status]||a.draft),e.roundedRect(140,95,30,8,2,2,"F"),e.setTextColor(255,255,255),e.setFontSize(8),e.setFont("helvetica","bold"),e.text(t.status.toUpperCase(),142,100),e.setTextColor(...i),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Bill To:",20,120),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(t.client?.name||"Unknown Client",20,135),e.setFont("helvetica","normal"),e.text(t.client?.email||"",20,145),t.client?.phone&&e.text(t.client.phone,20,155),t.client?.address){const b=e.splitTextToSize(t.client.address,80);e.text(b,20,165)}e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Agent:",110,120),e.setFontSize(12),e.text(t.agentName,110,135),e.setFont("helvetica","normal"),e.text("Travel Agent",110,145);let l=190;e.setFillColor(249,250,251),e.rect(20,l-10,170,15,"F"),e.setTextColor(...i),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Description",25,l-2),e.text("Qty",120,l-2),e.text("Unit Price",140,l-2),e.text("Total",170,l-2),e.setFont("helvetica","normal"),l+=10,(t.items||[]).forEach((b,N)=>{l>250&&(e.addPage(),l=30),N%2===0&&(e.setFillColor(249,250,251),e.rect(20,l-8,170,12,"F")),e.setTextColor(...i);const _=e.splitTextToSize(b.description,90);e.text(_,25,l),e.text(b.quantity.toString(),125,l),e.text(Zn(b.unitPrice||0),145,l),e.text(Zn(b.total),175,l),l+=Math.max(12,_.length*5)}),l+=20,l>230&&(e.addPage(),l=30);const c=130;if(e.setFillColor(249,250,251),e.rect(c-10,l-10,70,50,"F"),e.setTextColor(...i),e.setFontSize(12),e.setFont("helvetica","normal"),e.text("Subtotal:",c,l),e.text(Zn(t.subtotal||0),c+40,l),e.text("Tax:",c,l+12),e.text(Zn(t.tax||0),c+40,l+12),e.setFont("helvetica","bold"),e.setFontSize(14),e.text("Total:",c,l+28),e.setTextColor(...r),e.text(Zn(t.total||0),c+40,l+28),l+=60,l>240&&(e.addPage(),l=30),e.setFillColor(249,250,251),e.rect(20,l-10,170,45,"F"),e.setTextColor(...i),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Umrah Details",25,l),e.setFontSize(10),e.setFont("helvetica","normal"),t.passportNumber&&e.text(`Passport: ${t.passportNumber}`,25,l+10),t.flightNumber&&e.text(`Flight: ${t.flightNumber}`,25,l+20),t.departureDate&&e.text(`Departure: ${Dl(t.departureDate)}`,25,l+30),t.roomType&&e.text(`Room Type: ${t.roomType}`,110,l+10),t.visaStatus&&e.text(`Visa Status: ${t.visaStatus}`,110,l+20),t.gender&&e.text(`Gender: ${t.gender}`,110,l+30),l+=45,t.notes){l>240&&(e.addPage(),l=30),e.setTextColor(...i),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Notes:",20,l),e.setFont("helvetica","normal"),e.setFontSize(10);const b=e.splitTextToSize(t.notes,170);e.text(b,20,l+10)}const h=e.internal.pageSize.height;e.setTextColor(...o),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Thank you for choosing Agence de Voyage!",20,h-30),e.text("For questions about this invoice, please contact us at billing@agencedevoyage.com",20,h-20);const g=t.client?.name||"Client",w=`Invoice_${t.invoiceNumber}_${g.replace(/\s+/g,"_")}.pdf`;e.save(w)},mh=({invoices:t,onView:e,onEdit:r,onDelete:i,title:o="Recent Invoices"})=>{const a=w=>{console.log("View button clicked for invoice:",w.id),e(w)},l=w=>{console.log("Edit button clicked for invoice:",w.id),r(w)},c=w=>{console.log("Delete button clicked for invoice:",w.id),w.id&&i(w.id)},h=w=>{console.log("Download button clicked for invoice:",w.id);try{zv(w)}catch(b){console.error("Error generating PDF:",b),alert("Failed to generate PDF. Please try again.")}},g=w=>{switch(w){case"draft":return v.jsx(hp,{className:"h-4 w-4"});case"sent":return v.jsx(Qp,{className:"h-4 w-4"});case"paid":return v.jsx(ch,{className:"h-4 w-4"});case"overdue":return v.jsx(ed,{className:"h-4 w-4"});default:return v.jsx(uv,{className:"h-4 w-4"})}};return t.length===0?v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[v.jsx("div",{className:"text-gray-400 mb-4",children:v.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),v.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No invoices found"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Create your first invoice to get started."})]}):v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o}),v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," invoice",t.length!==1?"s":""]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Invoice"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Client"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Agent"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),v.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map(w=>v.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.invoiceNumber||`INV-${String(w.id||"").substring(0,8)}`}),v.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Due: ",w.dueDate?Dl(w.dueDate):Dl(w.createdAt)]})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:"#f0fdfc"},children:v.jsx(du,{className:"h-4 w-4",style:{color:"#03989e"}})}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.client?.name||w.clientName}),v.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.client?.email||w.clientEmail})]})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:w.agentName||"Unknown Agent"})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Zn(w.total)})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"flex items-center space-x-2",children:v.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${vv(w.status)}`,children:[g(w.status),v.jsx("span",{className:"ml-1",children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]})})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:Dl(w.createdAt)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[v.jsx("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),a(w)},className:"p-2 rounded-lg transition-all duration-150 hover:shadow-md",style:{color:"#03989e",backgroundColor:"transparent"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="#f0fdfc"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="transparent"},title:"View & Manage Invoice",children:v.jsx(cv,{className:"h-4 w-4"})}),v.jsx("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),l(w)},className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-150",title:"Edit Invoice",children:v.jsx(hp,{className:"h-4 w-4"})}),v.jsx("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),h(w)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-all duration-150",title:"Download PDF",children:v.jsx(Ch,{className:"h-4 w-4"})}),v.jsx("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),c(w)},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-150",title:"Delete Invoice",children:v.jsx(fh,{className:"h-4 w-4"})})]})})]},w.id))})]})})]})},$v=({invoice:t,onClose:e,onEdit:r,onStatusUpdate:i})=>{const[o,a]=J.useState(!1),[l,c]=J.useState(!1),h=async b=>{if(i){a(!0);try{await i(t.id,b)}catch(N){console.error("Error updating status:",N),alert("Failed to update invoice status. Please try again.")}finally{a(!1)}}},g=async()=>{c(!0);try{zv(t)}catch(b){console.error("Error generating PDF:",b),alert("Failed to generate PDF. Please try again.")}finally{c(!1)}},w=()=>{const b=[];switch(t.status){case"draft":b.push(v.jsxs("button",{onClick:()=>h("sent"),disabled:o,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",style:{backgroundColor:o?"#6b7280":"#03989e",opacity:o?.6:1},onMouseEnter:N=>{o||(N.currentTarget.style.backgroundColor="#027a7f")},onMouseLeave:N=>{o||(N.currentTarget.style.backgroundColor="#03989e")},children:[v.jsx(Qp,{className:"h-4 w-4"}),v.jsx("span",{children:"Send to Client"})]},"send"));break;case"sent":b.push(v.jsxs("button",{onClick:()=>h("paid"),disabled:o,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[v.jsx(ch,{className:"h-4 w-4"}),v.jsx("span",{children:"Mark as Paid"})]},"mark-paid")),b.push(v.jsxs("button",{onClick:()=>h("overdue"),disabled:o,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[v.jsx(ed,{className:"h-4 w-4"}),v.jsx("span",{children:"Mark Overdue"})]},"mark-overdue"));break;case"overdue":b.push(v.jsxs("button",{onClick:()=>h("paid"),disabled:o,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[v.jsx(ch,{className:"h-4 w-4"}),v.jsx("span",{children:"Mark as Paid"})]},"mark-paid"));break}return b};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Details"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.invoiceNumber})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[i&&w(),v.jsxs("button",{onClick:r,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",style:{backgroundColor:"#03989e"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="#027a7f"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="#03989e"},children:[v.jsx(hp,{className:"h-4 w-4"}),v.jsx("span",{children:"Edit"})]}),v.jsxs("button",{onClick:g,disabled:l,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[v.jsx(Ch,{className:"h-4 w-4"}),v.jsx("span",{children:l?"Generating...":"Download PDF"})]}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-2 rounded-lg transition-colors duration-200",children:v.jsx(Lh,{className:"h-6 w-6"})})]})]}),v.jsxs("div",{className:"p-8",children:[v.jsxs("div",{className:"flex justify-between items-start mb-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"INVOICE"}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Invoice Number: ",v.jsx("span",{className:"font-medium",children:t.invoiceNumber})]}),v.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Date: ",v.jsx("span",{className:"font-medium",children:Dl(t.createdAt)})]}),v.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Due Date: ",v.jsx("span",{className:"font-medium",children:Dl(t.dueDate)})]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-white px-4 py-2 rounded-lg inline-block mb-4",style:{backgroundColor:"#03989e"},children:v.jsx("h2",{className:"text-lg font-bold",children:"Agence de Voyage"})}),v.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.jsx("p",{children:"123 Travel Street"}),v.jsx("p",{children:"New York, NY 10001"}),v.jsx("p",{children:"Phone: (555) 123-4567"}),v.jsx("p",{children:"Email: info@agencedevoyage.com"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center space-x-2",children:[v.jsx(du,{className:"h-5 w-5",style:{color:"#03989e"}}),v.jsx("span",{children:"Bill To:"})]}),v.jsxs("div",{className:"border p-4 rounded-lg",style:{backgroundColor:"#f0fdfc",borderColor:"#99f6e4"},children:[v.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-lg",children:t.client?.name||t.clientName||"Unknown Client"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.client?.email||t.clientEmail||""}),t.client?.phone&&v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.client.phone}),(t.client?.address||t.notes)&&v.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:t.client?.address||""})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Agent & Status:"}),v.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.agentName}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Travel Agent"}),v.jsx("div",{className:"mt-3",children:v.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${vv(t.status)}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})}),i&&v.jsxs("div",{className:"mt-4 p-3 border rounded-lg",style:{backgroundColor:"#f0fdfc",borderColor:"#99f6e4"},children:[v.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"#164e63"},children:"Status Management:"}),v.jsxs("div",{className:"text-xs space-y-1",style:{color:"#155e75"},children:[t.status==="draft"&&v.jsx("p",{children:' Click "Send to Client" when ready to send this invoice'}),t.status==="sent"&&v.jsxs(v.Fragment,{children:[v.jsx("p",{children:' Click "Mark as Paid" when client pays'}),v.jsx("p",{children:' Click "Mark Overdue" if payment is late'})]}),t.status==="overdue"&&v.jsx("p",{children:' Click "Mark as Paid" when client finally pays'}),t.status==="paid"&&v.jsx("p",{children:" Invoice is fully paid - no action needed"})]})]})]})]})]}),v.jsx("div",{className:"mb-8 p-4 border rounded-lg",style:{backgroundColor:"#f0fdfc",borderColor:"#99f6e4"},children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:"#ccfbf1"},children:v.jsx(du,{className:"h-5 w-5",style:{color:"#03989e"}})}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-sm font-medium",style:{color:"#164e63"},children:["Invoice created for client: ",v.jsx("span",{className:"font-bold text-lg",children:t.client?.name||t.clientName||"Unknown"})]}),v.jsxs("p",{className:"text-xs",style:{color:"#155e75"},children:["Agent ",t.agentName||"Unknown Agent"," created this invoice for the above client"]})]})]})}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Services & Items"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[v.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),v.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700 dark:text-gray-300",children:"Qty"}),v.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700 dark:text-gray-300",children:"Unit Price"}),v.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.items.map(b=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:b.description}),v.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white text-center",children:b.quantity}),v.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white text-right",children:Zn(b.unitPrice)}),v.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white text-right",children:Zn(b.total)})]},b.id))})]})})]}),v.jsx("div",{className:"flex justify-end mb-8",children:v.jsx("div",{className:"w-full max-w-sm",children:v.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg",children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),v.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zn(t.subtotal)})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),v.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Zn(t.tax)})]}),v.jsx("div",{className:"border-t dark:border-gray-600 pt-3",children:v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total:"}),v.jsx("span",{className:"text-lg font-bold",style:{color:"#03989e"},children:Zn(t.total)})]})})]})})})}),t.notes&&v.jsxs("div",{className:"mb-8",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Notes"}),v.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:v.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.notes})})]}),v.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 border-t dark:border-gray-700 pt-6",children:[v.jsx("p",{children:"Thank you for choosing Agence de Voyage!"}),v.jsx("p",{children:"For questions about this invoice, please contact us at billing@agencedevoyage.com"})]})]})]})})},Vv=({stats:t,onViewAllInvoices:e})=>{const r=[{title:"Total Revenue",value:Zn(t.totalRevenue),icon:J2,color:"#10b981",bgColor:"#f0fdf4",textColor:"#059669",clickable:!1},{title:"Total Invoices",value:t.totalInvoices.toString(),icon:Mc,color:"#03989e",bgColor:"#f0fdfc",textColor:"#03989e",clickable:!0,onClick:e},{title:"Pending",value:t.pendingInvoices.toString(),icon:uv,color:"#f59e0b",bgColor:"#fffbeb",textColor:"#d97706",clickable:!1},{title:"Paid",value:t.paidInvoices.toString(),icon:ch,color:"#10b981",bgColor:"#f0fdf4",textColor:"#059669",clickable:!1}];return v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:r.map((i,o)=>{const a=i.clickable?"button":"div";return v.jsx(a,{onClick:i.clickable?i.onClick:void 0,className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 transition-all duration-300 ${i.clickable?"hover:shadow-xl hover:scale-105 cursor-pointer transform hover:bg-blue-50 dark:hover:bg-blue-900/20":"hover:shadow-xl"}`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:i.title}),v.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.value}),i.clickable&&v.jsx("p",{className:"text-xs mt-1 font-medium",style:{color:i.textColor},children:"Click to view all"})]}),v.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:i.bgColor},children:v.jsx(i.icon,{className:"h-6 w-6",style:{color:i.textColor}})})]})},o)})})},Zw=({invoices:t,onView:e,onEdit:r,onDelete:i,onBack:o})=>{const[a,l]=J.useState(""),[c,h]=J.useState("all"),[g,w]=J.useState("all"),[b,N]=J.useState("date"),[_,O]=J.useState("desc"),P=hn.useMemo(()=>{let M=t.filter(H=>{const oe=(H.client?.name||"").toLowerCase().includes(a.toLowerCase())||(H.invoiceNumber||"").toLowerCase().includes(a.toLowerCase())||(H.client?.email||"").toLowerCase().includes(a.toLowerCase()),pe=c==="all"||H.status===c,Ee=g==="all"||H.visaStatus===g;return oe&&pe&&Ee});return M.sort((H,oe)=>{let pe=0;switch(b){case"date":pe=new Date(H.createdAt).getTime()-new Date(oe.createdAt).getTime();break;case"amount":pe=H.total-oe.total;break;case"client":pe=(H.client?.name||"").localeCompare(oe.client?.name||"");break}return _==="asc"?pe:-pe}),M},[t,a,c,g,b,_]),R=hn.useMemo(()=>{const M=P.reduce((pe,Ee)=>pe+Ee.total,0),H=P.filter(pe=>pe.status==="paid").reduce((pe,Ee)=>pe+Ee.total,0),oe=P.filter(pe=>pe.status==="sent").reduce((pe,Ee)=>pe+Ee.total,0);return{totalInvoices:P.length,totalAmount:M,paidAmount:H,pendingAmount:oe}},[P]),L=()=>{alert("Export functionality will be implemented soon.")};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("button",{onClick:o,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-colors duration-200",children:[v.jsx(ov,{className:"h-5 w-5"}),v.jsx("span",{children:"Back to Dashboard"})]}),v.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600"}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"All Invoices"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and view all your invoices"})]})]}),v.jsxs("button",{onClick:L,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[v.jsx(Ch,{className:"h-4 w-4"}),v.jsx("span",{children:"Export"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Invoices"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R.totalInvoices})]}),v.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:v.jsx(Mc,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Amount"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Zn(R.totalAmount)})]}),v.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:v.jsx(Rl,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Paid Amount"}),v.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Zn(R.paidAmount)})]}),v.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:v.jsx(Rl,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Amount"}),v.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:Zn(R.pendingAmount)})]}),v.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg",children:v.jsx(Rl,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[v.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[v.jsxs("div",{className:"relative flex-1 max-w-md",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(dp,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:"text",value:a,onChange:M=>l(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Search by client name, invoice number, or email..."})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(dv,{className:"h-5 w-5 text-gray-500"}),v.jsxs("select",{value:c,onChange:M=>h(M.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#03989e] focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[v.jsx("option",{value:"all",children:"  ()"}),v.jsx("option",{value:"draft",children:" (Draft)"}),v.jsx("option",{value:"sent",children:" ( )"}),v.jsx("option",{value:"paid",children:" (Paid)"}),v.jsx("option",{value:"overdue",children:"  "})]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Mc,{className:"h-5 w-5 text-gray-500"}),v.jsxs("select",{value:g,onChange:M=>w(M.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#03989e] focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[v.jsx("option",{value:"all",children:"  "}),v.jsx("option",{value:"Pending",children:"   (Pending)"}),v.jsx("option",{value:"Issued",children:"  (Issued)"})]})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:" :"}),v.jsxs("select",{value:b,onChange:M=>N(M.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#03989e] focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[v.jsx("option",{value:"date",children:""}),v.jsx("option",{value:"amount",children:""}),v.jsx("option",{value:"client",children:" "})]})]}),v.jsx("button",{onClick:()=>O(_==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 text-gray-700 dark:text-gray-300",children:_==="asc"?"":""})]})]}),v.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",P.length," of ",t.length," invoices",a&&` matching "${a}"`,c!=="all"&&` with status "${c}"`]})})]}),v.jsx(mh,{invoices:P,onView:e,onEdit:r,onDelete:i,title:"All Invoices"}),P.length===0&&t.length>0&&v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[v.jsx("div",{className:"text-gray-400 mb-4",children:v.jsx(dp,{className:"mx-auto h-12 w-12"})}),v.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No invoices found"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Try adjusting your search terms or filters to find what you're looking for."}),v.jsx("button",{onClick:()=>{l(""),h("all")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"Clear Filters"})]})]})};function Dh(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}function eb(t,e,r,i){function o(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(w){try{g(i.next(w))}catch(b){l(b)}}function h(w){try{g(i.throw(w))}catch(b){l(b)}}function g(w){w.done?a(w.value):o(w.value).then(c,h)}g((i=i.apply(t,e||[])).next())})}const tb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class s0 extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class rb extends s0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class am extends s0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class om extends s0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ep;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ep||(Ep={}));class nb{constructor(e,{headers:r={},customFetch:i,region:o=Ep.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=tb(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return eb(this,arguments,void 0,function*(r,i={}){var o;let a,l;try{const{headers:c,method:h,body:g,signal:w,timeout:b}=i;let N={},{region:_}=i;_||(_=this.region);const O=new URL(`${this.url}/${r}`);_&&_!=="any"&&(N["x-region"]=_,O.searchParams.set("forceFunctionRegion",_));let P;g&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",P=g):typeof g=="string"?(N["Content-Type"]="text/plain",P=g):typeof FormData<"u"&&g instanceof FormData?P=g:(N["Content-Type"]="application/json",P=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?P=JSON.stringify(g):P=g;let R=w;b&&(l=new AbortController,a=setTimeout(()=>l.abort(),b),w?(R=l.signal,w.addEventListener("abort",()=>l.abort())):R=l.signal);const L=yield this.fetch(O.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),c),body:P,signal:R}).catch(pe=>{throw new rb(pe)}),M=L.headers.get("x-relay-error");if(M&&M==="true")throw new am(L);if(!L.ok)throw new om(L);let H=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),oe;return H==="application/json"?oe=yield L.json():H==="application/octet-stream"||H==="application/pdf"?oe=yield L.blob():H==="text/event-stream"?oe=L:H==="multipart/form-data"?oe=yield L.formData():oe=yield L.text(),{data:oe,error:null,response:L}}catch(c){return{data:null,error:c,response:c instanceof om||c instanceof am?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var ib=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},sb=class{constructor(t){var e,r,i;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(i=t.urlLengthLimit)!==null&&i!==void 0?i:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,h=null,g=a.status,w=a.statusText;if(a.ok){var b,N;if(r.method!=="HEAD"){var _;const L=await a.text();L===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((_=r.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?c=L:c=JSON.parse(L))}const P=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),R=(N=a.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");P&&R&&R.length>1&&(h=parseInt(R[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,g=406,w="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var O;const P=await a.text();try{l=JSON.parse(P),Array.isArray(l)&&a.status===404&&(c=[],l=null,g=200,w="OK")}catch{a.status===404&&P===""?(g=204,w="No Content"):l={message:P}}if(l&&r.isMaybeSingle&&(!(l==null||(O=l.details)===null||O===void 0)&&O.includes("0 rows"))&&(l=null,g=200,w="OK"),l&&r.shouldThrowOnError)throw new ib(l)}return{error:l,data:c,count:h,status:g,statusText:w}});return this.shouldThrowOnError||(o=o.catch(a=>{var l;let c="",h="",g="";const w=a?.cause;if(w){var b,N,_,O;const L=(b=w?.message)!==null&&b!==void 0?b:"",M=(N=w?.code)!==null&&N!==void 0?N:"";c=`${(_=a?.name)!==null&&_!==void 0?_:"FetchError"}: ${a?.message}`,c+=`

Caused by: ${(O=w?.name)!==null&&O!==void 0?O:"Error"}: ${L}`,M&&(c+=` (${M})`),w?.stack&&(c+=`
${w.stack}`)}else{var P;c=(P=a?.stack)!==null&&P!==void 0?P:""}const R=this.url.toString().length;return a?.name==="AbortError"||a?.code==="ABORT_ERR"?(g="",h="Request was aborted (timeout or manual cancellation)",R>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${R} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(w?.name==="HeadersOverflowError"||w?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",h="HTTP headers exceeded server limits (typically 16KB)",R>this.urlLengthLimit&&(h+=`. Your request URL is ${R} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=a?.name)!==null&&l!==void 0?l:"FetchError"}: ${a?.message}`,details:c,hint:h,code:g},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},ab=class extends sb{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${h}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const lm=new RegExp("[,()]");var $u=class extends ab{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&lm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&lm.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},ob=class{constructor(t,{headers:e={},schema:r,fetch:i,urlLengthLimit:o=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:i}=e??{},o=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(g=>/\s/.test(g)&&!a?"":(g==='"'&&(a=!a),g)).join(""),{url:c,headers:h}=this.cloneRequestState();return c.searchParams.set("select",l),i&&h.append("Prefer",`count=${i}`),new $u({method:o,url:c,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),r||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(c.length>0){const h=[...new Set(c)].map(g=>`"${g}"`);a.searchParams.set("columns",h.join(","))}}return new $u({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var a;const l="POST",{url:c,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),i&&h.append("Prefer",`count=${i}`),o||h.append("Prefer","missing=default"),Array.isArray(t)){const g=t.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(g.length>0){const w=[...new Set(g)].map(b=>`"${b}"`);c.searchParams.set("columns",w.join(","))}}return new $u({method:l,url:c,headers:h,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const i="PATCH",{url:o,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new $u({method:i,url:o,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new $u({method:r,url:i,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function lb(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(zc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ub(t){var e=lb(t,"string");return zc(e)=="symbol"?e:e+""}function cb(t,e,r){return(e=ub(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function um(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function Kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?um(Object(r),!0).forEach(function(i){cb(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):um(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var db=class Wv{constructor(e,{headers:r={},schema:i,fetch:o,timeout:a,urlLengthLimit:l=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.urlLengthLimit=l;const c=o??globalThis.fetch;a!==void 0&&a>0?this.fetch=(h,g)=>{const w=new AbortController,b=setTimeout(()=>w.abort(),a),N=g?.signal;if(N){if(N.aborted)return clearTimeout(b),c(h,g);const _=()=>{clearTimeout(b),w.abort()};return N.addEventListener("abort",_,{once:!0}),c(h,Kd(Kd({},g),{},{signal:w.signal})).finally(()=>{clearTimeout(b),N.removeEventListener("abort",_)})}return c(h,Kd(Kd({},g),{},{signal:w.signal})).finally(()=>clearTimeout(b))}:this.fetch=c}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ob(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Wv(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:i=!1,get:o=!1,count:a}={}){var l;let c;const h=new URL(`${this.url}/rpc/${e}`);let g;const w=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(w)),b=i&&Object.values(r).some(w);b?(c="POST",g=r):i||o?(c=i?"HEAD":"GET",Object.entries(r).filter(([_,O])=>O!==void 0).map(([_,O])=>[_,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([_,O])=>{h.searchParams.append(_,O)})):(c="POST",g=r);const N=new Headers(this.headers);return b?N.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&N.set("Prefer",`count=${a}`),new $u({method:c,url:h,headers:N,schema:this.schemaName,body:g,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class hb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const o=i.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fb="2.95.3",pb=`realtime-js/${fb}`,gb="1.0.0",Hv="2.0.0",cm=Hv,Cp=1e4,mb=1e3,vb=100;var Pl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pl||(Pl={}));var pi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pi||(pi={}));var oo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(oo||(oo={}));var Pp;(function(t){t.websocket="websocket"})(Pp||(Pp={}));var ou;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ou||(ou={}));class yb{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,i){var o,a;const l=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",h=(a=e.join_ref)!==null&&a!==void 0?a:"",g=e.payload.event,w=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(w).length===0?"":JSON.stringify(w);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+c.length+l.length+g.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+N);let O=new DataView(_),P=0;O.setUint8(P++,this.KINDS.userBroadcastPush),O.setUint8(P++,h.length),O.setUint8(P++,c.length),O.setUint8(P++,l.length),O.setUint8(P++,g.length),O.setUint8(P++,b.length),O.setUint8(P++,r),Array.from(h,L=>O.setUint8(P++,L.charCodeAt(0))),Array.from(c,L=>O.setUint8(P++,L.charCodeAt(0))),Array.from(l,L=>O.setUint8(P++,L.charCodeAt(0))),Array.from(g,L=>O.setUint8(P++,L.charCodeAt(0))),Array.from(b,L=>O.setUint8(P++,L.charCodeAt(0)));var R=new Uint8Array(_.byteLength+i.byteLength);return R.set(new Uint8Array(_),0),R.set(new Uint8Array(i),_.byteLength),R.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,a,l,c,h]=i;return r({join_ref:o,ref:a,topic:l,event:c,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,i){const o=r.getUint8(1),a=r.getUint8(2),l=r.getUint8(3),c=r.getUint8(4);let h=this.HEADER_LENGTH+4;const g=i.decode(e.slice(h,h+o));h=h+o;const w=i.decode(e.slice(h,h+a));h=h+a;const b=i.decode(e.slice(h,h+l));h=h+l;const N=e.slice(h,e.byteLength),_=c===this.JSON_ENCODING?JSON.parse(i.decode(N)):N,O={type:this.BROADCAST_EVENT,event:w,payload:_};return l>0&&(O.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class Kv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wn||(wn={}));const dm=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=wb(l,t,e,o),a),{}):{}},wb=(t,e,r,i)=>{const o=e.find(c=>c.name===t),a=o?.type,l=r[t];return a&&!i.includes(a)?Gv(a,l):Lp(l)},Gv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return kb(e,r)}switch(t){case wn.bool:return bb(e);case wn.float4:case wn.float8:case wn.int2:case wn.int4:case wn.int8:case wn.numeric:case wn.oid:return xb(e);case wn.json:case wn.jsonb:return _b(e);case wn.timestamp:return Sb(e);case wn.abstime:case wn.date:case wn.daterange:case wn.int4range:case wn.int8range:case wn.money:case wn.reltime:case wn.text:case wn.time:case wn.timestamptz:case wn.timetz:case wn.tsrange:case wn.tstzrange:return Lp(e);default:return Lp(e)}},Lp=t=>t,bb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_b=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},kb=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let a;const l=t.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Gv(e,c))}return t},Sb=t=>typeof t=="string"?t.replace(" ","T"):t,Jv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qf{constructor(e,r,i={},o=Cp){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(hm||(hm={}));class Ic{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ic.syncState(this.state,o,a,l),this.pendingDiffs.forEach(h=>{this.state=Ic.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ic.syncDiff(this.state,o,a,l),c())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const a=this.cloneDeep(e),l=this.transformState(r),c={},h={};return this.map(a,(g,w)=>{l[g]||(h[g]=w)}),this.map(l,(g,w)=>{const b=a[g];if(b){const N=w.map(R=>R.presence_ref),_=b.map(R=>R.presence_ref),O=w.filter(R=>_.indexOf(R.presence_ref)<0),P=b.filter(R=>N.indexOf(R.presence_ref)<0);O.length>0&&(c[g]=O),P.length>0&&(h[g]=P)}else c[g]=w}),this.syncDiff(a,{joins:c,leaves:h},i,o)}static syncDiff(e,r,i,o){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(c,h)=>{var g;const w=(g=e[c])!==null&&g!==void 0?g:[];if(e[c]=this.cloneDeep(h),w.length>0){const b=e[c].map(_=>_.presence_ref),N=w.filter(_=>b.indexOf(_.presence_ref)<0);e[c].unshift(...N)}i(c,w,h)}),this.map(l,(c,h)=>{let g=e[c];if(!g)return;const w=h.map(b=>b.presence_ref);g=g.filter(b=>w.indexOf(b.presence_ref)<0),e[c]=g,o(c,g,h),g.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fm||(fm={}));var Oc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Oc||(Oc={}));var Zo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zo||(Zo={}));class Ku{constructor(e,r={config:{}},i){var o,a;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=pi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qf(this,oo.join,this.params,this.timeout),this.rejoinTimer=new Kv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pi.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Ic(this),this.broadcastEndpointURL=Jv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pi.closed){const{config:{broadcast:l,presence:c,private:h}}=this.params,g=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],w=!!this.bindings[Oc.PRESENCE]&&this.bindings[Oc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,b={},N={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:w}),postgres_changes:g,private:h};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(Zo.CHANNEL_ERROR,_)),this._onClose(()=>e?.(Zo.CLOSED)),this.updateJoinPayload(Object.assign({config:N},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(Zo.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,R=(O=P?.length)!==null&&O!==void 0?O:0,L=[];for(let M=0;M<R;M++){const H=P[M],{filter:{event:oe,schema:pe,table:Ee,filter:ce}}=H,G=_&&_[M];if(G&&G.event===oe&&Ku.isFilterValueEqual(G.schema,pe)&&Ku.isFilterValueEqual(G.table,Ee)&&Ku.isFilterValueEqual(G.filter,ce))L.push(Object.assign(Object.assign({},H),{id:G.id}));else{this.unsubscribe(),this.state=pi.errored,e?.(Zo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(Zo.SUBSCRIBED);return}}).receive("error",_=>{this.state=pi.errored,e?.(Zo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(Zo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===pi.joined&&e===Oc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let h=c.statusText;try{const g=await c.json();h=g.error||g.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,h;const g=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),g.receive("ok",()=>a("ok")),g.receive("error",()=>a("error")),g.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Qf(this,oo.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pi.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),l}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Qf(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>vb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,a;const l=e.toLocaleLowerCase(),{close:c,error:h,leave:g,join:w}=oo;if(i&&[c,h,g,w].indexOf(l)>=0&&i!==this._joinRef())return;let N=this._onMessage(l,r,i);if(r&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var O,P,R;return((O=_.filter)===null||O===void 0?void 0:O.event)==="*"||((R=(P=_.filter)===null||P===void 0?void 0:P.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===l}).map(_=>_.callback(N,i)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var O,P,R,L,M,H;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const oe=_.id,pe=(O=_.filter)===null||O===void 0?void 0:O.event;return oe&&((P=r.ids)===null||P===void 0?void 0:P.includes(oe))&&(pe==="*"||pe?.toLocaleLowerCase()===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const oe=(M=(L=_?.filter)===null||L===void 0?void 0:L.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return oe==="*"||oe===((H=r?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof N=="object"&&"ids"in N){const O=N.data,{schema:P,table:R,commit_timestamp:L,type:M,errors:H}=O;N=Object.assign(Object.assign({},{schema:P,table:R,commit_timestamp:L,eventType:M,new:{},old:{},errors:H}),this._getPayloadRecords(O))}_.callback(N,i)})}_isClosed(){return this.state===pi.closed}_isJoined(){return this.state===pi.joined}_isJoining(){return this.state===pi.joining}_isLeaving(){return this.state===pi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),a={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Ku.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oo.close,{},e)}_onError(e){this._on(oo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=dm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=dm(e.columns,e.old_record)),r}}const Zf=()=>{},Gd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nb=[1e3,2e3,5e3,1e4],Ab=1e4,jb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eb{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cp,this.transport=null,this.heartbeatIntervalMs=Gd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zf,this.ref=0,this.reconnectTimer=null,this.vsn=cm,this.logger=Zf,this.conn=null,this.sendBuffer=[],this.serializer=new yb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Pp.websocket}`,this.httpEndpoint=Jv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return ou.Connecting;case Pl.open:return ou.Open;case Pl.closing:return ou.Closing;default:return ou.Closed}}isConnected(){return this.connectionState()===ou.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new Ku(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:i,payload:o,ref:a}=e,l=()=>{this.encode(e,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${r} ${i} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(mb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",g)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:a,ref:l}=r,c=l?`(${l})`:"",h=a.status||"";this.log("receive",`${h} ${i} ${o} ${c}`.trim(),a),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(o,a,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Pl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pl.open||this.conn.readyState===Pl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(oo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([jb],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const a={access_token:r,version:pb};r&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(oo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Kv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,a,l,c,h,g,w,b,N,_;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Cp,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Gd.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:Zf,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:cm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:O=>Nb[O-1]||Ab,this.vsn){case gb:this.encode=(w=e?.encode)!==null&&w!==void 0?w:(O,P)=>P(JSON.stringify(O)),this.decode=(b=e?.decode)!==null&&b!==void 0?b:(O,P)=>P(JSON.parse(O));break;case Hv:this.encode=(N=e?.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var $c=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Cb(t,e,r){const i=new URL(e,t);if(r)for(const[o,a]of Object.entries(r))a!==void 0&&i.searchParams.set(o,a);return i.toString()}async function Pb(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Lb(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:a,headers:l}){const c=Cb(t.baseUrl,i,o),h=await Pb(t.auth),g=await e(c,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...h,...l},body:a?JSON.stringify(a):void 0}),w=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),N=b&&w?JSON.parse(w):w;if(!g.ok){const _=b?N:void 0,O=_?.error;throw new $c(O?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:O?.type,icebergCode:O?.code,details:_})}return{status:g.status,headers:g.headers,data:N}}}}function Jd(t){return t.join("")}var Ib=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Jd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jd(t.namespace)}`}),!0}catch(e){if(e instanceof $c&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof $c&&r.status===409)return;throw r}}};function Ru(t){return t.join("")}var Ob=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ru(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ru(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ru(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ru(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ru(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ru(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof $c&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof $c&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Tb=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Lb({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Ib(this.client,e),this.tableOps=new Ob(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Fh=class extends Error{constructor(t,e="storage",r,i){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function Mh(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Yd=class extends Fh{constructor(t,e,r,i="storage"){super(t,i,e,r),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yv=class extends Fh{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Rb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Db=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ip=t=>{if(Array.isArray(t))return t.map(r=>Ip(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Ip(i)}),e},Fb=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Mb(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Vc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bb(t){var e=Mb(t,"string");return Vc(e)=="symbol"?e:e+""}function qb(t,e,r){return(e=Bb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pm(Object(r),!0).forEach(function(i){qb(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pm(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const gm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Ub=async(t,e,r,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const o=t,a=o.status||500;if(typeof o.json=="function")o.json().then(l=>{const c=l?.statusCode||l?.code||a+"";e(new Yd(gm(l),a,c,i))}).catch(()=>{if(i==="vectors"){const l=a+"";e(new Yd(o.statusText||`HTTP ${a} error`,a,l,i))}else{const l=a+"";e(new Yd(o.statusText||`HTTP ${a} error`,a,l,i))}});else{const l=a+"";e(new Yd(o.statusText||`HTTP ${a} error`,a,l,i))}}else e(new Yv(gm(t),t,i))},zb=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!i?ur(ur({},o),r):(Db(i)?(o.headers=ur({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),ur(ur({},o),r))};async function jc(t,e,r,i,o,a,l){return new Promise((c,h)=>{t(r,zb(e,i,o,a)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;if(l==="vectors"){const w=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!w||!w.includes("application/json"))return{}}return g.json()}).then(g=>c(g)).catch(g=>Ub(g,h,i,l))})}function Xv(t="storage"){return{get:async(e,r,i,o)=>jc(e,"GET",r,i,o,void 0,t),post:async(e,r,i,o,a)=>jc(e,"POST",r,o,a,i,t),put:async(e,r,i,o,a)=>jc(e,"PUT",r,o,a,i,t),head:async(e,r,i,o)=>jc(e,"HEAD",r,ur(ur({},i),{},{noResolveJson:!0}),o,void 0,t),remove:async(e,r,i,o,a)=>jc(e,"DELETE",r,o,a,i,t)}}const $b=Xv("storage"),{get:Wc,post:ao,put:Op,head:Vb,remove:a0}=$b,ca=Xv("vectors");var nc=class{constructor(t,e={},r,i="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Rb(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Mh(r))return{data:null,error:r};throw r}}},Wb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Mh(e))return{data:null,error:e};throw e}}};let Qv;Qv=Symbol.toStringTag;var Hb=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Qv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Wb(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Mh(e))return{data:null,error:e};throw e}}};const Kb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Gb=class extends nc{constructor(t,e={},r,i){super(t,e,i,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,i){var o=this;return o.handleOperation(async()=>{let a;const l=ur(ur({},mm),i);let c=ur(ur({},o.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",o.encodeMetadata(h)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),h&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(h))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,h&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(c=ur(ur({},c),i.headers));const g=o._removeEmptyFolders(e),w=o._getFinalPath(g),b=await(t=="PUT"?Op:ao)(o.fetch,`${o.url}/object/${w}`,a,ur({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var o=this;const a=o._removeEmptyFolders(t),l=o._getFinalPath(a),c=new URL(o.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",e),o.handleOperation(async()=>{let h;const g=ur({upsert:mm.upsert},i),w=ur(ur({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",g.cacheControl)):(h=r,w["cache-control"]=`max-age=${g.cacheControl}`,w["content-type"]=g.contentType),{path:a,fullPath:(await Op(o.fetch,c.toString(),h,{headers:w})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t);const o=ur({},r.headers);e?.upsert&&(o["x-upsert"]="true");const a=await ao(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:o}),l=new URL(r.url+a.url),c=l.searchParams.get("token");if(!c)throw new Fh("No token returned by API");return{signedUrl:l.toString(),path:t,token:c}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;return i.handleOperation(async()=>await ao(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers}))}async copy(t,e,r){var i=this;return i.handleOperation(async()=>({path:(await ao(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(t,e,r){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(t),a=await ao(i.fetch,`${i.url}/object/sign/${o}`,ur({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${a.signedURL}${l}`)}})}async createSignedUrls(t,e,r){var i=this;return i.handleOperation(async()=>{const o=await ao(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(l=>ur(ur({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${a}`):null}))})}download(t,e,r){const i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),a=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>Wc(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0},r);return new Hb(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Ip(await Wc(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Vb(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Mh(i)&&i instanceof Yv){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await a0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var i=this;return i.handleOperation(async()=>{const o=ur(ur(ur({},Kb),e),{},{prefix:t||""});return await ao(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const i=ur({},t);return await ao(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Jb="2.95.3",rd={"X-Client-Info":`storage-js/${Jb}`};var Yb=class extends nc{constructor(t,e={},r,i){const o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const a=o.href.replace(/\/$/,""),l=ur(ur({},rd),e);super(a,l,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Wc(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Wc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await ao(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Op(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await ao(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await a0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Xb=class extends nc{constructor(t,e={},r){const i=t.replace(/\/$/,""),o=ur(ur({},rd),e);super(i,o,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ao(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const i=r.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await Wc(e.fetch,o,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await a0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Fb(t))throw new Fh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Tb({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(o,a){const l=o[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(o,c),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}},Qb=class extends nc{constructor(t,e={},r){const i=t.replace(/\/$/,""),o=ur(ur({},rd),{},{"Content-Type":"application/json"},e);super(i,o,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await ca.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await ca.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},Zb=class extends nc{constructor(t,e={},r){const i=t.replace(/\/$/,""),o=ur(ur({},rd),{},{"Content-Type":"application/json"},e);super(i,o,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},ex=class extends nc{constructor(t,e={},r){const i=t.replace(/\/$/,""),o=ur(ur({},rd),{},{"Content-Type":"application/json"},e);super(i,o,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},tx=class extends ex{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new rx(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},rx=class extends Qb{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new nx(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},nx=class extends Zb{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},ix=class extends Yb{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new Gb(this.url,this.headers,t,this.fetch)}get vectors(){return new tx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xb(this.url+"/iceberg",this.headers,this.fetch)}};const Zv="2.95.3",Vu=30*1e3,Tp=3,ep=Tp*Vu,sx="http://localhost:9999",ax="supabase.auth.token",ox={"X-Client-Info":`gotrue-js/${Zv}`},Rp="X-Supabase-Api-Version",e1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ux=10*60*1e3;class Hc extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Kt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cx extends Hc{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function dx(t){return Kt(t)&&t.name==="AuthApiError"}class lu extends Hc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class al extends Hc{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class la extends al{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tp(t){return Kt(t)&&t.name==="AuthSessionMissingError"}class Du extends al{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xd extends al{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qd extends al{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hx(t){return Kt(t)&&t.name==="AuthImplicitGrantRedirectError"}class vm extends al{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fx extends al{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Dp extends al{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function rp(t){return Kt(t)&&t.name==="AuthRetryableFetchError"}class ym extends al{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Fp extends al{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wm=` 	
\r=`.split(""),px=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wm.length;e+=1)t[wm[e].charCodeAt(0)]=-2;for(let e=0;e<vh.length;e+=1)t[vh[e].charCodeAt(0)]=e;return t})();function bm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(vh[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(vh[i]),e.queuedBits-=6}}function t1(t,e,r){const i=px[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xm(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{vx(l,i,r)};for(let l=0;l<t.length;l+=1)t1(t.charCodeAt(l),o,a);return e.join("")}function gx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mx(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}gx(i,e)}}function vx(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Qu(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)t1(t.charCodeAt(o),r,i);return new Uint8Array(e)}function yx(t){const e=[];return mx(t,r=>e.push(r)),new Uint8Array(e)}function uu(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>bm(o,r,i)),bm(null,r,i),e.join("")}function wx(t){return Math.round(Date.now()/1e3)+t}function bx(){return Symbol("auth-callback")}const Ui=()=>typeof window<"u"&&typeof document<"u",ru={tested:!1,writable:!1},r1=()=>{if(!Ui())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ru.tested)return ru.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ru.tested=!0,ru.writable=!0}catch{ru.tested=!0,ru.writable=!1}return ru.writable};function xx(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const n1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_x=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},nu=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qi=async(t,e)=>{await t.removeItem(e)};class Bh{constructor(){this.promise=new Bh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Bh.promiseConstructor=Promise;function Zd(t){const e=t.split(".");if(e.length!==3)throw new Fp("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!lx.test(e[i]))throw new Fp("JWT not in base64url format");return{header:JSON.parse(xm(e[0])),payload:JSON.parse(xm(e[1])),signature:Qu(e[2]),raw:{header:e[0],payload:e[1]}}}async function kx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Sx(t,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){i(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function Nx(t){return("0"+t.toString(16)).substr(-2)}function Ax(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,Nx).join("")}async function jx(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function Ex(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await jx(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fu(t,e,r=!1){const i=Ax();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await Wu(t,`${e}-code-verifier`,o);const a=await Ex(i);return[a,i===a?"plain":"s256"]}const Cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Px(t){const e=t.headers.get(Rp);if(!e||!e.match(Cx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Lx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ix(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ox=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mu(t){if(!Ox.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function np(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tx(t,e){return new Proxy(t,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function _m(t){return JSON.parse(JSON.stringify(t))}const su=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rx=[502,503,504];async function km(t){var e;if(!_x(t))throw new Dp(su(t),0);if(Rx.includes(t.status))throw new Dp(su(t),t.status);let r;try{r=await t.json()}catch(a){throw new lu(su(a),a)}let i;const o=Px(t);if(o&&o.getTime()>=e1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new ym(su(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new la}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new ym(su(r),t.status,r.weak_password.reasons);throw new cx(su(r),t.status||500,i)}const Dx=(t,e,r,i)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function or(t,e,r,i){var o;const a=Object.assign({},i?.headers);a[Rp]||(a[Rp]=e1["2024-01-01"].name),i?.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await Fx(t,e,r+c,{headers:a,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function Fx(t,e,r,i,o,a){const l=Dx(e,i,o,a);let c;try{c=await t(r,Object.assign({},l))}catch(h){throw console.error(h),new Dp(su(h),0)}if(c.ok||await km(c),i?.noResolveJson)return c;try{return await c.json()}catch(h){await km(h)}}function io(t){var e;let r=null;qx(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=wx(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Sm(t){const e=io(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ol(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Mx(t){return{data:t,error:null}}function Bx(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:a}=t,l=Dh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:a},h=Object.assign({},l);return{data:{properties:c,user:h},error:null}}function Nm(t){return t}function qx(t){return t.access_token&&t.refresh_token&&t.expires_in}const ip=["global","local","others"];class Ux{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=n1(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ip[0]){if(ip.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ip.join(", ")}`);try{return await or(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await or(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ol})}catch(i){if(Kt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Dh(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await or(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Bx,redirectTo:r?.redirectTo})}catch(r){if(Kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await or(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ol})}catch(r){if(Kt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,a,l,c,h;try{const g={nextPage:null,lastPage:0,total:0},w=await or(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Nm});if(w.error)throw w.error;const b=await w.json(),N=(l=w.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(c=w.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(O=>{const P=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(O.split(";")[1].split("=")[1]);g[`${R}Page`]=P}),g.total=parseInt(N)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Kt(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Mu(e);try{return await or(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ol})}catch(r){if(Kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Mu(e);try{return await or(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ol})}catch(i){if(Kt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Mu(e);try{return await or(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ol})}catch(i){if(Kt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Mu(e.userId);try{const{data:r,error:i}=await or(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Mu(e.userId),Mu(e.id);try{return{data:await or(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,a,l,c,h;try{const g={nextPage:null,lastPage:0,total:0},w=await or(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Nm});if(w.error)throw w.error;const b=await w.json(),N=(l=w.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(c=w.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(O=>{const P=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(O.split(";")[1].split("=")[1]);g[`${R}Page`]=P}),g.total=parseInt(N)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Kt(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await or(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await or(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await or(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Kt(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await or(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await or(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Kt(r))return{data:null,error:r};throw r}}}function Am(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Bu={debug:!!(globalThis&&r1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zx extends i1{}async function $x(t,e,r){Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Vx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function s1(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Wx(t){return parseInt(t,16)}function Hx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Kx(t){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:h,resources:g,scheme:w,uri:b,version:N}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=s1(t.address),O=w?`${w}://${i}`:i,P=t.statement?`${t.statement}
`:"",R=`${O} wants you to sign in with your Ethereum account:
${_}

${P}`;let L=`URI: ${b}
Version: ${N}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),c&&(L+=`
Not Before: ${c.toISOString()}`),h&&(L+=`
Request ID: ${h}`),g){let M=`
Resources:`;for(const H of g){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);M+=`
- ${H}`}L+=M}return`${R}
${L}`}class ai extends Error{constructor({message:e,code:r,cause:i,name:o}){var a;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=o??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class yh extends ai{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Gx({error:t,options:e}){var r,i,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ai({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ai({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ai({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ai({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ai({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ai({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new ai({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ai({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(a1(l)){if(a.rp.id!==l)return new ai({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ai({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ai({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ai({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ai({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Jx({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ai({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ai({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(a1(i)){if(r.rpId!==i)return new ai({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ai({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ai({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ai({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Yx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Xx=new Yx;function Qx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,o=Dh(t,["challenge","user","excludeCredentials"]),a=Qu(e).buffer,l=Object.assign(Object.assign({},r),{id:Qu(r.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:a,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const g=i[h];c.excludeCredentials[h]=Object.assign(Object.assign({},g),{id:Qu(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return c}function Zx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=Dh(t,["challenge","allowCredentials"]),o=Qu(e).buffer,a=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Qu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function e3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:uu(new Uint8Array(t.response.attestationObject)),clientDataJSON:uu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function t3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:uu(new Uint8Array(o.authenticatorData)),clientDataJSON:uu(new Uint8Array(o.clientDataJSON)),signature:uu(new Uint8Array(o.signature)),userHandle:o.userHandle?uu(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a1(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function jm(){var t,e;return!!(Ui()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function r3(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yh("Browser returned unexpected credential type",e)}:{data:null,error:new yh("Empty credential response",e)}}catch(e){return{data:null,error:Gx({error:e,options:t})}}}async function n3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yh("Browser returned unexpected credential type",e)}:{data:null,error:new yh("Empty credential response",e)}}catch(e){return{data:null,error:Jx({error:e,options:t})}}}const i3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},s3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wh(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))i[a]=l;else if(r(l))i[a]=l;else if(e(l)){const c=i[a];e(c)?i[a]=wh(c,l):i[a]=wh(l)}else i[a]=l}return i}function a3(t,e){return wh(i3,t,e||{})}function o3(t,e){return wh(s3,t,e||{})}class l3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},a){var l;try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:h};const g=o??Xx.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:w}=c.webauthn.credential_options.publicKey;if(!w.name){const b=i;if(b)w.name=`${w.id}:${b}`;else{const _=(await this.client.getUser()).data.user,O=((l=_?.user_metadata)===null||l===void 0?void 0:l.name)||_?.email||_?.id||"User";w.name=`${w.id}:${O}`}}w.displayName||(w.displayName=w.name)}switch(c.webauthn.type){case"create":{const w=a3(c.webauthn.credential_options.publicKey,a?.create),{data:b,error:N}=await r3({publicKey:w,signal:g});return b?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:b}},error:null}:{data:null,error:N}}case"request":{const w=o3(c.webauthn.credential_options.publicKey,a?.request),{data:b,error:N}=await n3(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:w,signal:g}));return b?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:b}},error:null}:{data:null,error:N}}}}catch(c){return Kt(c)?{data:null,error:c}:{data:null,error:new lu("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new Hc("rpId is required for WebAuthn authentication")};try{if(!jm())return{data:null,error:new lu("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:a});if(!l)return{data:null,error:c};const{webauthn:h}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(l){return Kt(l)?{data:null,error:l}:{data:null,error:new lu("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!r)return{data:null,error:new Hc("rpId is required for WebAuthn registration")};try{if(!jm())return{data:null,error:new lu("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(w=>{var b;return(b=w.data)===null||b===void 0?void 0:b.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===e&&N.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:c};const{data:h,error:g}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:a});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:g}}catch(l){return Kt(l)?{data:null,error:l}:{data:null,error:new lu("Unexpected error in register",l)}}}}Vx();const u3={url:sx,storageKey:ax,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ox,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Em(t,e,r){return await r()}const qu={};class Kc{get jwks(){var e,r;return(r=(e=qu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){qu[this.storageKey]=Object.assign(Object.assign({},qu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=qu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){qu[this.storageKey]=Object.assign(Object.assign({},qu[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},u3),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Kc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Kc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ui()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ux({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=n1(a.fetch),this.lock=a.lock||Em,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Ui()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=$x:this.lock=Em,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:r1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Am(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Am(this.memoryStorage)),Ui()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(Ui()&&(r=xx(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ui()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),hx(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Kt(r)?this._returnResult({error:r}):this._returnResult({error:new lu("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const a=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:io}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const h=l.session,g=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(a){if(Kt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,i,o;try{let a;if("email"in e){const{email:w,password:b,options:N}=e;let _=null,O=null;this.flowType==="pkce"&&([_,O]=await Fu(this.storage,this.storageKey)),a=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:w,password:b,data:(r=N?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:_,code_challenge_method:O},xform:io})}else if("phone"in e){const{phone:w,password:b,options:N}=e;a=await or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:b,data:(i=N?.data)!==null&&i!==void 0?i:{},channel:(o=N?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:io})}else throw new Xd("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await qi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const h=l.session,g=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(a){if(await qi(this.storage,`${this.storageKey}-code-verifier`),Kt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:l,options:c}=e;r=await or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Sm})}else if("phone"in e){const{phone:a,password:l,options:c}=e;r=await or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Sm})}else throw new Xd("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const a=new Du;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(Kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,a,l,c,h,g,w,b,N;let _,O;if("message"in e)_=e.message,O=e.signature;else{const{chain:P,wallet:R,statement:L,options:M}=e;let H;if(Ui())if(typeof R=="object")H=R;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")H=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=R}const oe=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href),pe=await H.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!pe||pe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Ee=s1(pe[0]);let ce=(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!ce){const he=await H.request({method:"eth_chainId"});ce=Wx(he)}const G={domain:oe.host,address:Ee,statement:L,uri:oe.href,version:"1",chainId:ce,nonce:(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(g=M?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(w=M?.signInWithEthereum)===null||w===void 0?void 0:w.resources};_=Kx(G),O=await H.request({method:"personal_sign",params:[Hx(_),Ee]})}try{const{data:P,error:R}=await or(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:O},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:io});if(R)throw R;if(!P||!P.session||!P.user){const L=new Du;return this._returnResult({data:{user:null,session:null},error:L})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:R})}catch(P){if(Kt(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(e){var r,i,o,a,l,c,h,g,w,b,N,_;let O,P;if("message"in e)O=e.message,P=e.signature;else{const{chain:R,wallet:L,statement:M,options:H}=e;let oe;if(Ui())if(typeof L=="object")oe=L;else{const Ee=window;if("solana"in Ee&&typeof Ee.solana=="object"&&("signIn"in Ee.solana&&typeof Ee.solana.signIn=="function"||"signMessage"in Ee.solana&&typeof Ee.solana.signMessage=="function"))oe=Ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");oe=L}const pe=new URL((r=H?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in oe&&oe.signIn){const Ee=await oe.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:pe.host,uri:pe.href}),M?{statement:M}:null));let ce;if(Array.isArray(Ee)&&Ee[0]&&typeof Ee[0]=="object")ce=Ee[0];else if(Ee&&typeof Ee=="object"&&"signedMessage"in Ee&&"signature"in Ee)ce=Ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)O=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),P=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in oe)||typeof oe.signMessage!="function"||!("publicKey"in oe)||typeof oe!="object"||!oe.publicKey||!("toBase58"in oe.publicKey)||typeof oe.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${pe.host} wants you to sign in with your Solana account:`,oe.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${pe.href}`,`Issued At: ${(o=(i=H?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=H?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((l=H?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((c=H?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((h=H?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((b=(w=H?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||b===void 0)&&b.length?["Resources",...H.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const Ee=await oe.signMessage(new TextEncoder().encode(O),"utf8");if(!Ee||!(Ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=Ee}}try{const{data:R,error:L}=await or(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:uu(P)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:io});if(L)throw L;if(!R||!R.session||!R.user){const M=new Du;return this._returnResult({data:{user:null,session:null},error:M})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:L})}catch(R){if(Kt(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(e){const r=await nu(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new fx;const{data:a,error:l}=await or(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:io});if(await qi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new Du;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(await qi(this.storage,`${this.storageKey}-code-verifier`),Kt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:a,nonce:l}=e,c=await or(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:io}),{data:h,error:g}=c;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h||!h.session||!h.user){const w=new Du;return this._returnResult({data:{user:null,session:null},error:w})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:g})}catch(r){if(Kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,o,a,l;try{if("email"in e){const{email:c,options:h}=e;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Fu(this.storage,this.storageKey));const{error:b}=await or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:w},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:c,options:h}=e,{data:g,error:w}=await or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(l=h?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:w})}throw new Xd("You must provide either an email or phone number.")}catch(c){if(await qi(this.storage,`${this.storageKey}-code-verifier`),Kt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,i;try{let o,a;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await or(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:io});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,g=l.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(o){if(Kt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,i,o,a,l;try{let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Fu(this.storage,this.storageKey));const g=await or(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:Mx});return!((a=g.data)===null||a===void 0)&&a.url&&Ui()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(c){if(await qi(this.storage,`${this.storageKey}-code-verifier`),Kt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new la;const{error:o}=await or(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Kt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:l}=await or(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:l,error:c}=await or(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new Xd("You must provide either an email or phone number and a type")}catch(r){if(Kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await nu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ep:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await nu(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=np()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=Tx(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ol}):await this._useSession(async r=>{var i,o,a;const{data:l,error:c}=r;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Ol})})}catch(r){if(Kt(r))return tp(r)&&(await this._removeSession(),await qi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new la;const l=o.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=await Fu(this.storage,this.storageKey));const{data:g,error:w}=await or(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:Ol});if(w)throw w;return l.user=g.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await qi(this.storage,`${this.storageKey}-code-verifier`),Kt(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new la;const r=Date.now()/1e3;let i=r,o=!0,a=null;const{payload:l}=Zd(e.access_token);if(l.exp&&(i=l.exp,o=i<=r),o){const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Kt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:l,error:c}=r;if(c)throw c;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new la;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ui())throw new Qd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vm("No code detected.");const{data:M,error:H}=await this._exchangeCodeForSession(e.code);if(H)throw H;const oe=new URL(window.location.href);return oe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",oe.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:c,expires_at:h,token_type:g}=e;if(!a||!c||!l||!g)throw new Qd("No session defined in URL");const w=Math.round(Date.now()/1e3),b=parseInt(c);let N=w+b;h&&(N=parseInt(h));const _=N-w;_*1e3<=Vu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const O=N-b;w-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,N,w):w-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,N,w);const{data:P,error:R}=await this._getUser(a);if(R)throw R;const L={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:b,expires_at:N,refresh_token:l,token_type:g,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(i){if(Kt(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await nu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:a}=r;if(a&&!tp(a))return this._returnResult({error:a});const l=(i=o.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(dx(c)&&(c.status===404||c.status===401||c.status===403)||tp(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await qi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=bx(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:a},error:l}=r;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Fu(this.storage,this.storageKey,!0));try{return await or(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await qi(this.storage,`${this.storageKey}-code-verifier`),Kt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async a=>{var l,c,h,g,w;const{data:b,error:N}=a;if(N)throw N;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await or(this.fetch,"GET",_,{headers:this.headers,jwt:(w=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&w!==void 0?w:void 0})});if(o)throw o;return Ui()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(Kt(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:l,provider:c,token:h,access_token:g,nonce:w}=e,b=await or(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:h,access_token:g,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:io}),{data:N,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Du}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:_}))}catch(o){if(await qi(this.storage,`${this.storageKey}-code-verifier`),Kt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:a,error:l}=r;if(l)throw l;return await or(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Sx(async o=>(o>0&&await kx(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await or(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:io})),(o,a)=>{const l=200*Math.pow(2,o);return a&&rp(a)&&Date.now()+l-i<Vu})}catch(i){if(this._debug(r,"error",i),Kt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Ui()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await nu(this.storage,this.storageKey);if(o&&this.userStorage){let l=await nu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await Wu(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l?.user)!==null&&e!==void 0?e:np()}else if(o&&!o.user&&!o.user){const l=await nu(this.storage,this.storageKey+"-user");l&&l?.user?(o.user=l.user,await qi(this.storage,this.storageKey+"-user"),await Wu(this.storage,this.storageKey,o)):o.user=np()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ep;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${ep}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),rp(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(o.access_token);!c&&l?.user?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Bh;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new la;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),Kt(a)){const l={data:null,error:a};return rp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qi(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Wu(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=_m(o);await Wu(this.storage,this.storageKey,a)}else{const o=_m(r);await Wu(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qi(this.storage,this.storageKey),await qi(this.storage,this.storageKey+"-code-verifier"),await qi(this.storage,this.storageKey+"-user"),this.userStorage&&await qi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ui()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Vu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Vu}ms, refresh threshold is ${Tp} ticks`),o<=Tp&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof i1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ui()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await Fu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:a}=r;return a?this._returnResult({data:null,error:a}):await or(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:g}=await or(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?e3(e.webauthn.credential_response):t3(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:h}=await or(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:h}))})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=await or(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Qx(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Zx(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,i,o,a;if(e)try{const{payload:_}=Zd(e);let O=null;_.aal&&(O=_.aal);let P=O;const{data:{user:R},error:L}=await this.getUser(e);if(L)return this._returnResult({data:null,error:L});((i=(r=R?.factors)===null||r===void 0?void 0:r.filter(oe=>oe.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(P="aal2");const H=_.amr||[];return{data:{currentLevel:O,nextLevel:P,currentAuthenticationMethods:H},error:null}}catch(_){if(Kt(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Zd(l.access_token);let g=null;h.aal&&(g=h.aal);let w=g;((a=(o=l.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(w="aal2");const N=h.amr||[];return{data:{currentLevel:g,nextLevel:w,currentAuthenticationMethods:N},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await or(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new la})})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new la});const l=await or(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Ui()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Kt(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new la});const l=await or(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Ui()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(Kt(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await or(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new la})})}catch(e){if(Kt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await or(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new la})})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(c=>c.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+ux>o)return i;const{data:a,error:l}=await or(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:_,error:O}=await this.getSession();if(O||!_.session)return this._returnResult({data:null,error:O});i=_.session.access_token}const{header:o,payload:a,signature:l,raw:{header:c,payload:h}}=Zd(i);r?.allowExpired||Lx(a.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:a,header:o,signature:l},error:null}}const w=Ix(o.alg),b=await crypto.subtle.importKey("jwk",g,w,!0,["verify"]);if(!await crypto.subtle.verify(w,b,l,yx(`${c}.${h}`)))throw new Fp("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(i){if(Kt(i))return this._returnResult({data:null,error:i});throw i}}}Kc.nextInstanceID={};const c3=Kc,d3="2.95.3";let Pc="";typeof Deno<"u"?Pc="deno":typeof document<"u"?Pc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pc="react-native":Pc="node";const h3={"X-Client-Info":`supabase-js-${Pc}/${d3}`},f3={headers:h3},p3={schema:"public"},g3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m3={};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function v3(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Gc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y3(t){var e=v3(t,"string");return Gc(e)=="symbol"?e:e+""}function w3(t,e,r){return(e=y3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cm(Object(r),!0).forEach(function(i){w3(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cm(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const b3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),x3=()=>Headers,_3=(t,e,r)=>{const i=b3(r),o=x3();return async(a,l)=>{var c;const h=(c=await e())!==null&&c!==void 0?c:t;let g=new o(l?.headers);return g.has("apikey")||g.set("apikey",t),g.has("Authorization")||g.set("Authorization",`Bearer ${h}`),i(a,Bn(Bn({},l),{},{headers:g}))}};function k3(t){return t.endsWith("/")?t:t+"/"}function S3(t,e){var r,i;const{db:o,auth:a,realtime:l,global:c}=t,{db:h,auth:g,realtime:w,global:b}=e,N={db:Bn(Bn({},h),o),auth:Bn(Bn({},g),a),realtime:Bn(Bn({},w),l),storage:{},global:Bn(Bn(Bn({},b),c),{},{headers:Bn(Bn({},(r=b?.headers)!==null&&r!==void 0?r:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?N.accessToken=t.accessToken:delete N.accessToken,N}function N3(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(k3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var A3=class extends c3{constructor(t){super(t)}},j3=class{constructor(t,e,r){var i,o;this.supabaseUrl=t,this.supabaseKey=e;const a=N3(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:p3,realtime:m3,auth:Bn(Bn({},g3),{},{storageKey:l}),global:f3},h=S3(r??{},c);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(w,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=h.auth)!==null&&g!==void 0?g:{},this.headers,h.global.fetch)}this.fetch=_3(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Bn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new db(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new ix(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new nb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:a,flowType:l,lock:c,debug:h,throwOnError:g},w,b){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A3({url:this.authUrl.href,headers:Bn(Bn({},N),w),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:l,lock:c,debug:h,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Eb(this.realtimeUrl.href,Bn(Bn({},t),{},{params:Bn(Bn({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const E3=(t,e,r)=>new j3(t,e,r);function C3(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}C3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P3="https://viwnlfduyhnxtypkrzea.supabase.co",L3="sb_publishable_XZZehI5j_V52mDqJ2PDc-Q_K5eConXh",si=E3(P3,L3),Ns={async getInvoices(){const{data:t,error:e}=await si.from("invoices").select("*, items(*), clients(*)");if(e)throw e;return t.map(this.mapInvoiceFromDb)},async getInvoice(t){const{data:e,error:r}=await si.from("invoices").select("*, items(*), clients(*)").eq("id",t).single();return r?null:this.mapInvoiceFromDb(e)},async createInvoice(t){let e=t.client?.id;!e&&t.client&&(e=(await this.createClient(t.client)).id);const{data:r,error:i}=await si.from("invoices").insert({client_id:e,agent_id:t.agentId,invoice_number:t.invoiceNumber,status:t.status,due_date:t.dueDate&&!isNaN(Date.parse(t.dueDate))?new Date(t.dueDate).toISOString():new Date().toISOString(),subtotal:t.subtotal,tax:t.tax,total:t.total,notes:t.notes,passport_number:t.passportNumber,gender:t.gender,flight_number:t.flightNumber,room_type:t.roomType,visa_status:t.visaStatus,departure_date:t.departureDate&&!isNaN(Date.parse(t.departureDate))?new Date(t.departureDate).toISOString():null,date_of_birth:t.dateOfBirth&&!isNaN(Date.parse(t.dateOfBirth))?new Date(t.dateOfBirth).toISOString():null,created_at:new Date().toISOString()}).select().single();if(i)throw i;if(e&&(t.passportNumber||t.gender||t.dateOfBirth)&&await this.updateClient(e,{passportNumber:t.passportNumber,gender:t.gender,dateOfBirth:t.dateOfBirth}),t.items&&t.items.length>0){const o=t.items.map(l=>({invoice_id:r.id,description:l.description,quantity:l.quantity,unit_price:l.unitPrice})),{error:a}=await si.from("items").insert(o);if(a)throw a}return this.getInvoice(r.id)},async updateInvoice(t,e){const{error:r}=await si.from("invoices").update({status:e.status,due_date:e.dueDate&&!isNaN(Date.parse(e.dueDate))?new Date(e.dueDate).toISOString():void 0,subtotal:e.subtotal,tax:e.tax,total:e.total,notes:e.notes,passport_number:e.passportNumber,gender:e.gender,flight_number:e.flightNumber,room_type:e.roomType,visa_status:e.visaStatus,departure_date:e.departureDate&&!isNaN(Date.parse(e.departureDate))?new Date(e.departureDate).toISOString():null,date_of_birth:e.dateOfBirth&&!isNaN(Date.parse(e.dateOfBirth))?new Date(e.dateOfBirth).toISOString():null}).eq("id",t);if(r)throw r;if(e.client?.id&&(e.passportNumber||e.gender||e.dateOfBirth)&&await this.updateClient(e.client.id,{passportNumber:e.passportNumber,gender:e.gender,dateOfBirth:e.dateOfBirth}),e.items){await si.from("items").delete().eq("invoice_id",t);const i=e.items.map(o=>({invoice_id:t,description:o.description,quantity:o.quantity,unit_price:o.unitPrice}));await si.from("items").insert(i)}return this.getInvoice(t)},async deleteInvoice(t){const{data:e}=await si.from("invoices").select("client_id").eq("id",t).single(),r=e?.client_id,{error:i}=await si.from("invoices").delete().eq("id",t);if(i)throw i;if(r){const{count:o,error:a}=await si.from("invoices").select("*",{count:"exact",head:!0}).eq("client_id",r);!a&&o===0&&await si.from("clients").delete().eq("id",r)}},async getClients(){const{data:t,error:e}=await si.from("clients").select("*");if(e)throw e;return t.map(this.mapClientFromDb)},async createClient(t){const{data:e,error:r}=await si.from("clients").insert({name:t.name,email:t.email,phone:t.phone,address:t.address,passport_number:t.passportNumber,gender:t.gender,date_of_birth:t.dateOfBirth&&t.dateOfBirth.trim()!==""?t.dateOfBirth:null}).select().single();if(r)throw r;return this.mapClientFromDb(e)},async updateClient(t,e){const{data:r,error:i}=await si.from("clients").update({name:e.name,email:e.email,phone:e.phone,address:e.address,passport_number:e.passportNumber,gender:e.gender,date_of_birth:e.dateOfBirth&&e.dateOfBirth.trim()!==""?e.dateOfBirth:void 0}).eq("id",t).select().single();if(i)throw i;return this.mapClientFromDb(r)},mapInvoiceFromDb(t){const e=Array.isArray(t.clients)?t.clients[0]:t.clients;return{id:t.id,invoiceNumber:t.invoice_number,clientName:e?.name||"Unknown",clientEmail:e?.email||"",client:e?Ns.mapClientFromDb(e):void 0,agentId:t.agent_id,status:t.status,dueDate:t.due_date,subtotal:t.subtotal,tax:t.tax,total:t.total,notes:t.notes,createdAt:t.created_at,passportNumber:t.passport_number,gender:t.gender,flightNumber:t.flight_number,roomType:t.room_type,visaStatus:t.visa_status,departureDate:t.departure_date,dateOfBirth:t.date_of_birth,items:t.items?.map(r=>({id:r.id,description:r.description,quantity:r.quantity,unitPrice:r.unit_price,total:r.quantity*r.unit_price,invoiceId:r.invoice_id}))||[]}},mapClientFromDb(t){return{id:t.id,name:t.name,email:t.email,phone:t.phone,address:t.address,passportNumber:t.passport_number,gender:t.gender,dateOfBirth:t.date_of_birth}},async getRooms(){const{data:t,error:e}=await si.from("rooms").select(`
                *,
                assignments:room_assignments(
                    *,
                    client:clients(*)
                )
            `);if(e)throw e;return t.map(this.mapRoomFromDb)},async createRoom(t){const{data:e,error:r}=await si.from("rooms").insert({hotel_name:t.hotelName,city:t.city,type:t.type,capacity:t.capacity,floor_number:t.floorNumber,room_number:t.roomNumber}).select().single();if(r)throw r;return this.mapRoomFromDb(e)},async deleteRoom(t){const{error:e}=await si.from("rooms").delete().eq("id",t);if(e)throw e},async assignClientToRoom(t,e){await si.from("room_assignments").delete().eq("client_id",e);const{error:r}=await si.from("room_assignments").insert({room_id:t,client_id:e});if(r)throw r},async removeClientFromRoom(t){const{error:e}=await si.from("room_assignments").delete().eq("client_id",t);if(e)throw e},mapRoomFromDb(t){const e=t.assignments?.map(r=>({id:r.id,roomId:r.room_id,clientId:r.client_id,assignedAt:r.assigned_at,client:r.client?Ns.mapClientFromDb(r.client):void 0}))||[];return{id:t.id,hotelName:t.hotel_name,city:t.city||"Makkah",type:t.type,capacity:t.capacity,floorNumber:t.floor_number,roomNumber:t.room_number,createdAt:t.created_at,assignments:e,currentOccupancy:e.length}}};function o1(t){const[e,r]=J.useState([]),[i,o]=J.useState(!0),[a,l]=J.useState(null),c=J.useCallback(async()=>{o(!0);try{let b=await Ns.getInvoices();t&&(b=b.filter(N=>N.agentId===t)),b.sort((N,_)=>new Date(_.createdAt).getTime()-new Date(N.createdAt).getTime()),r(b),l(null)}catch(b){console.error("Error fetching invoices:",b),l(b.message||"Failed to fetch invoices"),r([])}finally{o(!1)}},[t]);return J.useEffect(()=>{c()},[c]),{invoices:e,isLoading:i,error:a,createInvoice:async(b,N)=>{try{const _={...b,items:N};await Ns.createInvoice(_),await c()}catch(_){throw new Error(_.message||"Failed to create invoice")}},updateInvoice:async(b,N,_)=>{try{const O={...N,items:_};await Ns.updateInvoice(b,O),await c()}catch(O){throw new Error(O.message||"Failed to update invoice")}},deleteInvoice:async b=>{try{await Ns.deleteInvoice(b),await c()}catch(N){throw new Error(N.message||"Failed to delete invoice")}},refetch:c}}function l1(){const[t,e]=J.useState([]),[r,i]=J.useState(!0),[o,a]=J.useState(null),l=J.useCallback(async()=>{i(!0);try{const{defaultAgents:c}=await qc(async()=>{const{defaultAgents:h}=await Promise.resolve().then(()=>f1);return{defaultAgents:h}},void 0);e(c),a(null)}catch(c){console.error("Error fetching agents:",c),a(c.message||"Failed to fetch agents"),e([])}finally{i(!1)}},[]);return J.useEffect(()=>{l()},[l]),{agents:t,isLoading:r,error:o,refetch:l}}function u1(t){const[e,r]=J.useState({totalInvoices:0,paidInvoices:0,unpaidInvoices:0,pendingInvoices:0,totalRevenue:0,recentInvoices:[]}),[i,o]=J.useState(!0),[a,l]=J.useState(null),c=J.useCallback(async()=>{o(!0);try{let h=await Ns.getInvoices();t&&(h=h.filter(N=>N.agentId===t));const g=h.filter(N=>N.status==="paid"),w=h.filter(N=>N.status==="sent"||N.status==="draft"),b=h.filter(N=>N.status==="overdue");r({totalInvoices:h.length,paidInvoices:g.length,unpaidInvoices:b.length,pendingInvoices:w.length,totalRevenue:g.reduce((N,_)=>N+_.total,0),recentInvoices:h.slice(0,5)}),l(null)}catch(h){l(h.message||"Failed to fetch dashboard stats")}finally{o(!1)}},[t]);return J.useEffect(()=>{c()},[c]),{stats:e,isLoading:i,error:a,refetch:c}}function c1(t){const[e,r]=J.useState([]),[i,o]=J.useState(!0),[a,l]=J.useState(null),c=J.useCallback(async()=>{o(!0);try{const h=new Date;h.setHours(0,0,0,0);let w=(await Ns.getInvoices()).filter(b=>new Date(b.createdAt)>=h);t&&(w=w.filter(b=>b.agentId===t)),r(w),l(null)}catch(h){l(h.message||"Failed to fetch today's invoices")}finally{o(!1)}},[t]);return J.useEffect(()=>{c()},[c]),{invoices:e,isLoading:i,error:a,refetch:c}}var ah={exports:{}},I3=ah.exports,Pm;function O3(){return Pm||(Pm=1,function(t,e){(function(r,i){t.exports=i()})(I3,function(){var r=function(f,y){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(A[T]=C[T])})(f,y)},i=function(){return(i=Object.assign||function(f){for(var y,A=1,C=arguments.length;A<C;A++)for(var T in y=arguments[A])Object.prototype.hasOwnProperty.call(y,T)&&(f[T]=y[T]);return f}).apply(this,arguments)};function o(f,y,A){for(var C,T=0,U=y.length;T<U;T++)!C&&T in y||((C=C||Array.prototype.slice.call(y,0,T))[T]=y[T]);return f.concat(C||Array.prototype.slice.call(y))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:py,l=Object.keys,c=Array.isArray;function h(f,y){return typeof y!="object"||l(y).forEach(function(A){f[A]=y[A]}),f}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var g=Object.getPrototypeOf,w={}.hasOwnProperty;function b(f,y){return w.call(f,y)}function N(f,y){typeof y=="function"&&(y=y(g(f))),(typeof Reflect>"u"?l:Reflect.ownKeys)(y).forEach(function(A){O(f,A,y[A])})}var _=Object.defineProperty;function O(f,y,A,C){_(f,y,h(A&&b(A,"get")&&typeof A.get=="function"?{get:A.get,set:A.set,configurable:!0}:{value:A,configurable:!0,writable:!0},C))}function P(f){return{from:function(y){return f.prototype=Object.create(y.prototype),O(f.prototype,"constructor",f),{extend:N.bind(null,f.prototype)}}}}var R=Object.getOwnPropertyDescriptor,L=[].slice;function M(f,y,A){return L.call(f,y,A)}function H(f,y){return y(f)}function oe(f){if(!f)throw new Error("Assertion Failed")}function pe(f){a.setImmediate?setImmediate(f):setTimeout(f,0)}function Ee(f,y){if(typeof y=="string"&&b(f,y))return f[y];if(!y)return f;if(typeof y!="string"){for(var A=[],C=0,T=y.length;C<T;++C){var U=Ee(f,y[C]);A.push(U)}return A}var Z=y.indexOf(".");if(Z!==-1){var le=f[y.substr(0,Z)];return le==null?void 0:Ee(le,y.substr(Z+1))}}function ce(f,y,A){if(f&&y!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof y!="string"&&"length"in y){oe(typeof A!="string"&&"length"in A);for(var C=0,T=y.length;C<T;++C)ce(f,y[C],A[C])}else{var U,Z,le=y.indexOf(".");le!==-1?(U=y.substr(0,le),(Z=y.substr(le+1))===""?A===void 0?c(f)&&!isNaN(parseInt(U))?f.splice(U,1):delete f[U]:f[U]=A:ce(le=!(le=f[U])||!b(f,U)?f[U]={}:le,Z,A)):A===void 0?c(f)&&!isNaN(parseInt(y))?f.splice(y,1):delete f[y]:f[y]=A}}function G(f){var y,A={};for(y in f)b(f,y)&&(A[y]=f[y]);return A}var he=[].concat;function Re(f){return he.apply([],f)}var nr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Re([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(y){return y+f+"Array"})}))).filter(function(f){return a[f]}),V=new Set(nr.map(function(f){return a[f]})),Y=null;function fe(f){return Y=new WeakMap,f=function y(A){if(!A||typeof A!="object")return A;var C=Y.get(A);if(C)return C;if(c(A)){C=[],Y.set(A,C);for(var T=0,U=A.length;T<U;++T)C.push(y(A[T]))}else if(V.has(A.constructor))C=A;else{var Z,le=g(A);for(Z in C=le===Object.prototype?{}:Object.create(le),Y.set(A,C),A)b(A,Z)&&(C[Z]=y(A[Z]))}return C}(f),Y=null,f}var re={}.toString;function qe(f){return re.call(f).slice(8,-1)}var Be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",me=typeof Be=="symbol"?function(f){var y;return f!=null&&(y=f[Be])&&y.apply(f)}:function(){return null};function te(f,y){return y=f.indexOf(y),0<=y&&f.splice(y,1),0<=y}var ye={};function be(f){var y,A,C,T;if(arguments.length===1){if(c(f))return f.slice();if(this===ye&&typeof f=="string")return[f];if(T=me(f)){for(A=[];!(C=T.next()).done;)A.push(C.value);return A}if(f==null)return[f];if(typeof(y=f.length)!="number")return[f];for(A=new Array(y);y--;)A[y]=f[y];return A}for(y=arguments.length,A=new Array(y);y--;)A[y]=arguments[y];return A}var se=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Qt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Vn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Qt),I={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(f,y){this.name=f,this.message=y}function X(f,y){return f+". Errors: "+Object.keys(y).map(function(A){return y[A].toString()}).filter(function(A,C,T){return T.indexOf(A)===C}).join(`
`)}function ie(f,y,A,C){this.failures=y,this.failedKeys=C,this.successCount=A,this.message=X(f,y)}function de(f,y){this.name="BulkError",this.failures=Object.keys(y).map(function(A){return y[A]}),this.failuresByPos=y,this.message=X(f,this.failures)}P($).from(Error).extend({toString:function(){return this.name+": "+this.message}}),P(ie).from($),P(de).from($);var xe=Vn.reduce(function(f,y){return f[y]=y+"Error",f},{}),Oe=$,ge=Vn.reduce(function(f,y){var A=y+"Error";function C(T,U){this.name=A,T?typeof T=="string"?(this.message="".concat(T).concat(U?`
 `+U:""),this.inner=U||null):typeof T=="object"&&(this.message="".concat(T.name," ").concat(T.message),this.inner=T):(this.message=I[y]||A,this.inner=null)}return P(C).from(Oe),f[y]=C,f},{});ge.Syntax=SyntaxError,ge.Type=TypeError,ge.Range=RangeError;var rt=Qt.reduce(function(f,y){return f[y+"Error"]=ge[y],f},{}),st=Vn.reduce(function(f,y){return["Syntax","Type","Range"].indexOf(y)===-1&&(f[y+"Error"]=ge[y]),f},{});function it(){}function bt(f){return f}function qt(f,y){return f==null||f===bt?y:function(A){return y(f(A))}}function Je(f,y){return function(){f.apply(this,arguments),y.apply(this,arguments)}}function ae(f,y){return f===it?y:function(){var A=f.apply(this,arguments);A!==void 0&&(arguments[0]=A);var C=this.onsuccess,T=this.onerror;this.onsuccess=null,this.onerror=null;var U=y.apply(this,arguments);return C&&(this.onsuccess=this.onsuccess?Je(C,this.onsuccess):C),T&&(this.onerror=this.onerror?Je(T,this.onerror):T),U!==void 0?U:A}}function Xt(f,y){return f===it?y:function(){f.apply(this,arguments);var A=this.onsuccess,C=this.onerror;this.onsuccess=this.onerror=null,y.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?Je(A,this.onsuccess):A),C&&(this.onerror=this.onerror?Je(C,this.onerror):C)}}function Tt(f,y){return f===it?y:function(A){var C=f.apply(this,arguments);h(A,C);var T=this.onsuccess,U=this.onerror;return this.onsuccess=null,this.onerror=null,A=y.apply(this,arguments),T&&(this.onsuccess=this.onsuccess?Je(T,this.onsuccess):T),U&&(this.onerror=this.onerror?Je(U,this.onerror):U),C===void 0?A===void 0?void 0:A:h(C,A)}}function ot(f,y){return f===it?y:function(){return y.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function pt(f,y){return f===it?y:function(){var A=f.apply(this,arguments);if(A&&typeof A.then=="function"){for(var C=this,T=arguments.length,U=new Array(T);T--;)U[T]=arguments[T];return A.then(function(){return y.apply(C,U)})}return y.apply(this,arguments)}}st.ModifyError=ie,st.DexieError=$,st.BulkError=de;var vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function St(f){vt=f}var Rt={},Yt=100,nr=typeof Promise>"u"?[]:function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,g(f),f];var y=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[y,g(y),f]}(),Qt=nr[0],Vn=nr[1],nr=nr[2],Vn=Vn&&Vn.then,Zt=Qt&&Qt.constructor,wr=!!nr,zt=function(f,y){On.push([f,y]),wt&&(queueMicrotask(Cr),wt=!1)},sr=!0,wt=!0,Xr=[],kr=[],ei=bt,Sr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:it,pgp:!1,env:{},finalize:it},xt=Sr,On=[],mr=0,mi=[];function dt(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var y=this._PSD=xt;if(typeof f!="function"){if(f!==Rt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&xr(this,this._value))}this._state=null,this._value=null,++y.ref,function A(C,T){try{T(function(U){if(C._state===null){if(U===C)throw new TypeError("A promise cannot be resolved with itself.");var Z=C._lib&&qr();U&&typeof U.then=="function"?A(C,function(le,ke){U instanceof dt?U._then(le,ke):U.then(le,ke)}):(C._state=!0,C._value=U,Ft(C)),Z&&sn()}},xr.bind(null,C))}catch(U){xr(C,U)}}(this,f)}var An={get:function(){var f=xt,y=qn;function A(C,T){var U=this,Z=!f.global&&(f!==xt||y!==qn),le=Z&&!tn(),ke=new dt(function(je,Ie){pr(U,new Er(ha(C,f,Z,le),ha(T,f,Z,le),je,Ie,f))});return this._consoleTask&&(ke._consoleTask=this._consoleTask),ke}return A.prototype=Rt,A},set:function(f){O(this,"then",f&&f.prototype===Rt?An:{get:function(){return f},set:An.set})}};function Er(f,y,A,C,T){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof y=="function"?y:null,this.resolve=A,this.reject=C,this.psd=T}function xr(f,y){var A,C;kr.push(y),f._state===null&&(A=f._lib&&qr(),y=ei(y),f._state=!1,f._value=y,C=f,Xr.some(function(T){return T._value===C._value})||Xr.push(C),Ft(f),A&&sn())}function Ft(f){var y=f._listeners;f._listeners=[];for(var A=0,C=y.length;A<C;++A)pr(f,y[A]);var T=f._PSD;--T.ref||T.finalize(),mr===0&&(++mr,zt(function(){--mr==0&&Ct()},[]))}function pr(f,y){if(f._state!==null){var A=f._state?y.onFulfilled:y.onRejected;if(A===null)return(f._state?y.resolve:y.reject)(f._value);++y.psd.ref,++mr,zt(bn,[A,f,y])}else f._listeners.push(y)}function bn(f,y,A){try{var C,T=y._value;!y._state&&kr.length&&(kr=[]),C=vt&&y._consoleTask?y._consoleTask.run(function(){return f(T)}):f(T),y._state||kr.indexOf(T)!==-1||function(U){for(var Z=Xr.length;Z;)if(Xr[--Z]._value===U._value)return Xr.splice(Z,1)}(y),A.resolve(C)}catch(U){A.reject(U)}finally{--mr==0&&Ct(),--A.psd.ref||A.psd.finalize()}}function Cr(){Ii(Sr,function(){qr()&&sn()})}function qr(){var f=sr;return wt=sr=!1,f}function sn(){var f,y,A;do for(;0<On.length;)for(f=On,On=[],A=f.length,y=0;y<A;++y){var C=f[y];C[0].apply(null,C[1])}while(0<On.length);wt=sr=!0}function Ct(){var f=Xr;Xr=[],f.forEach(function(C){C._PSD.onunhandled.call(null,C._value,C)});for(var y=mi.slice(0),A=y.length;A;)y[--A]()}function Qr(f){return new dt(Rt,!1,f)}function er(f,y){var A=xt;return function(){var C=qr(),T=xt;try{return Un(A,!0),f.apply(this,arguments)}catch(U){y&&y(U)}finally{Un(T,!1),C&&sn()}}}N(dt.prototype,{then:An,_then:function(f,y){pr(this,new Er(null,null,f,y,xt))},catch:function(f){if(arguments.length===1)return this.then(null,f);var y=f,A=arguments[1];return typeof y=="function"?this.then(null,function(C){return(C instanceof y?A:Qr)(C)}):this.then(null,function(C){return(C&&C.name===y?A:Qr)(C)})},finally:function(f){return this.then(function(y){return dt.resolve(f()).then(function(){return y})},function(y){return dt.resolve(f()).then(function(){return Qr(y)})})},timeout:function(f,y){var A=this;return f<1/0?new dt(function(C,T){var U=setTimeout(function(){return T(new ge.Timeout(y))},f);A.then(C,T).finally(clearTimeout.bind(null,U))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&O(dt.prototype,Symbol.toStringTag,"Dexie.Promise"),Sr.env=Hs(),N(dt,{all:function(){var f=be.apply(null,arguments).map(vi);return new dt(function(y,A){f.length===0&&y([]);var C=f.length;f.forEach(function(T,U){return dt.resolve(T).then(function(Z){f[U]=Z,--C||y(f)},A)})})},resolve:function(f){return f instanceof dt?f:f&&typeof f.then=="function"?new dt(function(y,A){f.then(y,A)}):new dt(Rt,!0,f)},reject:Qr,race:function(){var f=be.apply(null,arguments).map(vi);return new dt(function(y,A){f.map(function(C){return dt.resolve(C).then(y,A)})})},PSD:{get:function(){return xt},set:function(f){return xt=f}},totalEchoes:{get:function(){return qn}},newPSD:Tn,usePSD:Ii,scheduler:{get:function(){return zt},set:function(f){zt=f}},rejectionMapper:{get:function(){return ei},set:function(f){ei=f}},follow:function(f,y){return new dt(function(A,C){return Tn(function(T,U){var Z=xt;Z.unhandleds=[],Z.onunhandled=U,Z.finalize=Je(function(){var le,ke=this;le=function(){ke.unhandleds.length===0?T():U(ke.unhandleds[0])},mi.push(function je(){le(),mi.splice(mi.indexOf(je),1)}),++mr,zt(function(){--mr==0&&Ct()},[])},Z.finalize),f()},y,A,C)})}}),Zt&&(Zt.allSettled&&O(dt,"allSettled",function(){var f=be.apply(null,arguments).map(vi);return new dt(function(y){f.length===0&&y([]);var A=f.length,C=new Array(A);f.forEach(function(T,U){return dt.resolve(T).then(function(Z){return C[U]={status:"fulfilled",value:Z}},function(Z){return C[U]={status:"rejected",reason:Z}}).then(function(){return--A||y(C)})})})}),Zt.any&&typeof AggregateError<"u"&&O(dt,"any",function(){var f=be.apply(null,arguments).map(vi);return new dt(function(y,A){f.length===0&&A(new AggregateError([]));var C=f.length,T=new Array(C);f.forEach(function(U,Z){return dt.resolve(U).then(function(le){return y(le)},function(le){T[Z]=le,--C||A(new AggregateError(T))})})})}),Zt.withResolvers&&(dt.withResolvers=Zt.withResolvers));var vr={awaits:0,echoes:0,id:0},Mr=0,Pr=[],Ur=0,qn=0,Pi=0;function Tn(f,y,A,C){var T=xt,U=Object.create(T);return U.parent=T,U.ref=0,U.global=!1,U.id=++Pi,Sr.env,U.env=wr?{Promise:dt,PromiseProp:{value:dt,configurable:!0,writable:!0},all:dt.all,race:dt.race,allSettled:dt.allSettled,any:dt.any,resolve:dt.resolve,reject:dt.reject}:{},y&&h(U,y),++T.ref,U.finalize=function(){--this.parent.ref||this.parent.finalize()},C=Ii(U,f,A,C),U.ref===0&&U.finalize(),C}function ti(){return vr.id||(vr.id=++Mr),++vr.awaits,vr.echoes+=Yt,vr.id}function tn(){return!!vr.awaits&&(--vr.awaits==0&&(vr.id=0),vr.echoes=vr.awaits*Yt,!0)}function vi(f){return vr.echoes&&f&&f.constructor===Zt?(ti(),f.then(function(y){return tn(),y},function(y){return tn(),Gr(y)})):f}function Li(){var f=Pr[Pr.length-1];Pr.pop(),Un(f,!1)}function Un(f,y){var A,C=xt;(y?!vr.echoes||Ur++&&f===xt:!Ur||--Ur&&f===xt)||queueMicrotask(y?(function(T){++qn,vr.echoes&&--vr.echoes!=0||(vr.echoes=vr.awaits=vr.id=0),Pr.push(xt),Un(T,!0)}).bind(null,f):Li),f!==xt&&(xt=f,C===Sr&&(Sr.env=Hs()),wr&&(A=Sr.env.Promise,y=f.env,(C.global||f.global)&&(Object.defineProperty(a,"Promise",y.PromiseProp),A.all=y.all,A.race=y.race,A.resolve=y.resolve,A.reject=y.reject,y.allSettled&&(A.allSettled=y.allSettled),y.any&&(A.any=y.any))))}function Hs(){var f=a.Promise;return wr?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function Ii(f,y,A,C,T){var U=xt;try{return Un(f,!0),y(A,C,T)}finally{Un(U,!1)}}function ha(f,y,A,C){return typeof f!="function"?f:function(){var T=xt;A&&ti(),Un(y,!0);try{return f.apply(this,arguments)}finally{Un(T,!1),C&&queueMicrotask(tn)}}}function Ks(f){Promise===Zt&&vr.echoes===0?Ur===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+Vn).indexOf("[native code]")===-1&&(ti=tn=it);var Gr=dt.reject,js="",Or="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ol="String expected.",Oi=[],fa="__dbnames",pa="readonly",Ta="readwrite";function Es(f,y){return f?y?function(){return f.apply(this,arguments)&&y.apply(this,arguments)}:f:y}var ga={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function li(f){return typeof f!="string"||/\./.test(f)?function(y){return y}:function(y){return y[f]===void 0&&f in y&&delete(y=fe(y))[f],y}}function Ra(){throw ge.Type()}function ir(f,y){try{var A=fn(f),C=fn(y);if(A!==C)return A==="Array"?1:C==="Array"?-1:A==="binary"?1:C==="binary"?-1:A==="string"?1:C==="string"?-1:A==="Date"?1:C!=="Date"?NaN:-1;switch(A){case"number":case"Date":case"string":return y<f?1:f<y?-1:0;case"binary":return function(T,U){for(var Z=T.length,le=U.length,ke=Z<le?Z:le,je=0;je<ke;++je)if(T[je]!==U[je])return T[je]<U[je]?-1:1;return Z===le?0:Z<le?-1:1}(Ro(f),Ro(y));case"Array":return function(T,U){for(var Z=T.length,le=U.length,ke=Z<le?Z:le,je=0;je<ke;++je){var Ie=ir(T[je],U[je]);if(Ie!==0)return Ie}return Z===le?0:Z<le?-1:1}(f,y)}}catch{}return NaN}function fn(f){var y=typeof f;return y!="object"?y:ArrayBuffer.isView(f)?"binary":(f=qe(f),f==="ArrayBuffer"?"binary":f)}function Ro(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}var Do=(Tr.prototype._trans=function(f,y,A){var C=this._tx||xt.trans,T=this.name,U=vt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function Z(je,Ie,ne){if(!ne.schema[T])throw new ge.NotFound("Table "+T+" not part of transaction");return y(ne.idbtrans,ne)}var le=qr();try{var ke=C&&C.db._novip===this.db._novip?C===xt.trans?C._promise(f,Z,A):Tn(function(){return C._promise(f,Z,A)},{trans:C,transless:xt.transless||xt}):function je(Ie,ne,De,we){if(Ie.idbdb&&(Ie._state.openComplete||xt.letThrough||Ie._vip)){var Ce=Ie._createTransaction(ne,De,Ie._dbSchema);try{Ce.create(),Ie._state.PR1398_maxLoop=3}catch(Fe){return Fe.name===xe.InvalidState&&Ie.isOpen()&&0<--Ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ie.close({disableAutoOpen:!1}),Ie.open().then(function(){return je(Ie,ne,De,we)})):Gr(Fe)}return Ce._promise(ne,function(Fe,Pe){return Tn(function(){return xt.trans=Ce,we(Fe,Pe,Ce)})}).then(function(Fe){if(ne==="readwrite")try{Ce.idbtrans.commit()}catch{}return ne==="readonly"?Fe:Ce._completion.then(function(){return Fe})})}if(Ie._state.openComplete)return Gr(new ge.DatabaseClosed(Ie._state.dbOpenError));if(!Ie._state.isBeingOpened){if(!Ie._state.autoOpen)return Gr(new ge.DatabaseClosed);Ie.open().catch(it)}return Ie._state.dbReadyPromise.then(function(){return je(Ie,ne,De,we)})}(this.db,f,[this.name],Z);return U&&(ke._consoleTask=U,ke=ke.catch(function(je){return console.trace(je),Gr(je)})),ke}finally{le&&sn()}},Tr.prototype.get=function(f,y){var A=this;return f&&f.constructor===Object?this.where(f).first(y):f==null?Gr(new ge.Type("Invalid argument to Table.get()")):this._trans("readonly",function(C){return A.core.get({trans:C,key:f}).then(function(T){return A.hook.reading.fire(T)})}).then(y)},Tr.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(c(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var y=l(f);if(y.length===1)return this.where(y[0]).equals(f[y[0]]);var A=this.schema.indexes.concat(this.schema.primKey).filter(function(le){if(le.compound&&y.every(function(je){return 0<=le.keyPath.indexOf(je)})){for(var ke=0;ke<y.length;++ke)if(y.indexOf(le.keyPath[ke])===-1)return!1;return!0}return!1}).sort(function(le,ke){return le.keyPath.length-ke.keyPath.length})[0];if(A&&this.db._maxKey!==js){var U=A.keyPath.slice(0,y.length);return this.where(U).equals(U.map(function(ke){return f[ke]}))}!A&&vt&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(y.join("+"),"]"));var C=this.schema.idxByName;function T(le,ke){return ir(le,ke)===0}var Z=y.reduce(function(ne,ke){var je=ne[0],Ie=ne[1],ne=C[ke],De=f[ke];return[je||ne,je||!ne?Es(Ie,ne&&ne.multi?function(we){return we=Ee(we,ke),c(we)&&we.some(function(Ce){return T(De,Ce)})}:function(we){return T(De,Ee(we,ke))}):Ie]},[null,null]),U=Z[0],Z=Z[1];return U?this.where(U.name).equals(f[U.keyPath]).filter(Z):A?this.filter(Z):this.where(y).equals("")},Tr.prototype.filter=function(f){return this.toCollection().and(f)},Tr.prototype.count=function(f){return this.toCollection().count(f)},Tr.prototype.offset=function(f){return this.toCollection().offset(f)},Tr.prototype.limit=function(f){return this.toCollection().limit(f)},Tr.prototype.each=function(f){return this.toCollection().each(f)},Tr.prototype.toArray=function(f){return this.toCollection().toArray(f)},Tr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Tr.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,c(f)?"[".concat(f.join("+"),"]"):f))},Tr.prototype.reverse=function(){return this.toCollection().reverse()},Tr.prototype.mapToClass=function(f){var y,A=this.db,C=this.name;function T(){return y!==null&&y.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof Ra&&(function(ke,je){if(typeof je!="function"&&je!==null)throw new TypeError("Class extends value "+String(je)+" is not a constructor or null");function Ie(){this.constructor=ke}r(ke,je),ke.prototype=je===null?Object.create(je):(Ie.prototype=je.prototype,new Ie)}(T,y=f),Object.defineProperty(T.prototype,"db",{get:function(){return A},enumerable:!1,configurable:!0}),T.prototype.table=function(){return C},f=T);for(var U=new Set,Z=f.prototype;Z;Z=g(Z))Object.getOwnPropertyNames(Z).forEach(function(ke){return U.add(ke)});function le(ke){if(!ke)return ke;var je,Ie=Object.create(f.prototype);for(je in ke)if(!U.has(je))try{Ie[je]=ke[je]}catch{}return Ie}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=le,this.hook("reading",le),f},Tr.prototype.defineClass=function(){return this.mapToClass(function(f){h(this,f)})},Tr.prototype.add=function(f,y){var A=this,C=this.schema.primKey,T=C.auto,U=C.keyPath,Z=f;return U&&T&&(Z=li(U)(f)),this._trans("readwrite",function(le){return A.core.mutate({trans:le,type:"add",keys:y!=null?[y]:null,values:[Z]})}).then(function(le){return le.numFailures?dt.reject(le.failures[0]):le.lastResult}).then(function(le){if(U)try{ce(f,U,le)}catch{}return le})},Tr.prototype.update=function(f,y){return typeof f!="object"||c(f)?this.where(":id").equals(f).modify(y):(f=Ee(f,this.schema.primKey.keyPath),f===void 0?Gr(new ge.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(y))},Tr.prototype.put=function(f,y){var A=this,C=this.schema.primKey,T=C.auto,U=C.keyPath,Z=f;return U&&T&&(Z=li(U)(f)),this._trans("readwrite",function(le){return A.core.mutate({trans:le,type:"put",values:[Z],keys:y!=null?[y]:null})}).then(function(le){return le.numFailures?dt.reject(le.failures[0]):le.lastResult}).then(function(le){if(U)try{ce(f,U,le)}catch{}return le})},Tr.prototype.delete=function(f){var y=this;return this._trans("readwrite",function(A){return y.core.mutate({trans:A,type:"delete",keys:[f]})}).then(function(A){return A.numFailures?dt.reject(A.failures[0]):void 0})},Tr.prototype.clear=function(){var f=this;return this._trans("readwrite",function(y){return f.core.mutate({trans:y,type:"deleteRange",range:ga})}).then(function(y){return y.numFailures?dt.reject(y.failures[0]):void 0})},Tr.prototype.bulkGet=function(f){var y=this;return this._trans("readonly",function(A){return y.core.getMany({keys:f,trans:A}).then(function(C){return C.map(function(T){return y.hook.reading.fire(T)})})})},Tr.prototype.bulkAdd=function(f,y,A){var C=this,T=Array.isArray(y)?y:void 0,U=(A=A||(T?void 0:y))?A.allKeys:void 0;return this._trans("readwrite",function(Z){var je=C.schema.primKey,le=je.auto,je=je.keyPath;if(je&&T)throw new ge.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(T&&T.length!==f.length)throw new ge.InvalidArgument("Arguments objects and keys must have the same length");var ke=f.length,je=je&&le?f.map(li(je)):f;return C.core.mutate({trans:Z,type:"add",keys:T,values:je,wantResults:U}).then(function(Ce){var ne=Ce.numFailures,De=Ce.results,we=Ce.lastResult,Ce=Ce.failures;if(ne===0)return U?De:we;throw new de("".concat(C.name,".bulkAdd(): ").concat(ne," of ").concat(ke," operations failed"),Ce)})})},Tr.prototype.bulkPut=function(f,y,A){var C=this,T=Array.isArray(y)?y:void 0,U=(A=A||(T?void 0:y))?A.allKeys:void 0;return this._trans("readwrite",function(Z){var je=C.schema.primKey,le=je.auto,je=je.keyPath;if(je&&T)throw new ge.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(T&&T.length!==f.length)throw new ge.InvalidArgument("Arguments objects and keys must have the same length");var ke=f.length,je=je&&le?f.map(li(je)):f;return C.core.mutate({trans:Z,type:"put",keys:T,values:je,wantResults:U}).then(function(Ce){var ne=Ce.numFailures,De=Ce.results,we=Ce.lastResult,Ce=Ce.failures;if(ne===0)return U?De:we;throw new de("".concat(C.name,".bulkPut(): ").concat(ne," of ").concat(ke," operations failed"),Ce)})})},Tr.prototype.bulkUpdate=function(f){var y=this,A=this.core,C=f.map(function(Z){return Z.key}),T=f.map(function(Z){return Z.changes}),U=[];return this._trans("readwrite",function(Z){return A.getMany({trans:Z,keys:C,cache:"clone"}).then(function(le){var ke=[],je=[];f.forEach(function(ne,De){var we=ne.key,Ce=ne.changes,Fe=le[De];if(Fe){for(var Pe=0,Ve=Object.keys(Ce);Pe<Ve.length;Pe++){var He=Ve[Pe],Ke=Ce[He];if(He===y.schema.primKey.keyPath){if(ir(Ke,we)!==0)throw new ge.Constraint("Cannot update primary key in bulkUpdate()")}else ce(Fe,He,Ke)}U.push(De),ke.push(we),je.push(Fe)}});var Ie=ke.length;return A.mutate({trans:Z,type:"put",keys:ke,values:je,updates:{keys:C,changeSpecs:T}}).then(function(ne){var De=ne.numFailures,we=ne.failures;if(De===0)return Ie;for(var Ce=0,Fe=Object.keys(we);Ce<Fe.length;Ce++){var Pe,Ve=Fe[Ce],He=U[Number(Ve)];He!=null&&(Pe=we[Ve],delete we[Ve],we[He]=Pe)}throw new de("".concat(y.name,".bulkUpdate(): ").concat(De," of ").concat(Ie," operations failed"),we)})})})},Tr.prototype.bulkDelete=function(f){var y=this,A=f.length;return this._trans("readwrite",function(C){return y.core.mutate({trans:C,type:"delete",keys:f})}).then(function(Z){var T=Z.numFailures,U=Z.lastResult,Z=Z.failures;if(T===0)return U;throw new de("".concat(y.name,".bulkDelete(): ").concat(T," of ").concat(A," operations failed"),Z)})},Tr);function Tr(){}function zi(f){function y(Z,le){if(le){for(var ke=arguments.length,je=new Array(ke-1);--ke;)je[ke-1]=arguments[ke];return A[Z].subscribe.apply(null,je),f}if(typeof Z=="string")return A[Z]}var A={};y.addEventType=U;for(var C=1,T=arguments.length;C<T;++C)U(arguments[C]);return y;function U(Z,le,ke){if(typeof Z!="object"){var je;le=le||ot;var Ie={subscribers:[],fire:ke=ke||it,subscribe:function(ne){Ie.subscribers.indexOf(ne)===-1&&(Ie.subscribers.push(ne),Ie.fire=le(Ie.fire,ne))},unsubscribe:function(ne){Ie.subscribers=Ie.subscribers.filter(function(De){return De!==ne}),Ie.fire=Ie.subscribers.reduce(le,ke)}};return A[Z]=y[Z]=Ie}l(je=Z).forEach(function(ne){var De=je[ne];if(c(De))U(ne,je[ne][0],je[ne][1]);else{if(De!=="asap")throw new ge.InvalidArgument("Invalid event config");var we=U(ne,bt,function(){for(var Ce=arguments.length,Fe=new Array(Ce);Ce--;)Fe[Ce]=arguments[Ce];we.subscribers.forEach(function(Pe){pe(function(){Pe.apply(null,Fe)})})})}})}}function us(f,y){return P(y).from({prototype:f}),y}function Cn(f,y){return!(f.filter||f.algorithm||f.or)&&(y?f.justLimit:!f.replayFilter)}function ma(f,y){f.filter=Es(f.filter,y)}function ri(f,y,A){var C=f.replayFilter;f.replayFilter=C?function(){return Es(C(),y())}:y,f.justLimit=A&&!C}function Cs(f,y){if(f.isPrimKey)return y.primaryKey;var A=y.getIndexByKeyPath(f.index);if(!A)throw new ge.Schema("KeyPath "+f.index+" on object store "+y.name+" is not indexed");return A}function po(f,y,A){var C=Cs(f,y.schema);return y.openCursor({trans:A,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:C,range:f.range}})}function va(f,y,A,C){var T=f.replayFilter?Es(f.filter,f.replayFilter()):f.filter;if(f.or){var U={},Z=function(le,ke,je){var Ie,ne;T&&!T(ke,je,function(De){return ke.stop(De)},function(De){return ke.fail(De)})||((ne=""+(Ie=ke.primaryKey))=="[object ArrayBuffer]"&&(ne=""+new Uint8Array(Ie)),b(U,ne)||(U[ne]=!0,y(le,ke,je)))};return Promise.all([f.or._iterate(Z,A),Gs(po(f,C,A),f.algorithm,Z,!f.keysOnly&&f.valueMapper)])}return Gs(po(f,C,A),Es(f.algorithm,T),y,!f.keysOnly&&f.valueMapper)}function Gs(f,y,A,C){var T=er(C?function(U,Z,le){return A(C(U),Z,le)}:A);return f.then(function(U){if(U)return U.start(function(){var Z=function(){return U.continue()};y&&!y(U,function(le){return Z=le},function(le){U.stop(le),Z=it},function(le){U.fail(le),Z=it})||T(U.value,U,function(le){return Z=le}),Z()})})}var Da=(Fa.prototype.execute=function(f){var y=this["@@propmod"];if(y.add!==void 0){var A=y.add;if(c(A))return o(o([],c(f)?f:[],!0),A).sort();if(typeof A=="number")return(Number(f)||0)+A;if(typeof A=="bigint")try{return BigInt(f)+A}catch{return BigInt(0)+A}throw new TypeError("Invalid term ".concat(A))}if(y.remove!==void 0){var C=y.remove;if(c(C))return c(f)?f.filter(function(T){return!C.includes(T)}).sort():[];if(typeof C=="number")return Number(f)-C;if(typeof C=="bigint")try{return BigInt(f)-C}catch{return BigInt(0)-C}throw new TypeError("Invalid subtrahend ".concat(C))}return A=(A=y.replacePrefix)===null||A===void 0?void 0:A[0],A&&typeof f=="string"&&f.startsWith(A)?y.replacePrefix[1]+f.substring(A.length):f},Fa);function Fa(f){this["@@propmod"]=f}var Rr=(Nr.prototype._read=function(f,y){var A=this._ctx;return A.error?A.table._trans(null,Gr.bind(null,A.error)):A.table._trans("readonly",f).then(y)},Nr.prototype._write=function(f){var y=this._ctx;return y.error?y.table._trans(null,Gr.bind(null,y.error)):y.table._trans("readwrite",f,"locked")},Nr.prototype._addAlgorithm=function(f){var y=this._ctx;y.algorithm=Es(y.algorithm,f)},Nr.prototype._iterate=function(f,y){return va(this._ctx,f,y,this._ctx.table.core)},Nr.prototype.clone=function(f){var y=Object.create(this.constructor.prototype),A=Object.create(this._ctx);return f&&h(A,f),y._ctx=A,y},Nr.prototype.raw=function(){return this._ctx.valueMapper=null,this},Nr.prototype.each=function(f){var y=this._ctx;return this._read(function(A){return va(y,f,A,y.table.core)})},Nr.prototype.count=function(f){var y=this;return this._read(function(A){var C=y._ctx,T=C.table.core;if(Cn(C,!0))return T.count({trans:A,query:{index:Cs(C,T.schema),range:C.range}}).then(function(Z){return Math.min(Z,C.limit)});var U=0;return va(C,function(){return++U,!1},A,T).then(function(){return U})}).then(f)},Nr.prototype.sortBy=function(f,y){var A=f.split(".").reverse(),C=A[0],T=A.length-1;function U(ke,je){return je?U(ke[A[je]],je-1):ke[C]}var Z=this._ctx.dir==="next"?1:-1;function le(ke,je){return ir(U(ke,T),U(je,T))*Z}return this.toArray(function(ke){return ke.sort(le)}).then(y)},Nr.prototype.toArray=function(f){var y=this;return this._read(function(A){var C=y._ctx;if(C.dir==="next"&&Cn(C,!0)&&0<C.limit){var T=C.valueMapper,U=Cs(C,C.table.core.schema);return C.table.core.query({trans:A,limit:C.limit,values:!0,query:{index:U,range:C.range}}).then(function(le){return le=le.result,T?le.map(T):le})}var Z=[];return va(C,function(le){return Z.push(le)},A,C.table.core).then(function(){return Z})},f)},Nr.prototype.offset=function(f){var y=this._ctx;return f<=0||(y.offset+=f,Cn(y)?ri(y,function(){var A=f;return function(C,T){return A===0||(A===1?--A:T(function(){C.advance(A),A=0}),!1)}}):ri(y,function(){var A=f;return function(){return--A<0}})),this},Nr.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),ri(this._ctx,function(){var y=f;return function(A,C,T){return--y<=0&&C(T),0<=y}},!0),this},Nr.prototype.until=function(f,y){return ma(this._ctx,function(A,C,T){return!f(A.value)||(C(T),y)}),this},Nr.prototype.first=function(f){return this.limit(1).toArray(function(y){return y[0]}).then(f)},Nr.prototype.last=function(f){return this.reverse().first(f)},Nr.prototype.filter=function(f){var y;return ma(this._ctx,function(A){return f(A.value)}),(y=this._ctx).isMatch=Es(y.isMatch,f),this},Nr.prototype.and=function(f){return this.filter(f)},Nr.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},Nr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Nr.prototype.desc=function(){return this.reverse()},Nr.prototype.eachKey=function(f){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(A,C){f(C.key,C)})},Nr.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},Nr.prototype.eachPrimaryKey=function(f){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(A,C){f(C.primaryKey,C)})},Nr.prototype.keys=function(f){var y=this._ctx;y.keysOnly=!y.isMatch;var A=[];return this.each(function(C,T){A.push(T.key)}).then(function(){return A}).then(f)},Nr.prototype.primaryKeys=function(f){var y=this._ctx;if(y.dir==="next"&&Cn(y,!0)&&0<y.limit)return this._read(function(C){var T=Cs(y,y.table.core.schema);return y.table.core.query({trans:C,values:!1,limit:y.limit,query:{index:T,range:y.range}})}).then(function(C){return C.result}).then(f);y.keysOnly=!y.isMatch;var A=[];return this.each(function(C,T){A.push(T.primaryKey)}).then(function(){return A}).then(f)},Nr.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},Nr.prototype.firstKey=function(f){return this.limit(1).keys(function(y){return y[0]}).then(f)},Nr.prototype.lastKey=function(f){return this.reverse().firstKey(f)},Nr.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var y={};return ma(this._ctx,function(T){var C=T.primaryKey.toString(),T=b(y,C);return y[C]=!0,!T}),this},Nr.prototype.modify=function(f){var y=this,A=this._ctx;return this._write(function(C){var T,U,Z;Z=typeof f=="function"?f:(T=l(f),U=T.length,function(Pe){for(var Ve=!1,He=0;He<U;++He){var Ke=T[He],Xe=f[Ke],lt=Ee(Pe,Ke);Xe instanceof Da?(ce(Pe,Ke,Xe.execute(lt)),Ve=!0):lt!==Xe&&(ce(Pe,Ke,Xe),Ve=!0)}return Ve});var le=A.table.core,ne=le.schema.primaryKey,ke=ne.outbound,je=ne.extractKey,Ie=200,ne=y.db._options.modifyChunkSize;ne&&(Ie=typeof ne=="object"?ne[le.name]||ne["*"]||200:ne);function De(Pe,Ke){var He=Ke.failures,Ke=Ke.numFailures;Ce+=Pe-Ke;for(var Xe=0,lt=l(He);Xe<lt.length;Xe++){var yt=lt[Xe];we.push(He[yt])}}var we=[],Ce=0,Fe=[];return y.clone().primaryKeys().then(function(Pe){function Ve(Ke){var Xe=Math.min(Ie,Pe.length-Ke);return le.getMany({trans:C,keys:Pe.slice(Ke,Ke+Xe),cache:"immutable"}).then(function(lt){for(var yt=[],ut=[],gt=ke?[]:null,kt=[],ht=0;ht<Xe;++ht){var Nt=lt[ht],Lt={value:fe(Nt),primKey:Pe[Ke+ht]};Z.call(Lt,Lt.value,Lt)!==!1&&(Lt.value==null?kt.push(Pe[Ke+ht]):ke||ir(je(Nt),je(Lt.value))===0?(ut.push(Lt.value),ke&&gt.push(Pe[Ke+ht])):(kt.push(Pe[Ke+ht]),yt.push(Lt.value)))}return Promise.resolve(0<yt.length&&le.mutate({trans:C,type:"add",values:yt}).then(function(It){for(var Ut in It.failures)kt.splice(parseInt(Ut),1);De(yt.length,It)})).then(function(){return(0<ut.length||He&&typeof f=="object")&&le.mutate({trans:C,type:"put",keys:gt,values:ut,criteria:He,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<Ke}).then(function(It){return De(ut.length,It)})}).then(function(){return(0<kt.length||He&&f===go)&&le.mutate({trans:C,type:"delete",keys:kt,criteria:He,isAdditionalChunk:0<Ke}).then(function(It){return De(kt.length,It)})}).then(function(){return Pe.length>Ke+Xe&&Ve(Ke+Ie)})})}var He=Cn(A)&&A.limit===1/0&&(typeof f!="function"||f===go)&&{index:A.index,range:A.range};return Ve(0).then(function(){if(0<we.length)throw new ie("Error modifying one or more objects",we,Ce,Fe);return Pe.length})})})},Nr.prototype.delete=function(){var f=this._ctx,y=f.range;return Cn(f)&&(f.isPrimKey||y.type===3)?this._write(function(A){var C=f.table.core.schema.primaryKey,T=y;return f.table.core.count({trans:A,query:{index:C,range:T}}).then(function(U){return f.table.core.mutate({trans:A,type:"deleteRange",range:T}).then(function(Z){var le=Z.failures;if(Z.lastResult,Z.results,Z=Z.numFailures,Z)throw new ie("Could not delete some values",Object.keys(le).map(function(ke){return le[ke]}),U-Z);return U-Z})})}):this.modify(go)},Nr);function Nr(){}var go=function(f,y){return y.value=null};function Fo(f,y){return f<y?-1:f===y?0:1}function ll(f,y){return y<f?-1:f===y?0:1}function pn(f,y,A){return f=f instanceof ds?new f.Collection(f):f,f._ctx.error=new(A||TypeError)(y),f}function $i(f){return new f.Collection(f,function(){return rn("")}).limit(0)}function cs(f,y,A,C){var T,U,Z,le,ke,je,Ie,ne=A.length;if(!A.every(function(Ce){return typeof Ce=="string"}))return pn(f,ol);function De(Ce){T=Ce==="next"?function(Pe){return Pe.toUpperCase()}:function(Pe){return Pe.toLowerCase()},U=Ce==="next"?function(Pe){return Pe.toLowerCase()}:function(Pe){return Pe.toUpperCase()},Z=Ce==="next"?Fo:ll;var Fe=A.map(function(Pe){return{lower:U(Pe),upper:T(Pe)}}).sort(function(Pe,Ve){return Z(Pe.lower,Ve.lower)});le=Fe.map(function(Pe){return Pe.upper}),ke=Fe.map(function(Pe){return Pe.lower}),Ie=(je=Ce)==="next"?"":C}De("next"),f=new f.Collection(f,function(){return yi(le[0],ke[ne-1]+C)}),f._ondirectionchange=function(Ce){De(Ce)};var we=0;return f._addAlgorithm(function(Ce,Fe,Pe){var Ve=Ce.key;if(typeof Ve!="string")return!1;var He=U(Ve);if(y(He,ke,we))return!0;for(var Ke=null,Xe=we;Xe<ne;++Xe){var lt=function(yt,ut,gt,kt,ht,Nt){for(var Lt=Math.min(yt.length,kt.length),It=-1,Ut=0;Ut<Lt;++Ut){var Lr=ut[Ut];if(Lr!==kt[Ut])return ht(yt[Ut],gt[Ut])<0?yt.substr(0,Ut)+gt[Ut]+gt.substr(Ut+1):ht(yt[Ut],kt[Ut])<0?yt.substr(0,Ut)+kt[Ut]+gt.substr(Ut+1):0<=It?yt.substr(0,It)+ut[It]+gt.substr(It+1):null;ht(yt[Ut],Lr)<0&&(It=Ut)}return Lt<kt.length&&Nt==="next"?yt+gt.substr(yt.length):Lt<yt.length&&Nt==="prev"?yt.substr(0,gt.length):It<0?null:yt.substr(0,It)+kt[It]+gt.substr(It+1)}(Ve,He,le[Xe],ke[Xe],Z,je);lt===null&&Ke===null?we=Xe+1:(Ke===null||0<Z(Ke,lt))&&(Ke=lt)}return Fe(Ke!==null?function(){Ce.continue(Ke+Ie)}:Pe),!1}),f}function yi(f,y,A,C){return{type:2,lower:f,upper:y,lowerOpen:A,upperOpen:C}}function rn(f){return{type:1,lower:f,upper:f}}var ds=(Object.defineProperty(zr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),zr.prototype.between=function(f,y,A,C){A=A!==!1,C=C===!0;try{return 0<this._cmp(f,y)||this._cmp(f,y)===0&&(A||C)&&(!A||!C)?$i(this):new this.Collection(this,function(){return yi(f,y,!A,!C)})}catch{return pn(this,Or)}},zr.prototype.equals=function(f){return f==null?pn(this,Or):new this.Collection(this,function(){return rn(f)})},zr.prototype.above=function(f){return f==null?pn(this,Or):new this.Collection(this,function(){return yi(f,void 0,!0)})},zr.prototype.aboveOrEqual=function(f){return f==null?pn(this,Or):new this.Collection(this,function(){return yi(f,void 0,!1)})},zr.prototype.below=function(f){return f==null?pn(this,Or):new this.Collection(this,function(){return yi(void 0,f,!1,!0)})},zr.prototype.belowOrEqual=function(f){return f==null?pn(this,Or):new this.Collection(this,function(){return yi(void 0,f)})},zr.prototype.startsWith=function(f){return typeof f!="string"?pn(this,ol):this.between(f,f+js,!0,!0)},zr.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):cs(this,function(y,A){return y.indexOf(A[0])===0},[f],js)},zr.prototype.equalsIgnoreCase=function(f){return cs(this,function(y,A){return y===A[0]},[f],"")},zr.prototype.anyOfIgnoreCase=function(){var f=be.apply(ye,arguments);return f.length===0?$i(this):cs(this,function(y,A){return A.indexOf(y)!==-1},f,"")},zr.prototype.startsWithAnyOfIgnoreCase=function(){var f=be.apply(ye,arguments);return f.length===0?$i(this):cs(this,function(y,A){return A.some(function(C){return y.indexOf(C)===0})},f,js)},zr.prototype.anyOf=function(){var f=this,y=be.apply(ye,arguments),A=this._cmp;try{y.sort(A)}catch{return pn(this,Or)}if(y.length===0)return $i(this);var C=new this.Collection(this,function(){return yi(y[0],y[y.length-1])});C._ondirectionchange=function(U){A=U==="next"?f._ascending:f._descending,y.sort(A)};var T=0;return C._addAlgorithm(function(U,Z,le){for(var ke=U.key;0<A(ke,y[T]);)if(++T===y.length)return Z(le),!1;return A(ke,y[T])===0||(Z(function(){U.continue(y[T])}),!1)}),C},zr.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},zr.prototype.noneOf=function(){var f=be.apply(ye,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return pn(this,Or)}var y=f.reduce(function(A,C){return A?A.concat([[A[A.length-1][1],C]]):[[-1/0,C]]},null);return y.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(y,{includeLowers:!1,includeUppers:!1})},zr.prototype.inAnyRange=function(Ve,y){var A=this,C=this._cmp,T=this._ascending,U=this._descending,Z=this._min,le=this._max;if(Ve.length===0)return $i(this);if(!Ve.every(function(He){return He[0]!==void 0&&He[1]!==void 0&&T(He[0],He[1])<=0}))return pn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ge.InvalidArgument);var ke=!y||y.includeLowers!==!1,je=y&&y.includeUppers===!0,Ie,ne=T;function De(He,Ke){return ne(He[0],Ke[0])}try{(Ie=Ve.reduce(function(He,Ke){for(var Xe=0,lt=He.length;Xe<lt;++Xe){var yt=He[Xe];if(C(Ke[0],yt[1])<0&&0<C(Ke[1],yt[0])){yt[0]=Z(yt[0],Ke[0]),yt[1]=le(yt[1],Ke[1]);break}}return Xe===lt&&He.push(Ke),He},[])).sort(De)}catch{return pn(this,Or)}var we=0,Ce=je?function(He){return 0<T(He,Ie[we][1])}:function(He){return 0<=T(He,Ie[we][1])},Fe=ke?function(He){return 0<U(He,Ie[we][0])}:function(He){return 0<=U(He,Ie[we][0])},Pe=Ce,Ve=new this.Collection(this,function(){return yi(Ie[0][0],Ie[Ie.length-1][1],!ke,!je)});return Ve._ondirectionchange=function(He){ne=He==="next"?(Pe=Ce,T):(Pe=Fe,U),Ie.sort(De)},Ve._addAlgorithm(function(He,Ke,Xe){for(var lt,yt=He.key;Pe(yt);)if(++we===Ie.length)return Ke(Xe),!1;return!Ce(lt=yt)&&!Fe(lt)||(A._cmp(yt,Ie[we][1])===0||A._cmp(yt,Ie[we][0])===0||Ke(function(){ne===T?He.continue(Ie[we][0]):He.continue(Ie[we][1])}),!1)}),Ve},zr.prototype.startsWithAnyOf=function(){var f=be.apply(ye,arguments);return f.every(function(y){return typeof y=="string"})?f.length===0?$i(this):this.inAnyRange(f.map(function(y){return[y,y+js]})):pn(this,"startsWithAnyOf() only works with strings")},zr);function zr(){}function $t(f){return er(function(y){return hs(y),f(y.target.error),!1})}function hs(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var wi="storagemutated",Vi="x-storagemutated-1",Wi=zi(null,wi),ya=(ui.prototype._lock=function(){return oe(!xt.global),++this._reculock,this._reculock!==1||xt.global||(xt.lockOwnerFor=this),this},ui.prototype._unlock=function(){if(oe(!xt.global),--this._reculock==0)for(xt.global||(xt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{Ii(f[1],f[0])}catch{}}return this},ui.prototype._locked=function(){return this._reculock&&xt.lockOwnerFor!==this},ui.prototype.create=function(f){var y=this;if(!this.mode)return this;var A=this.db.idbdb,C=this.db._state.dbOpenError;if(oe(!this.idbtrans),!f&&!A)switch(C&&C.name){case"DatabaseClosedError":throw new ge.DatabaseClosed(C);case"MissingAPIError":throw new ge.MissingAPI(C.message,C);default:throw new ge.OpenFailed(C)}if(!this.active)throw new ge.TransactionInactive;return oe(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||A).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=er(function(T){hs(T),y._reject(f.error)}),f.onabort=er(function(T){hs(T),y.active&&y._reject(new ge.Abort(f.error)),y.active=!1,y.on("abort").fire(T)}),f.oncomplete=er(function(){y.active=!1,y._resolve(),"mutatedParts"in f&&Wi.storagemutated.fire(f.mutatedParts)}),this},ui.prototype._promise=function(f,y,A){var C=this;if(f==="readwrite"&&this.mode!=="readwrite")return Gr(new ge.ReadOnly("Transaction is readonly"));if(!this.active)return Gr(new ge.TransactionInactive);if(this._locked())return new dt(function(U,Z){C._blockedFuncs.push([function(){C._promise(f,y,A).then(U,Z)},xt])});if(A)return Tn(function(){var U=new dt(function(Z,le){C._lock();var ke=y(Z,le,C);ke&&ke.then&&ke.then(Z,le)});return U.finally(function(){return C._unlock()}),U._lib=!0,U});var T=new dt(function(U,Z){var le=y(U,Z,C);le&&le.then&&le.then(U,Z)});return T._lib=!0,T},ui.prototype._root=function(){return this.parent?this.parent._root():this},ui.prototype.waitFor=function(f){var y,A=this._root(),C=dt.resolve(f);A._waitingFor?A._waitingFor=A._waitingFor.then(function(){return C}):(A._waitingFor=C,A._waitingQueue=[],y=A.idbtrans.objectStore(A.storeNames[0]),function U(){for(++A._spinCount;A._waitingQueue.length;)A._waitingQueue.shift()();A._waitingFor&&(y.get(-1/0).onsuccess=U)}());var T=A._waitingFor;return new dt(function(U,Z){C.then(function(le){return A._waitingQueue.push(er(U.bind(null,le)))},function(le){return A._waitingQueue.push(er(Z.bind(null,le)))}).finally(function(){A._waitingFor===T&&(A._waitingFor=null)})})},ui.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ge.Abort))},ui.prototype.table=function(f){var y=this._memoizedTables||(this._memoizedTables={});if(b(y,f))return y[f];var A=this.schema[f];if(!A)throw new ge.NotFound("Table "+f+" not part of transaction");return A=new this.db.Table(f,A,this),A.core=this.db.core.table(f),y[f]=A},ui);function ui(){}function wa(f,y,A,C,T,U,Z){return{name:f,keyPath:y,unique:A,multi:C,auto:T,compound:U,src:(A&&!Z?"&":"")+(C?"*":"")+(T?"++":"")+Ma(y)}}function Ma(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function mo(f,y,A){return{name:f,primKey:y,indexes:A,mappedClass:null,idxByName:(C=function(T){return[T.name,T]},A.reduce(function(T,U,Z){return Z=C(U,Z),Z&&(T[Z[0]]=Z[1]),T},{}))};var C}var Ba=function(f){try{return f.only([[]]),Ba=function(){return[[]]},[[]]}catch{return Ba=function(){return js},js}};function fs(f){return f==null?function(){}:typeof f=="string"?(y=f).split(".").length===1?function(A){return A[y]}:function(A){return Ee(A,y)}:function(A){return Ee(A,f)};var y}function Hi(f){return[].slice.call(f)}var Ti=0;function Ps(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function qa(f,y,ke){function C(Pe){if(Pe.type===3)return null;if(Pe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var we=Pe.lower,Ce=Pe.upper,Fe=Pe.lowerOpen,Pe=Pe.upperOpen;return we===void 0?Ce===void 0?null:y.upperBound(Ce,!!Pe):Ce===void 0?y.lowerBound(we,!!Fe):y.bound(we,Ce,!!Fe,!!Pe)}function T(De){var we,Ce=De.name;return{name:Ce,schema:De,mutate:function(Fe){var Pe=Fe.trans,Ve=Fe.type,He=Fe.keys,Ke=Fe.values,Xe=Fe.range;return new Promise(function(lt,yt){lt=er(lt);var ut=Pe.objectStore(Ce),gt=ut.keyPath==null,kt=Ve==="put"||Ve==="add";if(!kt&&Ve!=="delete"&&Ve!=="deleteRange")throw new Error("Invalid operation type: "+Ve);var ht,Nt=(He||Ke||{length:1}).length;if(He&&Ke&&He.length!==Ke.length)throw new Error("Given keys array must have same length as given values array.");if(Nt===0)return lt({numFailures:0,failures:{},results:[],lastResult:void 0});function Lt(nn){++Lr,hs(nn)}var It=[],Ut=[],Lr=0;if(Ve==="deleteRange"){if(Xe.type===4)return lt({numFailures:Lr,failures:Ut,results:[],lastResult:void 0});Xe.type===3?It.push(ht=ut.clear()):It.push(ht=ut.delete(C(Xe)))}else{var gt=kt?gt?[Ke,He]:[Ke,null]:[He,null],Gt=gt[0],xn=gt[1];if(kt)for(var vn=0;vn<Nt;++vn)It.push(ht=xn&&xn[vn]!==void 0?ut[Ve](Gt[vn],xn[vn]):ut[Ve](Gt[vn])),ht.onerror=Lt;else for(vn=0;vn<Nt;++vn)It.push(ht=ut[Ve](Gt[vn])),ht.onerror=Lt}function Na(nn){nn=nn.target.result,It.forEach(function(Yi,Wn){return Yi.error!=null&&(Ut[Wn]=Yi.error)}),lt({numFailures:Lr,failures:Ut,results:Ve==="delete"?He:It.map(function(Yi){return Yi.result}),lastResult:nn})}ht.onerror=function(nn){Lt(nn),Na(nn)},ht.onsuccess=Na})},getMany:function(Fe){var Pe=Fe.trans,Ve=Fe.keys;return new Promise(function(He,Ke){He=er(He);for(var Xe,lt=Pe.objectStore(Ce),yt=Ve.length,ut=new Array(yt),gt=0,kt=0,ht=function(It){It=It.target,ut[It._pos]=It.result,++kt===gt&&He(ut)},Nt=$t(Ke),Lt=0;Lt<yt;++Lt)Ve[Lt]!=null&&((Xe=lt.get(Ve[Lt]))._pos=Lt,Xe.onsuccess=ht,Xe.onerror=Nt,++gt);gt===0&&He(ut)})},get:function(Fe){var Pe=Fe.trans,Ve=Fe.key;return new Promise(function(He,Ke){He=er(He);var Xe=Pe.objectStore(Ce).get(Ve);Xe.onsuccess=function(lt){return He(lt.target.result)},Xe.onerror=$t(Ke)})},query:(we=je,function(Fe){return new Promise(function(Pe,Ve){Pe=er(Pe);var He,Ke,Xe,gt=Fe.trans,lt=Fe.values,yt=Fe.limit,ht=Fe.query,ut=yt===1/0?void 0:yt,kt=ht.index,ht=ht.range,gt=gt.objectStore(Ce),kt=kt.isPrimaryKey?gt:gt.index(kt.name),ht=C(ht);if(yt===0)return Pe({result:[]});we?((ut=lt?kt.getAll(ht,ut):kt.getAllKeys(ht,ut)).onsuccess=function(Nt){return Pe({result:Nt.target.result})},ut.onerror=$t(Ve)):(He=0,Ke=!lt&&"openKeyCursor"in kt?kt.openKeyCursor(ht):kt.openCursor(ht),Xe=[],Ke.onsuccess=function(Nt){var Lt=Ke.result;return Lt?(Xe.push(lt?Lt.value:Lt.primaryKey),++He===yt?Pe({result:Xe}):void Lt.continue()):Pe({result:Xe})},Ke.onerror=$t(Ve))})}),openCursor:function(Fe){var Pe=Fe.trans,Ve=Fe.values,He=Fe.query,Ke=Fe.reverse,Xe=Fe.unique;return new Promise(function(lt,yt){lt=er(lt);var kt=He.index,ut=He.range,gt=Pe.objectStore(Ce),gt=kt.isPrimaryKey?gt:gt.index(kt.name),kt=Ke?Xe?"prevunique":"prev":Xe?"nextunique":"next",ht=!Ve&&"openKeyCursor"in gt?gt.openKeyCursor(C(ut),kt):gt.openCursor(C(ut),kt);ht.onerror=$t(yt),ht.onsuccess=er(function(Nt){var Lt,It,Ut,Lr,Gt=ht.result;Gt?(Gt.___id=++Ti,Gt.done=!1,Lt=Gt.continue.bind(Gt),It=(It=Gt.continuePrimaryKey)&&It.bind(Gt),Ut=Gt.advance.bind(Gt),Lr=function(){throw new Error("Cursor not stopped")},Gt.trans=Pe,Gt.stop=Gt.continue=Gt.continuePrimaryKey=Gt.advance=function(){throw new Error("Cursor not started")},Gt.fail=er(yt),Gt.next=function(){var xn=this,vn=1;return this.start(function(){return vn--?xn.continue():xn.stop()}).then(function(){return xn})},Gt.start=function(xn){function vn(){if(ht.result)try{xn()}catch(nn){Gt.fail(nn)}else Gt.done=!0,Gt.start=function(){throw new Error("Cursor behind last entry")},Gt.stop()}var Na=new Promise(function(nn,Yi){nn=er(nn),ht.onerror=$t(Yi),Gt.fail=Yi,Gt.stop=function(Wn){Gt.stop=Gt.continue=Gt.continuePrimaryKey=Gt.advance=Lr,nn(Wn)}});return ht.onsuccess=er(function(nn){ht.onsuccess=vn,vn()}),Gt.continue=Lt,Gt.continuePrimaryKey=It,Gt.advance=Ut,vn(),Na},lt(Gt)):lt(null)},yt)})},count:function(Fe){var Pe=Fe.query,Ve=Fe.trans,He=Pe.index,Ke=Pe.range;return new Promise(function(Xe,lt){var yt=Ve.objectStore(Ce),ut=He.isPrimaryKey?yt:yt.index(He.name),yt=C(Ke),ut=yt?ut.count(yt):ut.count();ut.onsuccess=er(function(gt){return Xe(gt.target.result)}),ut.onerror=$t(lt)})}}}var U,Z,le,Ie=(Z=ke,le=Hi((U=f).objectStoreNames),{schema:{name:U.name,tables:le.map(function(De){return Z.objectStore(De)}).map(function(De){var we=De.keyPath,Pe=De.autoIncrement,Ce=c(we),Fe={},Pe={name:De.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:we==null,compound:Ce,keyPath:we,autoIncrement:Pe,unique:!0,extractKey:fs(we)},indexes:Hi(De.indexNames).map(function(Ve){return De.index(Ve)}).map(function(Xe){var He=Xe.name,Ke=Xe.unique,lt=Xe.multiEntry,Xe=Xe.keyPath,lt={name:He,compound:c(Xe),keyPath:Xe,unique:Ke,multiEntry:lt,extractKey:fs(Xe)};return Fe[Ps(Xe)]=lt}),getIndexByKeyPath:function(Ve){return Fe[Ps(Ve)]}};return Fe[":id"]=Pe.primaryKey,we!=null&&(Fe[Ps(we)]=Pe.primaryKey),Pe})},hasGetAll:0<le.length&&"getAll"in Z.objectStore(le[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ke=Ie.schema,je=Ie.hasGetAll,Ie=ke.tables.map(T),ne={};return Ie.forEach(function(De){return ne[De.name]=De}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(De){if(!ne[De])throw new Error("Table '".concat(De,"' not found"));return ne[De]},MIN_KEY:-1/0,MAX_KEY:Ba(y),schema:ke}}function Mo(f,y,A,C){var T=A.IDBKeyRange;return A.indexedDB,{dbcore:(C=qa(y,T,C),f.dbcore.reduce(function(U,Z){return Z=Z.create,i(i({},U),Z(U))},C))}}function ps(f,C){var A=C.db,C=Mo(f._middlewares,A,f._deps,C);f.core=C.dbcore,f.tables.forEach(function(T){var U=T.name;f.core.schema.tables.some(function(Z){return Z.name===U})&&(T.core=f.core.table(U),f[U]instanceof f.Table&&(f[U].core=T.core))})}function Ls(f,y,A,C){A.forEach(function(T){var U=C[T];y.forEach(function(Z){var le=function ke(je,Ie){return R(je,Ie)||(je=g(je))&&ke(je,Ie)}(Z,T);(!le||"value"in le&&le.value===void 0)&&(Z===f.Transaction.prototype||Z instanceof f.Transaction?O(Z,T,{get:function(){return this.table(T)},set:function(ke){_(this,T,{value:ke,writable:!0,configurable:!0,enumerable:!0})}}):Z[T]=new f.Table(T,U))})})}function ba(f,y){y.forEach(function(A){for(var C in A)A[C]instanceof f.Table&&delete A[C]})}function Bo(f,y){return f._cfg.version-y._cfg.version}function gs(f,y,A,C){var T=f._dbSchema;A.objectStoreNames.contains("$meta")&&!T.$meta&&(T.$meta=mo("$meta",Ys("")[0],[]),f._storeNames.push("$meta"));var U=f._createTransaction("readwrite",f._storeNames,T);U.create(A),U._completion.catch(C);var Z=U._reject.bind(U),le=xt.transless||xt;Tn(function(){return xt.trans=U,xt.transless=le,y!==0?(ps(f,A),je=y,((ke=U).storeNames.includes("$meta")?ke.table("$meta").get("version").then(function(Ie){return Ie??je}):dt.resolve(je)).then(function(Ie){return De=Ie,we=U,Ce=A,Fe=[],Ie=(ne=f)._versions,Pe=ne._dbSchema=Js(0,ne.idbdb,Ce),(Ie=Ie.filter(function(Ve){return Ve._cfg.version>=De})).length!==0?(Ie.forEach(function(Ve){Fe.push(function(){var He=Pe,Ke=Ve._cfg.dbschema;gn(ne,He,Ce),gn(ne,Ke,Ce),Pe=ne._dbSchema=Ke;var Xe=bi(He,Ke);Xe.add.forEach(function(kt){vo(Ce,kt[0],kt[1].primKey,kt[1].indexes)}),Xe.change.forEach(function(kt){if(kt.recreate)throw new ge.Upgrade("Not yet support for changing primary key");var ht=Ce.objectStore(kt.name);kt.add.forEach(function(Nt){return zn(ht,Nt)}),kt.change.forEach(function(Nt){ht.deleteIndex(Nt.name),zn(ht,Nt)}),kt.del.forEach(function(Nt){return ht.deleteIndex(Nt)})});var lt=Ve._cfg.contentUpgrade;if(lt&&Ve._cfg.version>De){ps(ne,Ce),we._memoizedTables={};var yt=G(Ke);Xe.del.forEach(function(kt){yt[kt]=He[kt]}),ba(ne,[ne.Transaction.prototype]),Ls(ne,[ne.Transaction.prototype],l(yt),yt),we.schema=yt;var ut,gt=se(lt);return gt&&ti(),Xe=dt.follow(function(){var kt;(ut=lt(we))&&gt&&(kt=tn.bind(null,null),ut.then(kt,kt))}),ut&&typeof ut.then=="function"?dt.resolve(ut):Xe.then(function(){return ut})}}),Fe.push(function(He){var Ke,Xe,lt=Ve._cfg.dbschema;Ke=lt,Xe=He,[].slice.call(Xe.db.objectStoreNames).forEach(function(yt){return Ke[yt]==null&&Xe.db.deleteObjectStore(yt)}),ba(ne,[ne.Transaction.prototype]),Ls(ne,[ne.Transaction.prototype],ne._storeNames,ne._dbSchema),we.schema=ne._dbSchema}),Fe.push(function(He){ne.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ne.idbdb.version/10)===Ve._cfg.version?(ne.idbdb.deleteObjectStore("$meta"),delete ne._dbSchema.$meta,ne._storeNames=ne._storeNames.filter(function(Ke){return Ke!=="$meta"})):He.objectStore("$meta").put(Ve._cfg.version,"version"))})}),function Ve(){return Fe.length?dt.resolve(Fe.shift()(we.idbtrans)).then(Ve):dt.resolve()}().then(function(){Gi(Pe,Ce)})):dt.resolve();var ne,De,we,Ce,Fe,Pe}).catch(Z)):(l(T).forEach(function(Ie){vo(A,Ie,T[Ie].primKey,T[Ie].indexes)}),ps(f,A),void dt.follow(function(){return f.on.populate.fire(U)}).catch(Z));var ke,je})}function Ki(f,y){Gi(f._dbSchema,y),y.db.version%10!=0||y.objectStoreNames.contains("$meta")||y.db.createObjectStore("$meta").add(Math.ceil(y.db.version/10-1),"version");var A=Js(0,f.idbdb,y);gn(f,f._dbSchema,y);for(var C=0,T=bi(A,f._dbSchema).change;C<T.length;C++){var U=function(Z){if(Z.change.length||Z.recreate)return console.warn("Unable to patch indexes of table ".concat(Z.name," because it has changes on the type of index or primary key.")),{value:void 0};var le=y.objectStore(Z.name);Z.add.forEach(function(ke){vt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Z.name,".").concat(ke.src)),zn(le,ke)})}(T[C]);if(typeof U=="object")return U.value}}function bi(f,y){var A,C={del:[],add:[],change:[]};for(A in f)y[A]||C.del.push(A);for(A in y){var T=f[A],U=y[A];if(T){var Z={name:A,def:U,recreate:!1,del:[],add:[],change:[]};if(""+(T.primKey.keyPath||"")!=""+(U.primKey.keyPath||"")||T.primKey.auto!==U.primKey.auto)Z.recreate=!0,C.change.push(Z);else{var le=T.idxByName,ke=U.idxByName,je=void 0;for(je in le)ke[je]||Z.del.push(je);for(je in ke){var Ie=le[je],ne=ke[je];Ie?Ie.src!==ne.src&&Z.change.push(ne):Z.add.push(ne)}(0<Z.del.length||0<Z.add.length||0<Z.change.length)&&C.change.push(Z)}}else C.add.push([A,U])}return C}function vo(f,y,A,C){var T=f.db.createObjectStore(y,A.keyPath?{keyPath:A.keyPath,autoIncrement:A.auto}:{autoIncrement:A.auto});return C.forEach(function(U){return zn(T,U)}),T}function Gi(f,y){l(f).forEach(function(A){y.db.objectStoreNames.contains(A)||(vt&&console.debug("Dexie: Creating missing table",A),vo(y,A,f[A].primKey,f[A].indexes))})}function zn(f,y){f.createIndex(y.name,y.keyPath,{unique:y.unique,multiEntry:y.multi})}function Js(f,y,A){var C={};return M(y.objectStoreNames,0).forEach(function(T){for(var U=A.objectStore(T),Z=wa(Ma(je=U.keyPath),je||"",!0,!1,!!U.autoIncrement,je&&typeof je!="string",!0),le=[],ke=0;ke<U.indexNames.length;++ke){var Ie=U.index(U.indexNames[ke]),je=Ie.keyPath,Ie=wa(Ie.name,je,!!Ie.unique,!!Ie.multiEntry,!1,je&&typeof je!="string",!1);le.push(Ie)}C[T]=mo(T,Z,le)}),C}function gn(f,y,A){for(var C=A.db.objectStoreNames,T=0;T<C.length;++T){var U=C[T],Z=A.objectStore(U);f._hasGetAll="getAll"in Z;for(var le=0;le<Z.indexNames.length;++le){var ke=Z.indexNames[le],je=Z.index(ke).keyPath,Ie=typeof je=="string"?je:"["+M(je).join("+")+"]";!y[U]||(je=y[U].idxByName[Ie])&&(je.name=ke,delete y[U].idxByName[Ie],y[U].idxByName[ke]=je)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Ys(f){return f.split(",").map(function(y,A){var C=(y=y.trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(C)?C.match(/^\[(.*)\]$/)[1].split("+"):C;return wa(C,T||null,/\&/.test(y),/\*/.test(y),/\+\+/.test(y),c(T),A===0)})}var xa=(Is.prototype._parseStoresSpec=function(f,y){l(f).forEach(function(A){if(f[A]!==null){var C=Ys(f[A]),T=C.shift();if(T.unique=!0,T.multi)throw new ge.Schema("Primary key cannot be multi-valued");C.forEach(function(U){if(U.auto)throw new ge.Schema("Only primary key can be marked as autoIncrement (++)");if(!U.keyPath)throw new ge.Schema("Index must have a name and cannot be an empty string")}),y[A]=mo(A,T,C)}})},Is.prototype.stores=function(A){var y=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,A):A;var A=y._versions,C={},T={};return A.forEach(function(U){h(C,U._cfg.storesSource),T=U._cfg.dbschema={},U._parseStoresSpec(C,T)}),y._dbSchema=T,ba(y,[y._allTables,y,y.Transaction.prototype]),Ls(y,[y._allTables,y,y.Transaction.prototype,this._cfg.tables],l(T),T),y._storeNames=l(T),this},Is.prototype.upgrade=function(f){return this._cfg.contentUpgrade=pt(this._cfg.contentUpgrade||it,f),this},Is);function Is(){}function Ua(f,y){var A=f._dbNamesDB;return A||(A=f._dbNamesDB=new ci(fa,{addons:[],indexedDB:f,IDBKeyRange:y})).version(1).stores({dbnames:"name"}),A.table("dbnames")}function Xs(f){return f&&typeof f.databases=="function"}function _a(f){return Tn(function(){return xt.letThrough=!0,f()})}function Ji(f){return!("from"in f)}var an=function(f,y){if(!this){var A=new an;return f&&"d"in f&&h(A,f),A}h(this,arguments.length?{d:1,from:f,to:1<arguments.length?y:f}:{d:0})};function Os(f,y,A){var C=ir(y,A);if(!isNaN(C)){if(0<C)throw RangeError();if(Ji(f))return h(f,{from:y,to:A,d:1});var T=f.l,C=f.r;if(ir(A,f.from)<0)return T?Os(T,y,A):f.l={from:y,to:A,d:1,l:null,r:null},Ts(f);if(0<ir(y,f.to))return C?Os(C,y,A):f.r={from:y,to:A,d:1,l:null,r:null},Ts(f);ir(y,f.from)<0&&(f.from=y,f.l=null,f.d=C?C.d+1:1),0<ir(A,f.to)&&(f.to=A,f.r=null,f.d=f.l?f.l.d+1:1),A=!f.r,T&&!f.l&&ka(f,T),C&&A&&ka(f,C)}}function ka(f,y){Ji(y)||function A(C,ke){var U=ke.from,Z=ke.to,le=ke.l,ke=ke.r;Os(C,U,Z),le&&A(C,le),ke&&A(C,ke)}(f,y)}function ul(f,y){var A=Qs(y),C=A.next();if(C.done)return!1;for(var T=C.value,U=Qs(f),Z=U.next(T.from),le=Z.value;!C.done&&!Z.done;){if(ir(le.from,T.to)<=0&&0<=ir(le.to,T.from))return!0;ir(T.from,le.from)<0?T=(C=A.next(le.from)).value:le=(Z=U.next(T.from)).value}return!1}function Qs(f){var y=Ji(f)?null:{s:0,n:f};return{next:function(A){for(var C=0<arguments.length;y;)switch(y.s){case 0:if(y.s=1,C)for(;y.n.l&&ir(A,y.n.from)<0;)y={up:y,n:y.n.l,s:1};else for(;y.n.l;)y={up:y,n:y.n.l,s:1};case 1:if(y.s=2,!C||ir(A,y.n.to)<=0)return{value:y.n,done:!1};case 2:if(y.n.r){y.s=3,y={up:y,n:y.n.r,s:0};continue}case 3:y=y.up}return{done:!0}}}}function Ts(f){var y,A,C=(((y=f.r)===null||y===void 0?void 0:y.d)||0)-(((A=f.l)===null||A===void 0?void 0:A.d)||0),T=1<C?"r":C<-1?"l":"";T&&(y=T=="r"?"l":"r",A=i({},f),C=f[T],f.from=C.from,f.to=C.to,f[T]=C[T],A[T]=C[y],(f[y]=A).d=yo(A)),f.d=yo(f)}function yo(A){var y=A.r,A=A.l;return(y?A?Math.max(y.d,A.d):y.d:A?A.d:0)+1}function ms(f,y){return l(y).forEach(function(A){f[A]?ka(f[A],y[A]):f[A]=function C(T){var U,Z,le={};for(U in T)b(T,U)&&(Z=T[U],le[U]=!Z||typeof Z!="object"||V.has(Z.constructor)?Z:C(Z));return le}(y[A])}),f}function za(f,y){return f.all||y.all||Object.keys(f).some(function(A){return y[A]&&ul(y[A],f[A])})}N(an.prototype,((Vn={add:function(f){return ka(this,f),this},addKey:function(f){return Os(this,f,f),this},addKeys:function(f){var y=this;return f.forEach(function(A){return Os(y,A,A)}),this},hasKey:function(f){var y=Qs(this).next(f).value;return y&&ir(y.from,f)<=0&&0<=ir(y.to,f)}})[Be]=function(){return Qs(this)},Vn));var x={},F={},ee=!1;function ve(f){ms(F,f),ee||(ee=!0,setTimeout(function(){ee=!1,Me(F,!(F={}))},0))}function Me(f,y){y===void 0&&(y=!1);var A=new Set;if(f.all)for(var C=0,T=Object.values(x);C<T.length;C++)Qe(Z=T[C],f,A,y);else for(var U in f){var Z,le=/^idb\:\/\/(.*)\/(.*)\//.exec(U);le&&(U=le[1],le=le[2],(Z=x["idb://".concat(U,"/").concat(le)])&&Qe(Z,f,A,y))}A.forEach(function(ke){return ke()})}function Qe(f,y,A,C){for(var T=[],U=0,Z=Object.entries(f.queries.query);U<Z.length;U++){for(var le=Z[U],ke=le[0],je=[],Ie=0,ne=le[1];Ie<ne.length;Ie++){var De=ne[Ie];za(y,De.obsSet)?De.subscribers.forEach(function(Pe){return A.add(Pe)}):C&&je.push(De)}C&&T.push([ke,je])}if(C)for(var we=0,Ce=T;we<Ce.length;we++){var Fe=Ce[we],ke=Fe[0],je=Fe[1];f.queries.query[ke]=je}}function at(f){var y=f._state,A=f._deps.indexedDB;if(y.isBeingOpened||f.idbdb)return y.dbReadyPromise.then(function(){return y.dbOpenError?Gr(y.dbOpenError):f});y.isBeingOpened=!0,y.dbOpenError=null,y.openComplete=!1;var C=y.openCanceller,T=Math.round(10*f.verno),U=!1;function Z(){if(y.openCanceller!==C)throw new ge.DatabaseClosed("db.open() was cancelled")}function le(){return new dt(function(De,we){if(Z(),!A)throw new ge.MissingAPI;var Ce=f.name,Fe=y.autoSchema||!T?A.open(Ce):A.open(Ce,T);if(!Fe)throw new ge.MissingAPI;Fe.onerror=$t(we),Fe.onblocked=er(f._fireOnBlocked),Fe.onupgradeneeded=er(function(Pe){var Ve;Ie=Fe.transaction,y.autoSchema&&!f._options.allowEmptyDB?(Fe.onerror=hs,Ie.abort(),Fe.result.close(),(Ve=A.deleteDatabase(Ce)).onsuccess=Ve.onerror=er(function(){we(new ge.NoSuchDatabase("Database ".concat(Ce," doesnt exist")))})):(Ie.onerror=$t(we),Pe=Pe.oldVersion>Math.pow(2,62)?0:Pe.oldVersion,ne=Pe<1,f.idbdb=Fe.result,U&&Ki(f,Ie),gs(f,Pe/10,Ie,we))},we),Fe.onsuccess=er(function(){Ie=null;var Pe,Ve,He,Ke,Xe,lt=f.idbdb=Fe.result,yt=M(lt.objectStoreNames);if(0<yt.length)try{var ut=lt.transaction((Ke=yt).length===1?Ke[0]:Ke,"readonly");if(y.autoSchema)Ve=lt,He=ut,(Pe=f).verno=Ve.version/10,He=Pe._dbSchema=Js(0,Ve,He),Pe._storeNames=M(Ve.objectStoreNames,0),Ls(Pe,[Pe._allTables],l(He),He);else if(gn(f,f._dbSchema,ut),((Xe=bi(Js(0,(Xe=f).idbdb,ut),Xe._dbSchema)).add.length||Xe.change.some(function(gt){return gt.add.length||gt.change.length}))&&!U)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),lt.close(),T=lt.version+1,U=!0,De(le());ps(f,ut)}catch{}Oi.push(f),lt.onversionchange=er(function(gt){y.vcFired=!0,f.on("versionchange").fire(gt)}),lt.onclose=er(function(gt){f.on("close").fire(gt)}),ne&&(Xe=f._deps,ut=Ce,lt=Xe.indexedDB,Xe=Xe.IDBKeyRange,Xs(lt)||ut===fa||Ua(lt,Xe).put({name:ut}).catch(it)),De()},we)}).catch(function(De){switch(De?.name){case"UnknownError":if(0<y.PR1398_maxLoop)return y.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),le();break;case"VersionError":if(0<T)return T=0,le()}return dt.reject(De)})}var ke,je=y.dbReadyResolve,Ie=null,ne=!1;return dt.race([C,(typeof navigator>"u"?dt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(De){function we(){return indexedDB.databases().finally(De)}ke=setInterval(we,100),we()}).finally(function(){return clearInterval(ke)}):Promise.resolve()).then(le)]).then(function(){return Z(),y.onReadyBeingFired=[],dt.resolve(_a(function(){return f.on.ready.fire(f.vip)})).then(function De(){if(0<y.onReadyBeingFired.length){var we=y.onReadyBeingFired.reduce(pt,it);return y.onReadyBeingFired=[],dt.resolve(_a(function(){return we(f.vip)})).then(De)}})}).finally(function(){y.openCanceller===C&&(y.onReadyBeingFired=null,y.isBeingOpened=!1)}).catch(function(De){y.dbOpenError=De;try{Ie&&Ie.abort()}catch{}return C===y.openCanceller&&f._close(),Gr(De)}).finally(function(){y.openComplete=!0,je()}).then(function(){var De;return ne&&(De={},f.tables.forEach(function(we){we.schema.indexes.forEach(function(Ce){Ce.name&&(De["idb://".concat(f.name,"/").concat(we.name,"/").concat(Ce.name)]=new an(-1/0,[[[]]]))}),De["idb://".concat(f.name,"/").concat(we.name,"/")]=De["idb://".concat(f.name,"/").concat(we.name,"/:dels")]=new an(-1/0,[[[]]])}),Wi(wi).fire(De),Me(De,!0)),f})}function Et(f){function y(U){return f.next(U)}var A=T(y),C=T(function(U){return f.throw(U)});function T(U){return function(ke){var le=U(ke),ke=le.value;return le.done?ke:ke&&typeof ke.then=="function"?ke.then(A,C):c(ke)?Promise.all(ke).then(A,C):A(ke)}}return T(y)()}function Vt(f,y,A){for(var C=c(f)?f.slice():[f],T=0;T<A;++T)C.push(y);return C}var hr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return i(i({},f),{table:function(y){var A=f.table(y),C=A.schema,T={},U=[];function Z(ne,De,we){var Ce=Ps(ne),Fe=T[Ce]=T[Ce]||[],Pe=ne==null?0:typeof ne=="string"?1:ne.length,Ve=0<De,Ve=i(i({},we),{name:Ve?"".concat(Ce,"(virtual-from:").concat(we.name,")"):we.name,lowLevelIndex:we,isVirtual:Ve,keyTail:De,keyLength:Pe,extractKey:fs(ne),unique:!Ve&&we.unique});return Fe.push(Ve),Ve.isPrimaryKey||U.push(Ve),1<Pe&&Z(Pe===2?ne[0]:ne.slice(0,Pe-1),De+1,we),Fe.sort(function(He,Ke){return He.keyTail-Ke.keyTail}),Ve}y=Z(C.primaryKey.keyPath,0,C.primaryKey),T[":id"]=[y];for(var le=0,ke=C.indexes;le<ke.length;le++){var je=ke[le];Z(je.keyPath,0,je)}function Ie(ne){var De,we=ne.query.index;return we.isVirtual?i(i({},ne),{query:{index:we.lowLevelIndex,range:(De=ne.query.range,we=we.keyTail,{type:De.type===1?2:De.type,lower:Vt(De.lower,De.lowerOpen?f.MAX_KEY:f.MIN_KEY,we),lowerOpen:!0,upper:Vt(De.upper,De.upperOpen?f.MIN_KEY:f.MAX_KEY,we),upperOpen:!0})}}):ne}return i(i({},A),{schema:i(i({},C),{primaryKey:y,indexes:U,getIndexByKeyPath:function(ne){return(ne=T[Ps(ne)])&&ne[0]}}),count:function(ne){return A.count(Ie(ne))},query:function(ne){return A.query(Ie(ne))},openCursor:function(ne){var De=ne.query.index,we=De.keyTail,Ce=De.isVirtual,Fe=De.keyLength;return Ce?A.openCursor(Ie(ne)).then(function(Ve){return Ve&&Pe(Ve)}):A.openCursor(ne);function Pe(Ve){return Object.create(Ve,{continue:{value:function(He){He!=null?Ve.continue(Vt(He,ne.reverse?f.MAX_KEY:f.MIN_KEY,we)):ne.unique?Ve.continue(Ve.key.slice(0,Fe).concat(ne.reverse?f.MIN_KEY:f.MAX_KEY,we)):Ve.continue()}},continuePrimaryKey:{value:function(He,Ke){Ve.continuePrimaryKey(Vt(He,f.MAX_KEY,we),Ke)}},primaryKey:{get:function(){return Ve.primaryKey}},key:{get:function(){var He=Ve.key;return Fe===1?He[0]:He.slice(0,Fe)}},value:{get:function(){return Ve.value}}})}}})}})}};function ar(f,y,A,C){return A=A||{},C=C||"",l(f).forEach(function(T){var U,Z,le;b(y,T)?(U=f[T],Z=y[T],typeof U=="object"&&typeof Z=="object"&&U&&Z?(le=qe(U))!==qe(Z)?A[C+T]=y[T]:le==="Object"?ar(U,Z,A,C+T+"."):U!==Z&&(A[C+T]=y[T]):U!==Z&&(A[C+T]=y[T])):A[C+T]=void 0}),l(y).forEach(function(T){b(f,T)||(A[C+T]=y[T])}),A}function Ar(f,y){return y.type==="delete"?y.keys:y.keys||y.values.map(f.extractKey)}var on={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return i(i({},f),{table:function(y){var A=f.table(y),C=A.schema.primaryKey;return i(i({},A),{mutate:function(T){var U=xt.trans,Z=U.table(y).hook,le=Z.deleting,ke=Z.creating,je=Z.updating;switch(T.type){case"add":if(ke.fire===it)break;return U._promise("readwrite",function(){return Ie(T)},!0);case"put":if(ke.fire===it&&je.fire===it)break;return U._promise("readwrite",function(){return Ie(T)},!0);case"delete":if(le.fire===it)break;return U._promise("readwrite",function(){return Ie(T)},!0);case"deleteRange":if(le.fire===it)break;return U._promise("readwrite",function(){return function ne(De,we,Ce){return A.query({trans:De,values:!1,query:{index:C,range:we},limit:Ce}).then(function(Fe){var Pe=Fe.result;return Ie({type:"delete",keys:Pe,trans:De}).then(function(Ve){return 0<Ve.numFailures?Promise.reject(Ve.failures[0]):Pe.length<Ce?{failures:[],numFailures:0,lastResult:void 0}:ne(De,i(i({},we),{lower:Pe[Pe.length-1],lowerOpen:!0}),Ce)})})}(T.trans,T.range,1e4)},!0)}return A.mutate(T);function Ie(ne){var De,we,Ce,Fe=xt.trans,Pe=ne.keys||Ar(C,ne);if(!Pe)throw new Error("Keys missing");return(ne=ne.type==="add"||ne.type==="put"?i(i({},ne),{keys:Pe}):i({},ne)).type!=="delete"&&(ne.values=o([],ne.values)),ne.keys&&(ne.keys=o([],ne.keys)),De=A,Ce=Pe,((we=ne).type==="add"?Promise.resolve([]):De.getMany({trans:we.trans,keys:Ce,cache:"immutable"})).then(function(Ve){var He=Pe.map(function(Ke,Xe){var lt,yt,ut,gt=Ve[Xe],kt={onerror:null,onsuccess:null};return ne.type==="delete"?le.fire.call(kt,Ke,gt,Fe):ne.type==="add"||gt===void 0?(lt=ke.fire.call(kt,Ke,ne.values[Xe],Fe),Ke==null&&lt!=null&&(ne.keys[Xe]=Ke=lt,C.outbound||ce(ne.values[Xe],C.keyPath,Ke))):(lt=ar(gt,ne.values[Xe]),(yt=je.fire.call(kt,lt,Ke,gt,Fe))&&(ut=ne.values[Xe],Object.keys(yt).forEach(function(ht){b(ut,ht)?ut[ht]=yt[ht]:ce(ut,ht,yt[ht])}))),kt});return A.mutate(ne).then(function(Ke){for(var Xe=Ke.failures,lt=Ke.results,yt=Ke.numFailures,Ke=Ke.lastResult,ut=0;ut<Pe.length;++ut){var gt=(lt||Pe)[ut],kt=He[ut];gt==null?kt.onerror&&kt.onerror(Xe[ut]):kt.onsuccess&&kt.onsuccess(ne.type==="put"&&Ve[ut]?ne.values[ut]:gt)}return{failures:Xe,results:lt,numFailures:yt,lastResult:Ke}}).catch(function(Ke){return He.forEach(function(Xe){return Xe.onerror&&Xe.onerror(Ke)}),Promise.reject(Ke)})})}}})}})}};function ln(f,y,A){try{if(!y||y.keys.length<f.length)return null;for(var C=[],T=0,U=0;T<y.keys.length&&U<f.length;++T)ir(y.keys[T],f[U])===0&&(C.push(A?fe(y.values[T]):y.values[T]),++U);return C.length===f.length?C:null}catch{return null}}var jn={stack:"dbcore",level:-1,create:function(f){return{table:function(y){var A=f.table(y);return i(i({},A),{getMany:function(C){if(!C.cache)return A.getMany(C);var T=ln(C.keys,C.trans._cache,C.cache==="clone");return T?dt.resolve(T):A.getMany(C).then(function(U){return C.trans._cache={keys:C.keys,values:C.cache==="clone"?fe(U):U},U})},mutate:function(C){return C.type!=="add"&&(C.trans._cache=null),A.mutate(C)}})}}}};function $n(f,y){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!y.schema.primaryKey.outbound}function Pn(f,y){switch(f){case"query":return y.values&&!y.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var vs={stack:"dbcore",level:0,name:"Observability",create:function(f){var y=f.schema.name,A=new an(f.MIN_KEY,f.MAX_KEY);return i(i({},f),{transaction:function(C,T,U){if(xt.subscr&&T!=="readonly")throw new ge.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(xt.querier));return f.transaction(C,T,U)},table:function(C){var T=f.table(C),U=T.schema,Z=U.primaryKey,ne=U.indexes,le=Z.extractKey,ke=Z.outbound,je=Z.autoIncrement&&ne.filter(function(we){return we.compound&&we.keyPath.includes(Z.keyPath)}),Ie=i(i({},T),{mutate:function(we){function Ce(ht){return ht="idb://".concat(y,"/").concat(C,"/").concat(ht),Ke[ht]||(Ke[ht]=new an)}var Fe,Pe,Ve,He=we.trans,Ke=we.mutatedParts||(we.mutatedParts={}),Xe=Ce(""),lt=Ce(":dels"),yt=we.type,kt=we.type==="deleteRange"?[we.range]:we.type==="delete"?[we.keys]:we.values.length<50?[Ar(Z,we).filter(function(ht){return ht}),we.values]:[],ut=kt[0],gt=kt[1],kt=we.trans._cache;return c(ut)?(Xe.addKeys(ut),(kt=yt==="delete"||ut.length===gt.length?ln(ut,kt):null)||lt.addKeys(ut),(kt||gt)&&(Fe=Ce,Pe=kt,Ve=gt,U.indexes.forEach(function(ht){var Nt=Fe(ht.name||"");function Lt(Ut){return Ut!=null?ht.extractKey(Ut):null}function It(Ut){return ht.multiEntry&&c(Ut)?Ut.forEach(function(Lr){return Nt.addKey(Lr)}):Nt.addKey(Ut)}(Pe||Ve).forEach(function(Ut,xn){var Gt=Pe&&Lt(Pe[xn]),xn=Ve&&Lt(Ve[xn]);ir(Gt,xn)!==0&&(Gt!=null&&It(Gt),xn!=null&&It(xn))})}))):ut?(gt={from:(gt=ut.lower)!==null&&gt!==void 0?gt:f.MIN_KEY,to:(gt=ut.upper)!==null&&gt!==void 0?gt:f.MAX_KEY},lt.add(gt),Xe.add(gt)):(Xe.add(A),lt.add(A),U.indexes.forEach(function(ht){return Ce(ht.name).add(A)})),T.mutate(we).then(function(ht){return!ut||we.type!=="add"&&we.type!=="put"||(Xe.addKeys(ht.results),je&&je.forEach(function(Nt){for(var Lt=we.values.map(function(Gt){return Nt.extractKey(Gt)}),It=Nt.keyPath.findIndex(function(Gt){return Gt===Z.keyPath}),Ut=0,Lr=ht.results.length;Ut<Lr;++Ut)Lt[Ut][It]=ht.results[Ut];Ce(Nt.name).addKeys(Lt)})),He.mutatedParts=ms(He.mutatedParts||{},Ke),ht})}}),ne=function(Ce){var Fe=Ce.query,Ce=Fe.index,Fe=Fe.range;return[Ce,new an((Ce=Fe.lower)!==null&&Ce!==void 0?Ce:f.MIN_KEY,(Fe=Fe.upper)!==null&&Fe!==void 0?Fe:f.MAX_KEY)]},De={get:function(we){return[Z,new an(we.key)]},getMany:function(we){return[Z,new an().addKeys(we.keys)]},count:ne,query:ne,openCursor:ne};return l(De).forEach(function(we){Ie[we]=function(Ce){var Fe=xt.subscr,Pe=!!Fe,Ve=$n(xt,T)&&Pn(we,Ce)?Ce.obsSet={}:Fe;if(Pe){var He=function(gt){return gt="idb://".concat(y,"/").concat(C,"/").concat(gt),Ve[gt]||(Ve[gt]=new an)},Ke=He(""),Xe=He(":dels"),Fe=De[we](Ce),Pe=Fe[0],Fe=Fe[1];if((we==="query"&&Pe.isPrimaryKey&&!Ce.values?Xe:He(Pe.name||"")).add(Fe),!Pe.isPrimaryKey){if(we!=="count"){var lt=we==="query"&&ke&&Ce.values&&T.query(i(i({},Ce),{values:!1}));return T[we].apply(this,arguments).then(function(gt){if(we==="query"){if(ke&&Ce.values)return lt.then(function(Lt){return Lt=Lt.result,Ke.addKeys(Lt),gt});var kt=Ce.values?gt.result.map(le):gt.result;(Ce.values?Ke:Xe).addKeys(kt)}else if(we==="openCursor"){var ht=gt,Nt=Ce.values;return ht&&Object.create(ht,{key:{get:function(){return Xe.addKey(ht.primaryKey),ht.key}},primaryKey:{get:function(){var Lt=ht.primaryKey;return Xe.addKey(Lt),Lt}},value:{get:function(){return Nt&&Ke.addKey(ht.primaryKey),ht.value}}})}return gt})}Xe.add(A)}}return T[we].apply(this,arguments)}}),Ie}})}};function xi(f,y,A){if(A.numFailures===0)return y;if(y.type==="deleteRange")return null;var C=y.keys?y.keys.length:"values"in y&&y.values?y.values.length:1;return A.numFailures===C?null:(y=i({},y),c(y.keys)&&(y.keys=y.keys.filter(function(T,U){return!(U in A.failures)})),"values"in y&&c(y.values)&&(y.values=y.values.filter(function(T,U){return!(U in A.failures)})),y)}function _i(f,y){return A=f,((C=y).lower===void 0||(C.lowerOpen?0<ir(A,C.lower):0<=ir(A,C.lower)))&&(f=f,(y=y).upper===void 0||(y.upperOpen?ir(f,y.upper)<0:ir(f,y.upper)<=0));var A,C}function Zs(f,y,De,C,T,U){if(!De||De.length===0)return f;var Z=y.query.index,le=Z.multiEntry,ke=y.query.range,je=C.schema.primaryKey.extractKey,Ie=Z.extractKey,ne=(Z.lowLevelIndex||Z).extractKey,De=De.reduce(function(we,Ce){var Fe=we,Pe=[];if(Ce.type==="add"||Ce.type==="put")for(var Ve=new an,He=Ce.values.length-1;0<=He;--He){var Ke,Xe=Ce.values[He],lt=je(Xe);Ve.hasKey(lt)||(Ke=Ie(Xe),(le&&c(Ke)?Ke.some(function(ht){return _i(ht,ke)}):_i(Ke,ke))&&(Ve.addKey(lt),Pe.push(Xe)))}switch(Ce.type){case"add":var yt=new an().addKeys(y.values?we.map(function(Nt){return je(Nt)}):we),Fe=we.concat(y.values?Pe.filter(function(Nt){return Nt=je(Nt),!yt.hasKey(Nt)&&(yt.addKey(Nt),!0)}):Pe.map(function(Nt){return je(Nt)}).filter(function(Nt){return!yt.hasKey(Nt)&&(yt.addKey(Nt),!0)}));break;case"put":var ut=new an().addKeys(Ce.values.map(function(Nt){return je(Nt)}));Fe=we.filter(function(Nt){return!ut.hasKey(y.values?je(Nt):Nt)}).concat(y.values?Pe:Pe.map(function(Nt){return je(Nt)}));break;case"delete":var gt=new an().addKeys(Ce.keys);Fe=we.filter(function(Nt){return!gt.hasKey(y.values?je(Nt):Nt)});break;case"deleteRange":var kt=Ce.range;Fe=we.filter(function(Nt){return!_i(je(Nt),kt)})}return Fe},f);return De===f?f:(De.sort(function(we,Ce){return ir(ne(we),ne(Ce))||ir(je(we),je(Ce))}),y.limit&&y.limit<1/0&&(De.length>y.limit?De.length=y.limit:f.length===y.limit&&De.length<y.limit&&(T.dirty=!0)),U?Object.freeze(De):De)}function wo(f,y){return ir(f.lower,y.lower)===0&&ir(f.upper,y.upper)===0&&!!f.lowerOpen==!!y.lowerOpen&&!!f.upperOpen==!!y.upperOpen}function bo(f,y){return function(A,C,T,U){if(A===void 0)return C!==void 0?-1:0;if(C===void 0)return 1;if((C=ir(A,C))===0){if(T&&U)return 0;if(T)return 1;if(U)return-1}return C}(f.lower,y.lower,f.lowerOpen,y.lowerOpen)<=0&&0<=function(A,C,T,U){if(A===void 0)return C!==void 0?1:0;if(C===void 0)return-1;if((C=ir(A,C))===0){if(T&&U)return 0;if(T)return-1;if(U)return 1}return C}(f.upper,y.upper,f.upperOpen,y.upperOpen)}function $a(f,y,A,C){f.subscribers.add(A),C.addEventListener("abort",function(){var T,U;f.subscribers.delete(A),f.subscribers.size===0&&(T=f,U=y,setTimeout(function(){T.subscribers.size===0&&te(U,T)},3e3))})}var xo={stack:"dbcore",level:0,name:"Cache",create:function(f){var y=f.schema.name;return i(i({},f),{transaction:function(A,C,T){var U,Z,le=f.transaction(A,C,T);return C==="readwrite"&&(Z=(U=new AbortController).signal,T=function(ke){return function(){if(U.abort(),C==="readwrite"){for(var je=new Set,Ie=0,ne=A;Ie<ne.length;Ie++){var De=ne[Ie],we=x["idb://".concat(y,"/").concat(De)];if(we){var Ce=f.table(De),Fe=we.optimisticOps.filter(function(Nt){return Nt.trans===le});if(le._explicit&&ke&&le.mutatedParts)for(var Pe=0,Ve=Object.values(we.queries.query);Pe<Ve.length;Pe++)for(var He=0,Ke=(yt=Ve[Pe]).slice();He<Ke.length;He++)za((ut=Ke[He]).obsSet,le.mutatedParts)&&(te(yt,ut),ut.subscribers.forEach(function(Nt){return je.add(Nt)}));else if(0<Fe.length){we.optimisticOps=we.optimisticOps.filter(function(Nt){return Nt.trans!==le});for(var Xe=0,lt=Object.values(we.queries.query);Xe<lt.length;Xe++)for(var yt,ut,gt,kt=0,ht=(yt=lt[Xe]).slice();kt<ht.length;kt++)(ut=ht[kt]).res!=null&&le.mutatedParts&&(ke&&!ut.dirty?(gt=Object.isFrozen(ut.res),gt=Zs(ut.res,ut.req,Fe,Ce,ut,gt),ut.dirty?(te(yt,ut),ut.subscribers.forEach(function(Nt){return je.add(Nt)})):gt!==ut.res&&(ut.res=gt,ut.promise=dt.resolve({result:gt}))):(ut.dirty&&te(yt,ut),ut.subscribers.forEach(function(Nt){return je.add(Nt)})))}}}je.forEach(function(Nt){return Nt()})}}},le.addEventListener("abort",T(!1),{signal:Z}),le.addEventListener("error",T(!1),{signal:Z}),le.addEventListener("complete",T(!0),{signal:Z})),le},table:function(A){var C=f.table(A),T=C.schema.primaryKey;return i(i({},C),{mutate:function(U){var Z=xt.trans;if(T.outbound||Z.db._options.cache==="disabled"||Z.explicit||Z.idbtrans.mode!=="readwrite")return C.mutate(U);var le=x["idb://".concat(y,"/").concat(A)];return le?(Z=C.mutate(U),U.type!=="add"&&U.type!=="put"||!(50<=U.values.length||Ar(T,U).some(function(ke){return ke==null}))?(le.optimisticOps.push(U),U.mutatedParts&&ve(U.mutatedParts),Z.then(function(ke){0<ke.numFailures&&(te(le.optimisticOps,U),(ke=xi(0,U,ke))&&le.optimisticOps.push(ke),U.mutatedParts&&ve(U.mutatedParts))}),Z.catch(function(){te(le.optimisticOps,U),U.mutatedParts&&ve(U.mutatedParts)})):Z.then(function(ke){var je=xi(0,i(i({},U),{values:U.values.map(function(Ie,ne){var De;return ke.failures[ne]?Ie:(Ie=(De=T.keyPath)!==null&&De!==void 0&&De.includes(".")?fe(Ie):i({},Ie),ce(Ie,T.keyPath,ke.results[ne]),Ie)})}),ke);le.optimisticOps.push(je),queueMicrotask(function(){return U.mutatedParts&&ve(U.mutatedParts)})}),Z):C.mutate(U)},query:function(U){if(!$n(xt,C)||!Pn("query",U))return C.query(U);var Z=((je=xt.trans)===null||je===void 0?void 0:je.db._options.cache)==="immutable",ne=xt,le=ne.requery,ke=ne.signal,je=function(Ce,Fe,Pe,Ve){var He=x["idb://".concat(Ce,"/").concat(Fe)];if(!He)return[];if(!(Fe=He.queries[Pe]))return[null,!1,He,null];var Ke=Fe[(Ve.query?Ve.query.index.name:null)||""];if(!Ke)return[null,!1,He,null];switch(Pe){case"query":var Xe=Ke.find(function(lt){return lt.req.limit===Ve.limit&&lt.req.values===Ve.values&&wo(lt.req.query.range,Ve.query.range)});return Xe?[Xe,!0,He,Ke]:[Ke.find(function(lt){return("limit"in lt.req?lt.req.limit:1/0)>=Ve.limit&&(!Ve.values||lt.req.values)&&bo(lt.req.query.range,Ve.query.range)}),!1,He,Ke];case"count":return Xe=Ke.find(function(lt){return wo(lt.req.query.range,Ve.query.range)}),[Xe,!!Xe,He,Ke]}}(y,A,"query",U),Ie=je[0],ne=je[1],De=je[2],we=je[3];return Ie&&ne?Ie.obsSet=U.obsSet:(ne=C.query(U).then(function(Ce){var Fe=Ce.result;if(Ie&&(Ie.res=Fe),Z){for(var Pe=0,Ve=Fe.length;Pe<Ve;++Pe)Object.freeze(Fe[Pe]);Object.freeze(Fe)}else Ce.result=fe(Fe);return Ce}).catch(function(Ce){return we&&Ie&&te(we,Ie),Promise.reject(Ce)}),Ie={obsSet:U.obsSet,promise:ne,subscribers:new Set,type:"query",req:U,dirty:!1},we?we.push(Ie):(we=[Ie],(De=De||(x["idb://".concat(y,"/").concat(A)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[U.query.index.name||""]=we)),$a(Ie,we,le,ke),Ie.promise.then(function(Ce){return{result:Zs(Ce.result,U,De?.optimisticOps,C,Ie,Z)}})}})}})}};function ea(f,y){return new Proxy(f,{get:function(A,C,T){return C==="db"?y:Reflect.get(A,C,T)}})}var ci=(gr.prototype.version=function(f){if(isNaN(f)||f<.1)throw new ge.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new ge.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var y=this._versions,A=y.filter(function(C){return C._cfg.version===f})[0];return A||(A=new this.Version(f),y.push(A),y.sort(Bo),A.stores({}),this._state.autoSchema=!1,A)},gr.prototype._whenReady=function(f){var y=this;return this.idbdb&&(this._state.openComplete||xt.letThrough||this._vip)?f():new dt(function(A,C){if(y._state.openComplete)return C(new ge.DatabaseClosed(y._state.dbOpenError));if(!y._state.isBeingOpened){if(!y._state.autoOpen)return void C(new ge.DatabaseClosed);y.open().catch(it)}y._state.dbReadyPromise.then(A,C)}).then(f)},gr.prototype.use=function(f){var y=f.stack,A=f.create,C=f.level,T=f.name;return T&&this.unuse({stack:y,name:T}),f=this._middlewares[y]||(this._middlewares[y]=[]),f.push({stack:y,create:A,level:C??10,name:T}),f.sort(function(U,Z){return U.level-Z.level}),this},gr.prototype.unuse=function(f){var y=f.stack,A=f.name,C=f.create;return y&&this._middlewares[y]&&(this._middlewares[y]=this._middlewares[y].filter(function(T){return C?T.create!==C:!!A&&T.name!==A})),this},gr.prototype.open=function(){var f=this;return Ii(Sr,function(){return at(f)})},gr.prototype._close=function(){var f=this._state,y=Oi.indexOf(this);if(0<=y&&Oi.splice(y,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new dt(function(A){f.dbReadyResolve=A}),f.openCanceller=new dt(function(A,C){f.cancelOpen=C}))},gr.prototype.close=function(A){var y=(A===void 0?{disableAutoOpen:!0}:A).disableAutoOpen,A=this._state;y?(A.isBeingOpened&&A.cancelOpen(new ge.DatabaseClosed),this._close(),A.autoOpen=!1,A.dbOpenError=new ge.DatabaseClosed):(this._close(),A.autoOpen=this._options.autoOpen||A.isBeingOpened,A.openComplete=!1,A.dbOpenError=null)},gr.prototype.delete=function(f){var y=this;f===void 0&&(f={disableAutoOpen:!0});var A=0<arguments.length&&typeof arguments[0]!="object",C=this._state;return new dt(function(T,U){function Z(){y.close(f);var le=y._deps.indexedDB.deleteDatabase(y.name);le.onsuccess=er(function(){var ke,je,Ie;ke=y._deps,je=y.name,Ie=ke.indexedDB,ke=ke.IDBKeyRange,Xs(Ie)||je===fa||Ua(Ie,ke).delete(je).catch(it),T()}),le.onerror=$t(U),le.onblocked=y._fireOnBlocked}if(A)throw new ge.InvalidArgument("Invalid closeOptions argument to db.delete()");C.isBeingOpened?C.dbReadyPromise.then(Z):Z()})},gr.prototype.backendDB=function(){return this.idbdb},gr.prototype.isOpen=function(){return this.idbdb!==null},gr.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},gr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},gr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(gr.prototype,"tables",{get:function(){var f=this;return l(this._allTables).map(function(y){return f._allTables[y]})},enumerable:!1,configurable:!0}),gr.prototype.transaction=function(){var f=(function(y,A,C){var T=arguments.length;if(T<2)throw new ge.InvalidArgument("Too few arguments");for(var U=new Array(T-1);--T;)U[T-1]=arguments[T];return C=U.pop(),[y,Re(U),C]}).apply(this,arguments);return this._transaction.apply(this,f)},gr.prototype._transaction=function(f,y,A){var C=this,T=xt.trans;T&&T.db===this&&f.indexOf("!")===-1||(T=null);var U,Z,le=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(Z=y.map(function(je){if(je=je instanceof C.Table?je.name:je,typeof je!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return je}),f=="r"||f===pa)U=pa;else{if(f!="rw"&&f!=Ta)throw new ge.InvalidArgument("Invalid transaction mode: "+f);U=Ta}if(T){if(T.mode===pa&&U===Ta){if(!le)throw new ge.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");T=null}T&&Z.forEach(function(je){if(T&&T.storeNames.indexOf(je)===-1){if(!le)throw new ge.SubTransaction("Table "+je+" not included in parent transaction.");T=null}}),le&&T&&!T.active&&(T=null)}}catch(je){return T?T._promise(null,function(Ie,ne){ne(je)}):Gr(je)}var ke=(function je(Ie,ne,De,we,Ce){return dt.resolve().then(function(){var Fe=xt.transless||xt,Pe=Ie._createTransaction(ne,De,Ie._dbSchema,we);if(Pe.explicit=!0,Fe={trans:Pe,transless:Fe},we)Pe.idbtrans=we.idbtrans;else try{Pe.create(),Pe.idbtrans._explicit=!0,Ie._state.PR1398_maxLoop=3}catch(Ke){return Ke.name===xe.InvalidState&&Ie.isOpen()&&0<--Ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ie.close({disableAutoOpen:!1}),Ie.open().then(function(){return je(Ie,ne,De,null,Ce)})):Gr(Ke)}var Ve,He=se(Ce);return He&&ti(),Fe=dt.follow(function(){var Ke;(Ve=Ce.call(Pe,Pe))&&(He?(Ke=tn.bind(null,null),Ve.then(Ke,Ke)):typeof Ve.next=="function"&&typeof Ve.throw=="function"&&(Ve=Et(Ve)))},Fe),(Ve&&typeof Ve.then=="function"?dt.resolve(Ve).then(function(Ke){return Pe.active?Ke:Gr(new ge.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Fe.then(function(){return Ve})).then(function(Ke){return we&&Pe._resolve(),Pe._completion.then(function(){return Ke})}).catch(function(Ke){return Pe._reject(Ke),Gr(Ke)})})}).bind(null,this,U,Z,T,A);return T?T._promise(U,ke,"lock"):xt.trans?Ii(xt.transless,function(){return C._whenReady(ke)}):this._whenReady(ke)},gr.prototype.table=function(f){if(!b(this._allTables,f))throw new ge.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},gr);function gr(f,y){var A=this;this._middlewares={},this.verno=0;var C=gr.dependencies;this._options=y=i({addons:gr.addons,autoOpen:!0,indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange,cache:"cloned"},y),this._deps={indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange},C=y.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var T,U,Z,le,ke,je={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:it,dbReadyPromise:null,cancelOpen:it,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:y.autoOpen};je.dbReadyPromise=new dt(function(ne){je.dbReadyResolve=ne}),je.openCanceller=new dt(function(ne,De){je.cancelOpen=De}),this._state=je,this.name=f,this.on=zi(this,"populate","blocked","versionchange","close",{ready:[pt,it]}),this.on.ready.subscribe=H(this.on.ready.subscribe,function(ne){return function(De,we){gr.vip(function(){var Ce,Fe=A._state;Fe.openComplete?(Fe.dbOpenError||dt.resolve().then(De),we&&ne(De)):Fe.onReadyBeingFired?(Fe.onReadyBeingFired.push(De),we&&ne(De)):(ne(De),Ce=A,we||ne(function Pe(){Ce.on.ready.unsubscribe(De),Ce.on.ready.unsubscribe(Pe)}))})}}),this.Collection=(T=this,us(Rr.prototype,function(Ve,Pe){this.db=T;var we=ga,Ce=null;if(Pe)try{we=Pe()}catch(He){Ce=He}var Fe=Ve._ctx,Pe=Fe.table,Ve=Pe.hook.reading.fire;this._ctx={table:Pe,index:Fe.index,isPrimKey:!Fe.index||Pe.schema.primKey.keyPath&&Fe.index===Pe.schema.primKey.name,range:we,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Ce,or:Fe.or,valueMapper:Ve!==bt?Ve:null}})),this.Table=(U=this,us(Do.prototype,function(ne,De,we){this.db=U,this._tx=we,this.name=ne,this.schema=De,this.hook=U._allTables[ne]?U._allTables[ne].hook:zi(null,{creating:[ae,it],reading:[qt,bt],updating:[Tt,it],deleting:[Xt,it]})})),this.Transaction=(Z=this,us(ya.prototype,function(ne,De,we,Ce,Fe){var Pe=this;this.db=Z,this.mode=ne,this.storeNames=De,this.schema=we,this.chromeTransactionDurability=Ce,this.idbtrans=null,this.on=zi(this,"complete","error","abort"),this.parent=Fe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new dt(function(Ve,He){Pe._resolve=Ve,Pe._reject=He}),this._completion.then(function(){Pe.active=!1,Pe.on.complete.fire()},function(Ve){var He=Pe.active;return Pe.active=!1,Pe.on.error.fire(Ve),Pe.parent?Pe.parent._reject(Ve):He&&Pe.idbtrans&&Pe.idbtrans.abort(),Gr(Ve)})})),this.Version=(le=this,us(xa.prototype,function(ne){this.db=le,this._cfg={version:ne,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ke=this,us(ds.prototype,function(ne,De,we){if(this.db=ke,this._ctx={table:ne,index:De===":id"?null:De,or:we},this._cmp=this._ascending=ir,this._descending=function(Ce,Fe){return ir(Fe,Ce)},this._max=function(Ce,Fe){return 0<ir(Ce,Fe)?Ce:Fe},this._min=function(Ce,Fe){return ir(Ce,Fe)<0?Ce:Fe},this._IDBKeyRange=ke._deps.IDBKeyRange,!this._IDBKeyRange)throw new ge.MissingAPI})),this.on("versionchange",function(ne){0<ne.newVersion?console.warn("Another connection wants to upgrade database '".concat(A.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(A.name,"'. Closing db now to resume the delete request.")),A.close({disableAutoOpen:!1})}),this.on("blocked",function(ne){!ne.newVersion||ne.newVersion<ne.oldVersion?console.warn("Dexie.delete('".concat(A.name,"') was blocked")):console.warn("Upgrade '".concat(A.name,"' blocked by other connection holding version ").concat(ne.oldVersion/10))}),this._maxKey=Ba(y.IDBKeyRange),this._createTransaction=function(ne,De,we,Ce){return new A.Transaction(ne,De,we,A._options.chromeTransactionDurability,Ce)},this._fireOnBlocked=function(ne){A.on("blocked").fire(ne),Oi.filter(function(De){return De.name===A.name&&De!==A&&!De._state.vcFired}).map(function(De){return De.on("versionchange").fire(ne)})},this.use(jn),this.use(xo),this.use(vs),this.use(hr),this.use(on);var Ie=new Proxy(this,{get:function(ne,De,we){if(De==="_vip")return!0;if(De==="table")return function(Fe){return ea(A.table(Fe),Ie)};var Ce=Reflect.get(ne,De,we);return Ce instanceof Do?ea(Ce,Ie):De==="tables"?Ce.map(function(Fe){return ea(Fe,Ie)}):De==="_createTransaction"?function(){return ea(Ce.apply(this,arguments),Ie)}:Ce}});this.vip=Ie,C.forEach(function(ne){return ne(A)})}var ta,Vn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_o=(Sa.prototype.subscribe=function(f,y,A){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:y,complete:A})},Sa.prototype[Vn]=function(){return this},Sa);function Sa(f){this._subscribe=f}try{ta={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{ta={indexedDB:null,IDBKeyRange:null}}function ni(f){var y,A=!1,C=new _o(function(T){var U=se(f),Z,le=!1,ke={},je={},Ie={get closed(){return le},unsubscribe:function(){le||(le=!0,Z&&Z.abort(),ne&&Wi.storagemutated.unsubscribe(we))}};T.start&&T.start(Ie);var ne=!1,De=function(){return Ks(Ce)},we=function(Fe){ms(ke,Fe),za(je,ke)&&De()},Ce=function(){var Fe,Pe,Ve;!le&&ta.indexedDB&&(ke={},Fe={},Z&&Z.abort(),Z=new AbortController,Ve=function(He){var Ke=qr();try{U&&ti();var Xe=Tn(f,He);return Xe=U?Xe.finally(tn):Xe}finally{Ke&&sn()}}(Pe={subscr:Fe,signal:Z.signal,requery:De,querier:f,trans:null}),Promise.resolve(Ve).then(function(He){A=!0,y=He,le||Pe.signal.aborted||(ke={},function(Ke){for(var Xe in Ke)if(b(Ke,Xe))return;return 1}(je=Fe)||ne||(Wi(wi,we),ne=!0),Ks(function(){return!le&&T.next&&T.next(He)}))},function(He){A=!1,["DatabaseClosedError","AbortError"].includes(He?.name)||le||Ks(function(){le||T.error&&T.error(He)})}))};return setTimeout(De,0),Ie});return C.hasValue=function(){return A},C.getValue=function(){return y},C}var Ri=ci;function ys(f){var y=mn;try{mn=!0,Wi.storagemutated.fire(f),Me(f,!0)}finally{mn=y}}N(Ri,i(i({},st),{delete:function(f){return new Ri(f,{addons:[]}).delete()},exists:function(f){return new Ri(f,{addons:[]}).open().then(function(y){return y.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return y=Ri.dependencies,A=y.indexedDB,y=y.IDBKeyRange,(Xs(A)?Promise.resolve(A.databases()).then(function(C){return C.map(function(T){return T.name}).filter(function(T){return T!==fa})}):Ua(A,y).toCollection().primaryKeys()).then(f)}catch{return Gr(new ge.MissingAPI)}var y,A},defineClass:function(){return function(f){h(this,f)}},ignoreTransaction:function(f){return xt.trans?Ii(xt.transless,f):f()},vip:_a,async:function(f){return function(){try{var y=Et(f.apply(this,arguments));return y&&typeof y.then=="function"?y:dt.resolve(y)}catch(A){return Gr(A)}}},spawn:function(f,y,A){try{var C=Et(f.apply(A,y||[]));return C&&typeof C.then=="function"?C:dt.resolve(C)}catch(T){return Gr(T)}},currentTransaction:{get:function(){return xt.trans||null}},waitFor:function(f,y){return y=dt.resolve(typeof f=="function"?Ri.ignoreTransaction(f):f).timeout(y||6e4),xt.trans?xt.trans.waitFor(y):y},Promise:dt,debug:{get:function(){return vt},set:function(f){St(f)}},derive:P,extend:h,props:N,override:H,Events:zi,on:Wi,liveQuery:ni,extendObservabilitySet:ms,getByKeyPath:Ee,setByKeyPath:ce,delByKeyPath:function(f,y){typeof y=="string"?ce(f,y,void 0):"length"in y&&[].map.call(y,function(A){ce(f,A,void 0)})},shallowClone:G,deepClone:fe,getObjectDiff:ar,cmp:ir,asap:pe,minKey:-1/0,addons:[],connections:Oi,errnames:xe,dependencies:ta,cache:x,semVer:"4.0.11",version:"4.0.11".split(".").map(function(f){return parseInt(f)}).reduce(function(f,y,A){return f+y/Math.pow(10,2*A)})})),Ri.maxKey=Ba(Ri.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Wi(wi,function(f){mn||(f=new CustomEvent(Vi,{detail:f}),mn=!0,dispatchEvent(f),mn=!1)}),addEventListener(Vi,function(f){f=f.detail,mn||ys(f)}));var ra,mn=!1,Va=function(){};return typeof BroadcastChannel<"u"&&((Va=function(){(ra=new BroadcastChannel(Vi)).onmessage=function(f){return f.data&&ys(f.data)}})(),typeof ra.unref=="function"&&ra.unref(),Wi(wi,function(f){mn||ra.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!ci.disableBfCache&&f.persisted){vt&&console.debug("Dexie: handling persisted pagehide"),ra?.close();for(var y=0,A=Oi;y<A.length;y++)A[y].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!ci.disableBfCache&&f.persisted&&(vt&&console.debug("Dexie: handling persisted pageshow"),Va(),ys({all:new an(-1/0,[[]])}))})),dt.rejectionMapper=function(f,y){return!f||f instanceof $||f instanceof TypeError||f instanceof SyntaxError||!f.name||!rt[f.name]?f:(y=new rt[f.name](y||f.message,f),"stack"in f&&O(y,"stack",{get:function(){return this.inner.stack}}),y)},St(vt),i(ci,Object.freeze({__proto__:null,Dexie:ci,liveQuery:ni,Entity:Ra,cmp:ir,PropModification:Da,replacePrefix:function(f,y){return new Da({replacePrefix:[f,y]})},add:function(f){return new Da({add:f})},remove:function(f){return new Da({remove:f})},default:ci,RangeSet:an,mergeRanges:ka,rangesOverlap:ul}),{default:ci}),ci})}(ah)),ah.exports}var T3=O3();const Mp=Vm(T3),Lm=Symbol.for("Dexie"),bh=globalThis[Lm]||(globalThis[Lm]=Mp);if(Mp.semVer!==bh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Mp.semVer} and ${bh.semVer}`);const{liveQuery:L_,mergeRanges:I_,rangesOverlap:O_,RangeSet:T_,cmp:R_,Entity:D_,PropModification:F_,replacePrefix:M_,add:B_,remove:q_}=bh,d1=[{id:"d1111111-1111-1111-1111-111111111111",name:"Ibrahim Fatmi",email:"brahim@fatmi.com",role:"director",department:"Management"}],h1={"brahim@fatmi.com":"Ibrahim1972"},f1=Object.freeze(Object.defineProperty({__proto__:null,defaultAgents:d1,defaultPasswords:h1},Symbol.toStringTag,{value:"Module"}));class R3 extends bh{agents;invoices;invoiceItems;settings;constructor(){super("invoice_db"),this.version(5).stores({agents:"id, name, email, role",invoices:"id, agentId, status, createdAt, clientName, *clientEmail, *notes, passportNumber, flightNumber, visaStatus, departureDate, dateOfBirth",invoiceItems:"id, invoiceId",settings:"id, theme, language"}),this.agents.hook("creating",function(e,r){if(!r.id||!r.email||!r.role)throw new Error("Invalid agent data")}),this.invoices.hook("creating",function(e,r){if(!r.agentId||!r.createdAt)throw new Error("Invalid invoice data")})}}const oi=new R3;async function D3(){try{if(console.log("Synchronizing default agents..."),await Promise.all(d1.map(async i=>{const o=await oi.agents.get(i.id);o?(o.email!==i.email||o.role!==i.role)&&(console.log(`Updating agent: ${i.email}`),await oi.agents.update(i.id,i)):(console.log(`Adding missing agent: ${i.email}`),await oi.agents.add(i))})),await oi.agents.count()>1){console.log("Database already has data, skipping demo invoices initialization");return}console.log("Clearing existing data..."),await Promise.all([oi.agents.clear(),oi.invoices.clear(),oi.invoiceItems.clear(),oi.settings.clear()]),console.log("Initializing demo data...");const e=["draft","sent","paid","overdue"],r=await Promise.all(e.map(i=>oi.invoices.add({id:crypto.randomUUID(),agentId:"a1111111-1111-1111-1111-111111111111",total:Math.floor(Math.random()*5e3)+500,status:i,createdAt:new Date().toISOString(),clientName:`Demo Client (${i})`,clientEmail:"client@example.com",notes:`Demo invoice in ${i} status`})));await Promise.all(r.map(i=>oi.invoiceItems.add({id:crypto.randomUUID(),invoiceId:i,description:"Demo Item",quantity:1,unitPrice:1e3}))),await oi.settings.add({id:"1",theme:"light",language:"fr"}),console.log("Demo data initialized successfully")}catch(t){throw console.error("Failed to initialize demo data:",t),t}}oi.on("ready",async()=>{try{await D3(),console.log("Database ready and initialized")}catch(t){console.error("Failed to initialize database:",t)}});const p1=J.createContext(void 0),F3=({children:t})=>{const[e,r]=J.useState(null),[i,o]=J.useState(!0),[a,l]=J.useState(null);J.useEffect(()=>{(async()=>{try{await oi.open();const _=localStorage.getItem("agent");if(_){const O=JSON.parse(_),P=await oi.agents.where("id").equals(O.id||"").first();P?r(P):localStorage.removeItem("agent")}}catch(_){console.error("Error initializing:",_),l("Failed to initialize application")}finally{o(!1)}})()},[]);const b={isAuthenticated:!!e,agentProfile:e,loading:i,error:a,signIn:async(N,_)=>{try{if(o(!0),l(null),N.toLowerCase().trim()==="brahim@fatmi.com"&&_==="Ibrahim1972"){let R=await oi.agents.where("email").equals(N.toLowerCase().trim()).first();if(!R){const{defaultAgents:L}=await qc(async()=>{const{defaultAgents:M}=await Promise.resolve().then(()=>f1);return{defaultAgents:M}},void 0);if(R=L.find(M=>M.email==="brahim@fatmi.com"),R)try{await oi.agents.put(R)}catch(M){console.warn("Failed to save Ibrahim to local DB, but allowing login anyway",M)}}if(R)return r(R),localStorage.setItem("agent",JSON.stringify(R)),{agent:R}}const P=h1[N];if(P&&_===P){const R=await oi.agents.where("email").equals(N).first();if(R)return r(R),localStorage.setItem("agent",JSON.stringify(R)),{agent:R}}return{error:"Incorrect email or password"}}catch(O){return console.error("Sign in error:",O),{error:"Failed to sign in. Please try again."}}finally{o(!1)}},signOut:async()=>{try{o(!0),localStorage.removeItem("agent"),r(null),console.log("User signed out successfully")}catch(N){console.error("Sign out error:",N),l("Failed to sign out")}finally{o(!1)}},retryAuth:async()=>{l(null);const N=localStorage.getItem("agent");if(N)try{const _=JSON.parse(N),O=await oi.agents.where("id").equals(_.id||"").first();O?r(O):(localStorage.removeItem("agent"),l("Session expired. Please sign in again."))}catch{l("Failed to restore session")}o(!1)},forceInitComplete:()=>{o(!1),l(null)}};return v.jsx(p1.Provider,{value:b,children:t})},qh=()=>{const t=J.useContext(p1);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},M3=()=>{const[t,e]=J.useState("dashboard"),[r,i]=J.useState(null),{agentProfile:o,signOut:a}=qh(),l=o?.id,{invoices:c=[],error:h,createInvoice:g,updateInvoice:w,deleteInvoice:b}=o1(l),{stats:N={totalInvoices:0,totalRevenue:0,paidInvoices:0,unpaidInvoices:0,pendingInvoices:0,recentInvoices:[]}}=u1(l),{invoices:_=[]}=c1(l),{agents:O=[],isLoading:P}=l1();if(!o)return v.jsx(el,{title:"Agent Portal",userType:"agent",children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})})});const R=O.find(G=>G.id===l);if(P&&!R)return v.jsx(el,{title:"Agent Portal",userType:"agent",children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})})});if(h)return v.jsx(el,{title:"Agent Portal",userType:"agent",children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsxs("div",{className:"text-center max-w-md",children:[v.jsx(ed,{className:"w-8 h-8 text-red-600 mx-auto mb-4"}),v.jsx("p",{className:"text-red-600 mb-4",children:"Error loading invoices"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reload Page"}),v.jsx("p",{className:"text-xs text-gray-500",children:"If the problem persists, check your internet connection"})]})]})})});const L=async G=>{if(!l){alert("You must be logged in to create invoices");return}if(!R){alert("Agent profile not found. Please contact support.");return}try{console.log("Creating invoice for agent:",l,R);const he={...G,agentId:l,clientName:G.client?.name||G.clientName||"Unknown Client",clientEmail:G.client?.email||G.clientEmail||"",createdAt:new Date().toISOString()};await g(he,G.items||[]),e("dashboard")}catch(he){console.error("Error creating invoice:",he);const Re=he instanceof Error?he.message:"Failed to create invoice. Please try again.";alert(Re)}},M=async G=>{if(!r?.id){alert("No invoice selected for update");return}try{console.log("Updating invoice:",r.id,G);const he={...G,clientName:G.client?.name||G.clientName||"Unknown Client",clientEmail:G.client?.email||G.clientEmail||""};await w(r.id,he,G.items),e("dashboard"),i(null)}catch(he){console.error("Error updating invoice:",he);const Re=he instanceof Error?he.message:"Failed to update invoice. Please try again.";alert(Re)}},H=G=>{i(G),e("view")},oe=G=>{i(G),e("edit")},pe=async G=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{await b(G)}catch(he){console.error("Error deleting invoice:",he),alert("Failed to delete invoice. Please try again.")}},Ee=async(G,he)=>{try{await w(G,{status:he}),r&&r.id===G&&i({...r,status:he})}catch(Re){console.error("Error updating invoice status:",Re),alert("Failed to update invoice status. Please try again.")}},ce=()=>{switch(t){case"create":return v.jsx(mp,{onSave:L,onCancel:()=>e("dashboard"),currentAgent:R},"create-invoice");case"edit":return r?v.jsx(mp,{editingInvoice:r,onSave:M,onCancel:()=>e("dashboard"),currentAgent:R},`edit-invoice-${r.id}`):null;case"view":return r?v.jsx($v,{invoice:r,onEdit:()=>e("edit"),onClose:()=>e("dashboard"),onStatusUpdate:Ee}):null;case"all-invoices":return v.jsx(Zw,{invoices:c,onView:H,onEdit:oe,onDelete:pe,onBack:()=>e("dashboard")});default:return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Welcome, ",R?.name||"Agent"]}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your invoices and track payments"})]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("button",{onClick:()=>e("create"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[v.jsx(hh,{className:"h-4 w-4"}),v.jsx("span",{children:"Create Invoice"})]}),v.jsxs("button",{onClick:a,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[v.jsx(Xp,{className:"h-4 w-4"}),v.jsx("span",{children:"Sign Out"})]})]})]}),v.jsx(Vv,{stats:N}),_.length>0&&v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[v.jsx(Rl,{className:"h-5 w-5 mr-2"}),"Today's Invoices"]}),v.jsxs("span",{className:"text-sm text-gray-500",children:[_.length," invoices"]})]}),v.jsx(mh,{invoices:_,onView:H,onEdit:oe,onDelete:pe,title:"Today's Invoices"})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[v.jsx(s5,{className:"h-5 w-5 mr-2"}),"Recent Invoices"]}),v.jsx("button",{onClick:()=>e("all-invoices"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All"})]}),v.jsx(mh,{invoices:c.slice(0,5),onView:H,onEdit:oe,onDelete:pe,title:"Recent Invoices"})]})]})}};return v.jsx(el,{title:"Agent Portal",userType:"agent",children:ce()})},B3=({agents:t,onUpdate:e})=>{const[r,i]=J.useState(null),[o,a]=J.useState(!1),[l,c]=J.useState({name:"",email:"",role:"agent",department:"",password:""}),h=async b=>{try{b.id?await oi.agents.update(b.id,{name:b.name,email:b.email,department:b.department,role:b.role}):await oi.agents.add({name:b.name,email:b.email,department:b.department,role:b.role}),i(null),a(!1),e()}catch(N){console.error("Error saving agent:",N),alert("Failed to save agent")}},g=b=>{a(!1),i({...b})},w=()=>{i(null),a(!1)};return v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Bc,{className:"h-5 w-5 text-gray-500"}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Agent Management"})]}),v.jsxs("button",{onClick:()=>{a(!0),i(null)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[v.jsx(a5,{className:"h-4 w-4"}),v.jsx("span",{children:"Add Agent"})]})]}),o&&v.jsxs("div",{className:"mb-6 p-4 border border-blue-200 dark:border-blue-800 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[v.jsx("h4",{className:"text-lg font-medium text-blue-900 dark:text-blue-200 mb-4",children:"Add New Agent"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Name",value:l.name,onChange:b=>c({...l,name:b.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2"}),v.jsx("input",{type:"email",placeholder:"Email",value:l.email,onChange:b=>c({...l,email:b.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2"}),v.jsx("input",{type:"password",placeholder:"Password",value:l.password,onChange:b=>c({...l,password:b.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2"}),v.jsx("input",{type:"text",placeholder:"Department",value:l.department,onChange:b=>c({...l,department:b.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2"})]}),v.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[v.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),v.jsx("button",{onClick:()=>h(l),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Add Agent"})]})]}),v.jsx("div",{className:"space-y-4",children:t.map(b=>v.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50",children:r?.id===b.id&&r?v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("input",{type:"text",value:r.name||"",onChange:N=>i({...r,name:N.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2"}),v.jsx("input",{type:"email",value:r.email||"",onChange:N=>i({...r,email:N.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2"}),v.jsx("input",{type:"text",value:r.department||"",onChange:N=>i({...r,department:N.target.value}),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2"}),v.jsxs("div",{className:"flex justify-end space-x-2",children:[v.jsx("button",{onClick:w,className:"text-gray-600 hover:text-gray-800",children:v.jsx(Lh,{className:"h-5 w-5"})}),v.jsx("button",{onClick:()=>r&&h(r),className:"text-green-600 hover:text-green-800",children:v.jsx(Ph,{className:"h-5 w-5"})})]})]}):v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:b.name}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.email,"  ",b.department]}),v.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:b.role})]}),v.jsx("button",{onClick:()=>g(b),className:"text-gray-600 hover:text-gray-800",children:v.jsx(r5,{className:"h-5 w-5"})})]})},b.id))})]})},q3=({onLogout:t})=>{const{agentProfile:e}=qh(),[r,i]=J.useState(null),[o,a]=J.useState(null),[l,c]=J.useState("today"),[h,g]=J.useState("all"),[w,b]=J.useState("agents"),{invoices:N=[],isLoading:_,error:O,updateInvoice:P,deleteInvoice:R}=o1(),{stats:L={totalInvoices:0,totalRevenue:0,paidInvoices:0,unpaidInvoices:0,pendingInvoices:0,recentInvoices:[]},isLoading:M}=u1(),{invoices:H=[],isLoading:oe}=c1(),{agents:pe=[],isLoading:Ee}=l1(),ce=hn.useMemo(()=>pe.filter(me=>me.role!=="director"),[pe]),G=hn.useMemo(()=>pe?w==="agents"?pe.filter(me=>me.role!=="director"):pe:[],[pe,w]),he=me=>{i(me)},Re=()=>{i(null)},V=me=>{a(me),i(null)},Y=async me=>{if(!o){alert("No invoice selected for update");return}try{console.log("Director updating invoice:",o.id,me);const te=me.items.map(ye=>({id:ye.id,description:ye.description,quantity:ye.quantity,unitPrice:ye.unitPrice,total:ye.total}));await P(o.id,{client:{name:me.client.name,email:me.client.email,phone:me.client.phone,address:me.client.address},subtotal:me.subtotal,tax:me.tax,total:me.total,status:me.status,dueDate:me.dueDate,notes:me.notes},te),a(null),alert("Invoice updated successfully!")}catch(te){console.error("Error updating invoice:",te);const ye=te instanceof Error?te.message:"Failed to update invoice. Please try again.";alert(ye)}},fe=async me=>{if(window.confirm("Are you sure you want to delete this invoice? This action cannot be undone."))try{await R(me),alert("Invoice deleted successfully")}catch(te){console.error("Error deleting invoice:",te),alert("Failed to delete invoice. Please try again.")}},re=async(me,te)=>{try{await P(me,{status:te}),r&&r.id===me&&i({...r,status:te}),alert({draft:"Invoice moved to draft",sent:"Invoice marked as sent to client",paid:"Invoice marked as paid - great job!",overdue:"Invoice marked as overdue"}[te])}catch(ye){throw console.error("Error updating invoice status:",ye),ye}},qe=hn.useMemo(()=>{let te=[...l==="today"?H:N];return h!=="all"&&(te=te.filter(ye=>ye.agentId===h)),te.sort((ye,be)=>new Date(be.createdAt).getTime()-new Date(ye.createdAt).getTime())},[N,H,l,h]),Be=hn.useMemo(()=>G.map(me=>{const te=N.filter(I=>I.agentId===me.id),ye=H.filter(I=>I.agentId===me.id),be=te.filter(I=>I.status==="paid"),se=be.reduce((I,$)=>I+$.total,0);return{...me,totalInvoices:te.length,todayInvoices:ye.length,totalRevenue:se,successRate:te.length>0?Math.round(be.length/te.length*100):0}}),[G,N,H]);return _||M||Ee||oe?v.jsx(el,{title:"Director Dashboard",userType:"director",userName:e?.name||"Director",onLogout:t,children:v.jsx("div",{className:"flex items-center justify-center min-h-64",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):O?v.jsx(el,{title:"Director Dashboard",userType:"director",userName:e?.name||"Director",onLogout:t,children:v.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[v.jsx(ed,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-red-900 dark:text-red-200 mb-2",children:"Connection Error"}),v.jsx("p",{className:"text-red-700 dark:text-red-300 mb-4",children:O}),v.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Retry"})]})}):o?v.jsx(el,{title:"Edit Invoice",userType:"director",userName:e?.name||"Director",onLogout:t,children:v.jsx(mp,{onSave:Y,onCancel:()=>a(null),editingInvoice:o})}):r?v.jsx(el,{title:"Invoice Details",userType:"director",userName:e?.name||"Director",onLogout:t,children:v.jsx($v,{invoice:r,onClose:Re,onEdit:()=>V(r),onStatusUpdate:re})}):v.jsxs(el,{title:"Director Dashboard",userType:"director",userName:e?.name||"Director",onLogout:t,children:[v.jsx("div",{className:"mb-8",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Director Dashboard"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Overview of all agency operations and performance"})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[v.jsx(Ch,{className:"h-4 w-4"}),v.jsx("span",{children:"Export Report"})]}),v.jsxs("button",{onClick:t,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[v.jsx(Xp,{className:"h-4 w-4"}),v.jsx("span",{children:"Logout"})]})]})]})}),v.jsx(Vv,{stats:L}),v.jsx(B3,{agents:pe,onUpdate:()=>{}}),v.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Rl,{className:"h-5 w-5 text-gray-500"}),v.jsxs("select",{value:l,onChange:me=>c(me.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[v.jsx("option",{value:"today",children:"Today's Invoices"}),v.jsx("option",{value:"all",children:"All Invoices"})]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(dv,{className:"h-5 w-5 text-gray-500"}),v.jsxs("select",{value:h,onChange:me=>g(me.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[v.jsx("option",{value:"all",children:"All Agents"}),ce.map(me=>v.jsx("option",{value:me.id,children:me.name},me.id))]})]})]}),v.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",qe.length," invoice",qe.length!==1?"s":""]})]})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Today's Performance"}),v.jsx(Rl,{className:"h-5 w-5 text-blue-600"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-blue-600",children:H.length}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Invoices Created"})]}),v.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-green-600",children:Zn(H.reduce((me,te)=>me+te.total,0))}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Value"})]})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Agent Performance"}),v.jsx(Bc,{className:"h-5 w-5 text-purple-600"})]}),v.jsx("div",{className:"space-y-3",children:Be.slice(0,3).map(me=>v.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:me.name}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:me.department})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[me.todayInvoices," today"]}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[me.totalInvoices," total"]})]})]},me.id))})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Agent Performance Overview"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Bc,{className:"h-5 w-5 text-gray-500"}),v.jsxs("select",{value:w,onChange:me=>b(me.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[v.jsx("option",{value:"agents",children:"Showing Agents"}),v.jsx("option",{value:"all",children:"Showing All Users"})]})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[v.jsx("div",{className:"col-span-2",children:"Agent"}),v.jsx("div",{className:"col-span-2",children:"Department"}),v.jsx("div",{className:"col-span-2",children:"Today"}),v.jsx("div",{className:"col-span-2",children:"Total Invoices"}),v.jsx("div",{className:"col-span-2",children:"Revenue"}),v.jsx("div",{className:"col-span-2",children:"Success Rate"})]}),Be.map(me=>v.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 text-sm text-gray-900 dark:text-white",children:[v.jsx("div",{className:"col-span-2",children:me.name}),v.jsx("div",{className:"col-span-2",children:me.department}),v.jsx("div",{className:"col-span-2",children:me.todayInvoices}),v.jsx("div",{className:"col-span-2",children:me.totalInvoices}),v.jsx("div",{className:"col-span-2",children:Zn(me.totalRevenue)}),v.jsx("div",{className:"col-span-2",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2 mr-2",children:v.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${me.successRate}%`}})}),v.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[me.successRate,"%"]})]})})]},me.id))]})]}),v.jsx(mh,{invoices:qe,onView:he,onEdit:V,onDelete:fe,title:l==="today"?"Today's Invoices":"All Invoices"})]})},U3=({onBack:t})=>{const[e,r]=J.useState(""),[i,o]=J.useState(""),[a,l]=J.useState(!1),[c,h]=J.useState(!1),[g,w]=J.useState(""),{signIn:b}=qh(),N=async _=>{if(_.preventDefault(),!(!e||!i)){h(!0),w("");try{const O=await b(e,i);O.error&&w(O.error)}catch{w("An unexpected error occurred")}finally{h(!1)}}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-white to-cyan-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"max-w-md w-full",children:[t&&v.jsx("div",{className:"mb-6",children:v.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors duration-200",children:[v.jsx(ov,{className:"h-5 w-5"}),v.jsx("span",{children:"Back"})]})}),v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"bg-primary-500 p-4 rounded-2xl inline-block mb-4 shadow-lg",style:{backgroundColor:"#03989e"},children:v.jsx(dh,{className:"h-8 w-8 text-white"})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agence de Voyage Agent Portal"}),v.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),v.jsx("p",{className:"text-gray-600",children:"Enter your credentials to access your dashboard"})]}),g&&v.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-red-600 text-sm font-medium",children:g})}),v.jsxs("form",{onSubmit:N,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(e5,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:"email",value:e,onChange:_=>r(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",style:{"--tw-ring-color":"#03989e"},placeholder:"Enter your email",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Z2,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:a?"text":"password",value:i,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",style:{"--tw-ring-color":"#03989e"},placeholder:"Enter your password",required:!0}),v.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a?v.jsx(Y2,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):v.jsx(cv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),v.jsx("button",{type:"submit",disabled:c||!e||!i,className:"w-full text-white py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl disabled:cursor-not-allowed",style:{backgroundColor:"#03989e",opacity:c||!e||!i?.6:1},onMouseEnter:_=>{!c&&e&&i&&(_.currentTarget.style.backgroundColor="#027a7f")},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="#03989e"},children:c?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),v.jsx("span",{children:"Signing in..."})]}):v.jsx("span",{children:"Sign In"})})]})]}),v.jsx("div",{className:"text-center mt-8",children:v.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Agence de Voyage. Secure Agent Portal."})})]})})},g1=({size:t="md",text:e,className:r=""})=>{const i={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return v.jsxs("div",{className:`flex flex-col items-center justify-center space-y-4 ${r}`,children:[v.jsxs("div",{className:"text-center",children:[v.jsx(pv,{className:`animate-spin text-blue-600 mx-auto ${i[t]} ${e?"mb-2":""}`}),e&&v.jsx("p",{className:"text-gray-600 font-medium",children:e})]}),v.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"h-1.5 w-24 bg-gray-200 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-blue-600 animate-progress",style:{width:"75%"}})}),v.jsx("span",{className:"text-sm text-gray-500",children:"75%"})]}),v.jsx("button",{onClick:()=>{const o=localStorage.getItem("dev-bypass-auth")==="true";localStorage.setItem("dev-bypass-auth",(!o).toString()),window.location.reload()},className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Quick Access (Dev Mode)"})]})]})},z3=()=>{const[t,e]=J.useState(navigator.onLine),[r,i]=J.useState(!1);return J.useEffect(()=>{const o=()=>{e(!0),i(!0),setTimeout(()=>i(!1),3e3)},a=()=>{e(!1),i(!0)};return window.addEventListener("online",o),window.addEventListener("offline",a),navigator.onLine||i(!0),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",a)}},[]),r?v.jsx("div",{className:`fixed top-4 right-4 z-50 px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 ${t?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:t?v.jsxs(v.Fragment,{children:[v.jsx(l5,{className:"w-4 h-4"}),v.jsx("span",{className:"text-sm font-medium",children:"Back online"})]}):v.jsxs(v.Fragment,{children:[v.jsx(o5,{className:"w-4 h-4"}),v.jsx("span",{className:"text-sm font-medium",children:"No internet connection"})]})}):null},$3=({onRetry:t,onSkip:e})=>v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(K2,{className:"h-8 w-8 text-yellow-600"})}),v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Connection Issue"}),v.jsx("p",{className:"text-gray-600",children:"We're having trouble connecting to the authentication service. This might be due to network issues or server maintenance."})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200",children:[v.jsx(gv,{className:"h-4 w-4"}),v.jsx("span",{children:"Try Again"})]}),v.jsx("button",{onClick:e,className:"w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-colors duration-200",children:"Proceed to Login"})]}),v.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:v.jsx("p",{className:"text-sm text-gray-500",children:"If this problem persists, please check your internet connection or contact support."})})]})}),V3=()=>{const[t,e]=J.useState(!1);return J.useEffect(()=>{localStorage.getItem("dev-bypass-auth"),e(!1)},[]),{isDevelopment:t,enableBypass:()=>{localStorage.setItem("dev-bypass-auth","true"),e(!0)},disableBypass:()=>{localStorage.removeItem("dev-bypass-auth"),e(!1)}}},W3=()=>{const{isAuthenticated:t,loading:e,error:r,agentProfile:i,forceInitComplete:o,retryAuth:a,signOut:l}=qh();return V3(),J.useEffect(()=>{document.title="Agent Portal - Invoice Management System"},[]),r&&!e?v.jsx($3,{onRetry:a,onSkip:()=>o()}):e?v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"text-center",children:[v.jsx(g1,{size:"lg",text:"Loading your account..."}),v.jsxs("div",{className:"mt-6 space-y-3",children:[v.jsx("button",{onClick:()=>window.location.reload(),className:"block w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:"Try Again"}),!1,v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'If loading takes too long, click "Try Again"'})]})]})}):t?v.jsxs("div",{className:"transition-colors duration-200",children:[v.jsx(z3,{}),i?.role==="director"?v.jsx(q3,{onLogout:l}):v.jsx(M3,{})]}):v.jsx(U3,{})},H3=()=>{const t=sl(),[e,r]=J.useState(()=>{const c=localStorage.getItem("nav-position");return c?JSON.parse(c):{x:window.innerWidth-200,y:20}}),[i,o]=J.useState(!1),a=J.useRef(null),l=c=>{o(!0),a.current={offsetX:c.clientX-e.x,offsetY:c.clientY-e.y}};return J.useEffect(()=>{const c=g=>{if(!i||!a.current)return;const w=g.clientX-a.current.offsetX,b=g.clientY-a.current.offsetY,N=Math.max(10,Math.min(w,window.innerWidth-180)),_=Math.max(10,Math.min(b,window.innerHeight-100));r({x:N,y:_})},h=()=>{i&&(o(!1),localStorage.setItem("nav-position",JSON.stringify(e)))};return i&&(window.addEventListener("mousemove",c),window.addEventListener("mouseup",h)),()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",h)}},[i,e]),v.jsx("div",{className:"fixed z-[9999] select-none",style:{left:`${e.x}px`,top:`${e.y}px`,cursor:i?"grabbing":"default"},children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-row items-center p-1.5 gap-1 min-w-[160px]",children:[v.jsx("div",{onMouseDown:l,className:"cursor-grab active:cursor-grabbing p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"  ",children:v.jsx(hv,{className:"h-4 w-4 text-gray-400"})}),v.jsxs("div",{className:"flex flex-row gap-1 border-l border-gray-100 dark:border-gray-700 ml-1 pl-1",children:[v.jsxs(uh,{to:"/portal",className:`flex items-center space-x-2 px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ${t.pathname==="/portal"||t.pathname==="/"?"bg-blue-600 text-white shadow-md shadow-blue-200 dark:shadow-none font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[v.jsx(du,{className:"h-4 w-4"}),v.jsx("span",{children:"Dashboard"})]}),v.jsxs(uh,{to:"/portal/rooming",className:`flex items-center space-x-2 px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ${t.pathname==="/portal/rooming"?"bg-emerald-600 text-white shadow-md shadow-emerald-200 dark:shadow-none font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[v.jsx(fv,{className:"h-4 w-4"}),v.jsx("span",{children:"Rooming"})]})]})]})})};class K3 extends J.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}handleReload=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[v.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:v.jsx(ed,{className:"w-6 h-6 text-red-600"})}),v.jsx("h1",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Something went wrong"}),v.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Try Again"}),v.jsxs("button",{onClick:this.handleReload,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[v.jsx(gv,{className:"w-4 h-4"}),"Reload Page"]})]})]})}):this.props.children}}const Uh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ic(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function o0(t){return"nodeType"in t}function As(t){var e,r;return t?ic(t)?t:o0(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function l0(t){const{Document:e}=As(t);return t instanceof e}function nd(t){return ic(t)?!1:t instanceof As(t).HTMLElement}function m1(t){return t instanceof As(t).SVGElement}function sc(t){return t?ic(t)?t.document:o0(t)?l0(t)?t:nd(t)||m1(t)?t.ownerDocument:document:document:document}const il=Uh?J.useLayoutEffect:J.useEffect;function zh(t){const e=J.useRef(t);return il(()=>{e.current=t}),J.useCallback(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.current==null?void 0:e.current(...i)},[])}function G3(){const t=J.useRef(null),e=J.useCallback((i,o)=>{t.current=setInterval(i,o)},[]),r=J.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Jc(t,e){e===void 0&&(e=[t]);const r=J.useRef(t);return il(()=>{r.current!==t&&(r.current=t)},e),r}function id(t,e){const r=J.useRef();return J.useMemo(()=>{const i=t(r.current);return r.current=i,i},[...e])}function xh(t){const e=zh(t),r=J.useRef(null),i=J.useCallback(o=>{o!==r.current&&e?.(o,r.current),r.current=o},[]);return[r,i]}function _h(t){const e=J.useRef();return J.useEffect(()=>{e.current=t},[t]),e.current}let sp={};function $h(t,e){return J.useMemo(()=>{if(e)return e;const r=sp[t]==null?0:sp[t]+1;return sp[t]=r,t+"-"+r},[t,e])}function v1(t){return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((a,l)=>{const c=Object.entries(l);for(const[h,g]of c){const w=a[h];w!=null&&(a[h]=w+t*g)}return a},{...e})}}const Zu=v1(1),kh=v1(-1);function J3(t){return"clientX"in t&&"clientY"in t}function u0(t){if(!t)return!1;const{KeyboardEvent:e}=As(t.target);return e&&t instanceof e}function Y3(t){if(!t)return!1;const{TouchEvent:e}=As(t.target);return e&&t instanceof e}function Sh(t){if(Y3(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return J3(t)?{x:t.clientX,y:t.clientY}:null}const Yc=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Yc.Translate.toString(t),Yc.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:i}=t;return e+" "+r+"ms "+i}}}),Im="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function X3(t){return t.matches(Im)?t:t.querySelector(Im)}const Q3={display:"none"};function Z3(t){let{id:e,value:r}=t;return hn.createElement("div",{id:e,style:Q3},r)}function e4(t){let{id:e,announcement:r,ariaLiveType:i="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return hn.createElement("div",{id:e,style:o,role:"status","aria-live":i,"aria-atomic":!0},r)}function t4(){const[t,e]=J.useState("");return{announce:J.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const y1=J.createContext(null);function r4(t){const e=J.useContext(y1);J.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function n4(){const[t]=J.useState(()=>new Set),e=J.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[J.useCallback(i=>{let{type:o,event:a}=i;t.forEach(l=>{var c;return(c=l[o])==null?void 0:c.call(l,a)})},[t]),e]}const i4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},s4={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function a4(t){let{announcements:e=s4,container:r,hiddenTextDescribedById:i,screenReaderInstructions:o=i4}=t;const{announce:a,announcement:l}=t4(),c=$h("DndLiveRegion"),[h,g]=J.useState(!1);if(J.useEffect(()=>{g(!0)},[]),r4(J.useMemo(()=>({onDragStart(b){let{active:N}=b;a(e.onDragStart({active:N}))},onDragMove(b){let{active:N,over:_}=b;e.onDragMove&&a(e.onDragMove({active:N,over:_}))},onDragOver(b){let{active:N,over:_}=b;a(e.onDragOver({active:N,over:_}))},onDragEnd(b){let{active:N,over:_}=b;a(e.onDragEnd({active:N,over:_}))},onDragCancel(b){let{active:N,over:_}=b;a(e.onDragCancel({active:N,over:_}))}}),[a,e])),!h)return null;const w=hn.createElement(hn.Fragment,null,hn.createElement(Z3,{id:i,value:o.draggable}),hn.createElement(e4,{id:c,announcement:l}));return r?Cc.createPortal(w,r):w}var gi;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(gi||(gi={}));function Nh(){}function o4(t,e){return J.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function l4(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return J.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const uo=Object.freeze({x:0,y:0});function u4(t,e){const r=Sh(t);if(!r)return"0 0";const i={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function c4(t,e){let{data:{value:r}}=t,{data:{value:i}}=e;return i-r}function d4(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function h4(t,e){const r=Math.max(e.top,t.top),i=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),l=o-i,c=a-r;if(i<o&&r<a){const h=e.width*e.height,g=t.width*t.height,w=l*c,b=w/(h+g-w);return Number(b.toFixed(4))}return 0}const f4=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:i}=t;const o=[];for(const a of i){const{id:l}=a,c=r.get(l);if(c){const h=h4(c,e);h>0&&o.push({id:l,data:{droppableContainer:a,value:h}})}}return o.sort(c4)};function p4(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function w1(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:uo}function g4(t){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.reduce((l,c)=>({...l,top:l.top+t*c.y,bottom:l.bottom+t*c.y,left:l.left+t*c.x,right:l.right+t*c.x}),{...r})}}const m4=g4(1);function b1(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function v4(t,e,r){const i=b1(e);if(!i)return t;const{scaleX:o,scaleY:a,x:l,y:c}=i,h=t.left-l-(1-o)*parseFloat(r),g=t.top-c-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),w=o?t.width/o:t.width,b=a?t.height/a:t.height;return{width:w,height:b,top:g,right:h+w,bottom:g+b,left:h}}const y4={ignoreTransform:!1};function sd(t,e){e===void 0&&(e=y4);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:w}=As(t).getComputedStyle(t);g&&(r=v4(r,g,w))}const{top:i,left:o,width:a,height:l,bottom:c,right:h}=r;return{top:i,left:o,width:a,height:l,bottom:c,right:h}}function Om(t){return sd(t,{ignoreTransform:!0})}function w4(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function b4(t,e){return e===void 0&&(e=As(t).getComputedStyle(t)),e.position==="fixed"}function x4(t,e){e===void 0&&(e=As(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=e[o];return typeof a=="string"?r.test(a):!1})}function c0(t,e){const r=[];function i(o){if(e!=null&&r.length>=e||!o)return r;if(l0(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!nd(o)||m1(o)||r.includes(o))return r;const a=As(t).getComputedStyle(o);return o!==t&&x4(o,a)&&r.push(o),b4(o,a)?r:i(o.parentNode)}return t?i(t):r}function x1(t){const[e]=c0(t,1);return e??null}function ap(t){return!Uh||!t?null:ic(t)?t:o0(t)?l0(t)||t===sc(t).scrollingElement?window:nd(t)?t:null:null}function _1(t){return ic(t)?t.scrollX:t.scrollLeft}function k1(t){return ic(t)?t.scrollY:t.scrollTop}function Bp(t){return{x:_1(t),y:k1(t)}}var Ci;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ci||(Ci={}));function S1(t){return!Uh||!t?!1:t===document.scrollingElement}function N1(t){const e={x:0,y:0},r=S1(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},o=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,l=t.scrollTop>=i.y,c=t.scrollLeft>=i.x;return{isTop:o,isLeft:a,isBottom:l,isRight:c,maxScroll:i,minScroll:e}}const _4={x:.2,y:.2};function k4(t,e,r,i,o){let{top:a,left:l,right:c,bottom:h}=r;i===void 0&&(i=10),o===void 0&&(o=_4);const{isTop:g,isBottom:w,isLeft:b,isRight:N}=N1(t),_={x:0,y:0},O={x:0,y:0},P={height:e.height*o.y,width:e.width*o.x};return!g&&a<=e.top+P.height?(_.y=Ci.Backward,O.y=i*Math.abs((e.top+P.height-a)/P.height)):!w&&h>=e.bottom-P.height&&(_.y=Ci.Forward,O.y=i*Math.abs((e.bottom-P.height-h)/P.height)),!N&&c>=e.right-P.width?(_.x=Ci.Forward,O.x=i*Math.abs((e.right-P.width-c)/P.width)):!b&&l<=e.left+P.width&&(_.x=Ci.Backward,O.x=i*Math.abs((e.left+P.width-l)/P.width)),{direction:_,speed:O}}function S4(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:r,right:i,bottom:o}=t.getBoundingClientRect();return{top:e,left:r,right:i,bottom:o,width:t.clientWidth,height:t.clientHeight}}function A1(t){return t.reduce((e,r)=>Zu(e,Bp(r)),uo)}function N4(t){return t.reduce((e,r)=>e+_1(r),0)}function A4(t){return t.reduce((e,r)=>e+k1(r),0)}function j1(t,e){if(e===void 0&&(e=sd),!t)return;const{top:r,left:i,bottom:o,right:a}=e(t);x1(t)&&(o<=0||a<=0||r>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const j4=[["x",["left","right"],N4],["y",["top","bottom"],A4]];class d0{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=c0(r),o=A1(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,c]of j4)for(const h of l)Object.defineProperty(this,h,{get:()=>{const g=c(i),w=o[a]-g;return this.rect[h]+w},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Tc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=e}add(e,r,i){var o;(o=this.target)==null||o.addEventListener(e,r,i),this.listeners.push([e,r,i])}}function E4(t){const{EventTarget:e}=As(t);return t instanceof e?t:sc(t)}function op(t,e){const r=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+i**2)>e:"x"in e&&"y"in e?r>e.x&&i>e.y:"x"in e?r>e.x:"y"in e?i>e.y:!1}var Oa;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Oa||(Oa={}));function Tm(t){t.preventDefault()}function C4(t){t.stopPropagation()}var dn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(dn||(dn={}));const E1={start:[dn.Space,dn.Enter],cancel:[dn.Esc],end:[dn.Space,dn.Enter,dn.Tab]},P4=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case dn.Right:return{...r,x:r.x+25};case dn.Left:return{...r,x:r.x-25};case dn.Down:return{...r,y:r.y+25};case dn.Up:return{...r,y:r.y-25}}};class C1{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Tc(sc(r)),this.windowListeners=new Tc(As(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Oa.Resize,this.handleCancel),this.windowListeners.add(Oa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Oa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,i=e.node.current;i&&j1(i),r(uo)}handleKeyDown(e){if(u0(e)){const{active:r,context:i,options:o}=this.props,{keyboardCodes:a=E1,coordinateGetter:l=P4,scrollBehavior:c="smooth"}=o,{code:h}=e;if(a.end.includes(h)){this.handleEnd(e);return}if(a.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:g}=i.current,w=g?{x:g.left,y:g.top}:uo;this.referenceCoordinates||(this.referenceCoordinates=w);const b=l(e,{active:r,context:i.current,currentCoordinates:w});if(b){const N=kh(b,w),_={x:0,y:0},{scrollableAncestors:O}=i.current;for(const P of O){const R=e.code,{isTop:L,isRight:M,isLeft:H,isBottom:oe,maxScroll:pe,minScroll:Ee}=N1(P),ce=S4(P),G={x:Math.min(R===dn.Right?ce.right-ce.width/2:ce.right,Math.max(R===dn.Right?ce.left:ce.left+ce.width/2,b.x)),y:Math.min(R===dn.Down?ce.bottom-ce.height/2:ce.bottom,Math.max(R===dn.Down?ce.top:ce.top+ce.height/2,b.y))},he=R===dn.Right&&!M||R===dn.Left&&!H,Re=R===dn.Down&&!oe||R===dn.Up&&!L;if(he&&G.x!==b.x){const V=P.scrollLeft+N.x,Y=R===dn.Right&&V<=pe.x||R===dn.Left&&V>=Ee.x;if(Y&&!N.y){P.scrollTo({left:V,behavior:c});return}Y?_.x=P.scrollLeft-V:_.x=R===dn.Right?P.scrollLeft-pe.x:P.scrollLeft-Ee.x,_.x&&P.scrollBy({left:-_.x,behavior:c});break}else if(Re&&G.y!==b.y){const V=P.scrollTop+N.y,Y=R===dn.Down&&V<=pe.y||R===dn.Up&&V>=Ee.y;if(Y&&!N.x){P.scrollTo({top:V,behavior:c});return}Y?_.y=P.scrollTop-V:_.y=R===dn.Down?P.scrollTop-pe.y:P.scrollTop-Ee.y,_.y&&P.scrollBy({top:-_.y,behavior:c});break}}this.handleMove(e,Zu(kh(b,this.referenceCoordinates),_))}}}handleMove(e,r){const{onMove:i}=this.props;e.preventDefault(),i(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}C1.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:i=E1,onActivation:o}=e,{active:a}=r;const{code:l}=t.nativeEvent;if(i.start.includes(l)){const c=a.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),o?.({event:t.nativeEvent}),!0)}return!1}}];function Rm(t){return!!(t&&"distance"in t)}function Dm(t){return!!(t&&"delay"in t)}class h0{constructor(e,r,i){var o;i===void 0&&(i=E4(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:a}=e,{target:l}=a;this.props=e,this.events=r,this.document=sc(l),this.documentListeners=new Tc(this.document),this.listeners=new Tc(i),this.windowListeners=new Tc(As(l)),this.initialCoordinates=(o=Sh(a))!=null?o:uo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Oa.Resize,this.handleCancel),this.windowListeners.add(Oa.DragStart,Tm),this.windowListeners.add(Oa.VisibilityChange,this.handleCancel),this.windowListeners.add(Oa.ContextMenu,Tm),this.documentListeners.add(Oa.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Dm(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Rm(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:i,onPending:o}=this.props;o(i,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Oa.Click,C4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Oa.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:i,initialCoordinates:o,props:a}=this,{onMove:l,options:{activationConstraint:c}}=a;if(!o)return;const h=(r=Sh(e))!=null?r:uo,g=kh(o,h);if(!i&&c){if(Rm(c)){if(c.tolerance!=null&&op(g,c.tolerance))return this.handleCancel();if(op(g,c.distance))return this.handleStart()}if(Dm(c)&&op(g,c.tolerance))return this.handleCancel();this.handlePending(c,g);return}e.cancelable&&e.preventDefault(),l(h)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===dn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const L4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class f0 extends h0{constructor(e){const{event:r}=e,i=sc(r.target);super(e,L4,i)}}f0.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:i}=e;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const I4={move:{name:"mousemove"},end:{name:"mouseup"}};var qp;(function(t){t[t.RightClick=2]="RightClick"})(qp||(qp={}));class O4 extends h0{constructor(e){super(e,I4,sc(e.event.target))}}O4.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:i}=e;return r.button===qp.RightClick?!1:(i?.({event:r}),!0)}}];const lp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class T4 extends h0{constructor(e){super(e,lp)}static setup(){return window.addEventListener(lp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(lp.move.name,e)};function e(){}}}T4.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:i}=e;const{touches:o}=r;return o.length>1?!1:(i?.({event:r}),!0)}}];var Rc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Rc||(Rc={}));var Ah;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ah||(Ah={}));function R4(t){let{acceleration:e,activator:r=Rc.Pointer,canScroll:i,draggingRect:o,enabled:a,interval:l=5,order:c=Ah.TreeOrder,pointerCoordinates:h,scrollableAncestors:g,scrollableAncestorRects:w,delta:b,threshold:N}=t;const _=F4({delta:b,disabled:!a}),[O,P]=G3(),R=J.useRef({x:0,y:0}),L=J.useRef({x:0,y:0}),M=J.useMemo(()=>{switch(r){case Rc.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Rc.DraggableRect:return o}},[r,o,h]),H=J.useRef(null),oe=J.useCallback(()=>{const Ee=H.current;if(!Ee)return;const ce=R.current.x*L.current.x,G=R.current.y*L.current.y;Ee.scrollBy(ce,G)},[]),pe=J.useMemo(()=>c===Ah.TreeOrder?[...g].reverse():g,[c,g]);J.useEffect(()=>{if(!a||!g.length||!M){P();return}for(const Ee of pe){if(i?.(Ee)===!1)continue;const ce=g.indexOf(Ee),G=w[ce];if(!G)continue;const{direction:he,speed:Re}=k4(Ee,G,M,e,N);for(const V of["x","y"])_[V][he[V]]||(Re[V]=0,he[V]=0);if(Re.x>0||Re.y>0){P(),H.current=Ee,O(oe,l),R.current=Re,L.current=he;return}}R.current={x:0,y:0},L.current={x:0,y:0},P()},[e,oe,i,P,a,l,JSON.stringify(M),JSON.stringify(_),O,g,pe,w,JSON.stringify(N)])}const D4={x:{[Ci.Backward]:!1,[Ci.Forward]:!1},y:{[Ci.Backward]:!1,[Ci.Forward]:!1}};function F4(t){let{delta:e,disabled:r}=t;const i=_h(e);return id(o=>{if(r||!i||!o)return D4;const a={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Ci.Backward]:o.x[Ci.Backward]||a.x===-1,[Ci.Forward]:o.x[Ci.Forward]||a.x===1},y:{[Ci.Backward]:o.y[Ci.Backward]||a.y===-1,[Ci.Forward]:o.y[Ci.Forward]||a.y===1}}},[r,e,i])}function M4(t,e){const r=e!=null?t.get(e):void 0,i=r?r.node.current:null;return id(o=>{var a;return e==null?null:(a=i??o)!=null?a:null},[i,e])}function B4(t,e){return J.useMemo(()=>t.reduce((r,i)=>{const{sensor:o}=i,a=o.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,i)}));return[...r,...a]},[]),[t,e])}var Xc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Xc||(Xc={}));var Up;(function(t){t.Optimized="optimized"})(Up||(Up={}));const Fm=new Map;function q4(t,e){let{dragging:r,dependencies:i,config:o}=e;const[a,l]=J.useState(null),{frequency:c,measure:h,strategy:g}=o,w=J.useRef(t),b=R(),N=Jc(b),_=J.useCallback(function(L){L===void 0&&(L=[]),!N.current&&l(M=>M===null?L:M.concat(L.filter(H=>!M.includes(H))))},[N]),O=J.useRef(null),P=id(L=>{if(b&&!r)return Fm;if(!L||L===Fm||w.current!==t||a!=null){const M=new Map;for(let H of t){if(!H)continue;if(a&&a.length>0&&!a.includes(H.id)&&H.rect.current){M.set(H.id,H.rect.current);continue}const oe=H.node.current,pe=oe?new d0(h(oe),oe):null;H.rect.current=pe,pe&&M.set(H.id,pe)}return M}return L},[t,a,r,b,h]);return J.useEffect(()=>{w.current=t},[t]),J.useEffect(()=>{b||_()},[r,b]),J.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),J.useEffect(()=>{b||typeof c!="number"||O.current!==null||(O.current=setTimeout(()=>{_(),O.current=null},c))},[c,b,_,...i]),{droppableRects:P,measureDroppableContainers:_,measuringScheduled:a!=null};function R(){switch(g){case Xc.Always:return!1;case Xc.BeforeDragging:return r;default:return!r}}}function p0(t,e){return id(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function U4(t,e){return p0(t,e)}function z4(t){let{callback:e,disabled:r}=t;const i=zh(e),o=J.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(i)},[i,r]);return J.useEffect(()=>()=>o?.disconnect(),[o]),o}function Vh(t){let{callback:e,disabled:r}=t;const i=zh(e),o=J.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(i)},[r]);return J.useEffect(()=>()=>o?.disconnect(),[o]),o}function $4(t){return new d0(sd(t),t)}function Mm(t,e,r){e===void 0&&(e=$4);const[i,o]=J.useState(null);function a(){o(h=>{if(!t)return null;if(t.isConnected===!1){var g;return(g=h??r)!=null?g:null}const w=e(t);return JSON.stringify(h)===JSON.stringify(w)?h:w})}const l=z4({callback(h){if(t)for(const g of h){const{type:w,target:b}=g;if(w==="childList"&&b instanceof HTMLElement&&b.contains(t)){a();break}}}}),c=Vh({callback:a});return il(()=>{a(),t?(c?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[t]),i}function V4(t){const e=p0(t);return w1(t,e)}const Bm=[];function W4(t){const e=J.useRef(t),r=id(i=>t?i&&i!==Bm&&t&&e.current&&t.parentNode===e.current.parentNode?i:c0(t):Bm,[t]);return J.useEffect(()=>{e.current=t},[t]),r}function H4(t){const[e,r]=J.useState(null),i=J.useRef(t),o=J.useCallback(a=>{const l=ap(a.target);l&&r(c=>c?(c.set(l,Bp(l)),new Map(c)):null)},[]);return J.useEffect(()=>{const a=i.current;if(t!==a){l(a);const c=t.map(h=>{const g=ap(h);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,Bp(g)]):null}).filter(h=>h!=null);r(c.length?new Map(c):null),i.current=t}return()=>{l(t),l(a)};function l(c){c.forEach(h=>{const g=ap(h);g?.removeEventListener("scroll",o)})}},[o,t]),J.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,l)=>Zu(a,l),uo):A1(t):uo,[t,e])}function qm(t,e){e===void 0&&(e=[]);const r=J.useRef(null);return J.useEffect(()=>{r.current=null},e),J.useEffect(()=>{const i=t!==uo;i&&!r.current&&(r.current=t),!i&&r.current&&(r.current=null)},[t]),r.current?kh(t,r.current):uo}function K4(t){J.useEffect(()=>{if(!Uh)return;const e=t.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function G4(t,e){return J.useMemo(()=>t.reduce((r,i)=>{let{eventName:o,handler:a}=i;return r[o]=l=>{a(l,e)},r},{}),[t,e])}function P1(t){return J.useMemo(()=>t?w4(t):null,[t])}const Um=[];function J4(t,e){e===void 0&&(e=sd);const[r]=t,i=P1(r?As(r):null),[o,a]=J.useState(Um);function l(){a(()=>t.length?t.map(h=>S1(h)?i:new d0(e(h),h)):Um)}const c=Vh({callback:l});return il(()=>{c?.disconnect(),l(),t.forEach(h=>c?.observe(h))},[t]),o}function L1(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return nd(e)?e:t}function Y4(t){let{measure:e}=t;const[r,i]=J.useState(null),o=J.useCallback(g=>{for(const{target:w}of g)if(nd(w)){i(b=>{const N=e(w);return b?{...b,width:N.width,height:N.height}:N});break}},[e]),a=Vh({callback:o}),l=J.useCallback(g=>{const w=L1(g);a?.disconnect(),w&&a?.observe(w),i(w?e(w):null)},[e,a]),[c,h]=xh(l);return J.useMemo(()=>({nodeRef:c,rect:r,setRef:h}),[r,c,h])}const X4=[{sensor:f0,options:{}},{sensor:C1,options:{}}],Q4={current:{}},oh={draggable:{measure:Om},droppable:{measure:Om,strategy:Xc.WhileDragging,frequency:Up.Optimized},dragOverlay:{measure:sd}};class Dc extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,i;return(r=(i=this.get(e))==null?void 0:i.node.current)!=null?r:void 0}}const Z4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Dc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Nh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:oh,measureDroppableContainers:Nh,windowRect:null,measuringScheduled:!1},I1={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Nh,draggableNodes:new Map,over:null,measureDroppableContainers:Nh},ad=J.createContext(I1),O1=J.createContext(Z4);function e_(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Dc}}}function t_(t,e){switch(e.type){case gi.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case gi.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case gi.DragEnd:case gi.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gi.RegisterDroppable:{const{element:r}=e,{id:i}=r,o=new Dc(t.droppable.containers);return o.set(i,r),{...t,droppable:{...t.droppable,containers:o}}}case gi.SetDroppableDisabled:{const{id:r,key:i,disabled:o}=e,a=t.droppable.containers.get(r);if(!a||i!==a.key)return t;const l=new Dc(t.droppable.containers);return l.set(r,{...a,disabled:o}),{...t,droppable:{...t.droppable,containers:l}}}case gi.UnregisterDroppable:{const{id:r,key:i}=e,o=t.droppable.containers.get(r);if(!o||i!==o.key)return t;const a=new Dc(t.droppable.containers);return a.delete(r),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function r_(t){let{disabled:e}=t;const{active:r,activatorEvent:i,draggableNodes:o}=J.useContext(ad),a=_h(i),l=_h(r?.id);return J.useEffect(()=>{if(!e&&!i&&a&&l!=null){if(!u0(a)||document.activeElement===a.target)return;const c=o.get(l);if(!c)return;const{activatorNode:h,node:g}=c;if(!h.current&&!g.current)return;requestAnimationFrame(()=>{for(const w of[h.current,g.current]){if(!w)continue;const b=X3(w);if(b){b.focus();break}}})}},[i,e,o,l,a]),null}function T1(t,e){let{transform:r,...i}=e;return t!=null&&t.length?t.reduce((o,a)=>a({transform:o,...i}),r):r}function n_(t){return J.useMemo(()=>({draggable:{...oh.draggable,...t?.draggable},droppable:{...oh.droppable,...t?.droppable},dragOverlay:{...oh.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function i_(t){let{activeNode:e,measure:r,initialRect:i,config:o=!0}=t;const a=J.useRef(!1),{x:l,y:c}=typeof o=="boolean"?{x:o,y:o}:o;il(()=>{if(!l&&!c||!e){a.current=!1;return}if(a.current||!i)return;const g=e?.node.current;if(!g||g.isConnected===!1)return;const w=r(g),b=w1(w,i);if(l||(b.x=0),c||(b.y=0),a.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const N=x1(g);N&&N.scrollBy({top:b.y,left:b.x})}},[e,l,c,i,r])}const Wh=J.createContext({...uo,scaleX:1,scaleY:1});var Ll;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ll||(Ll={}));const s_=J.memo(function(e){var r,i,o,a;let{id:l,accessibility:c,autoScroll:h=!0,children:g,sensors:w=X4,collisionDetection:b=f4,measuring:N,modifiers:_,...O}=e;const P=J.useReducer(t_,void 0,e_),[R,L]=P,[M,H]=n4(),[oe,pe]=J.useState(Ll.Uninitialized),Ee=oe===Ll.Initialized,{draggable:{active:ce,nodes:G,translate:he},droppable:{containers:Re}}=R,V=ce!=null?G.get(ce):null,Y=J.useRef({initial:null,translated:null}),fe=J.useMemo(()=>{var Er;return ce!=null?{id:ce,data:(Er=V?.data)!=null?Er:Q4,rect:Y}:null},[ce,V]),re=J.useRef(null),[qe,Be]=J.useState(null),[me,te]=J.useState(null),ye=Jc(O,Object.values(O)),be=$h("DndDescribedBy",l),se=J.useMemo(()=>Re.getEnabled(),[Re]),I=n_(N),{droppableRects:$,measureDroppableContainers:X,measuringScheduled:ie}=q4(se,{dragging:Ee,dependencies:[he.x,he.y],config:I.droppable}),de=M4(G,ce),xe=J.useMemo(()=>me?Sh(me):null,[me]),Oe=An(),ge=U4(de,I.draggable.measure);i_({activeNode:ce!=null?G.get(ce):null,config:Oe.layoutShiftCompensation,initialRect:ge,measure:I.draggable.measure});const rt=Mm(de,I.draggable.measure,ge),st=Mm(de?de.parentElement:null),it=J.useRef({activatorEvent:null,active:null,activeNode:de,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:G,draggingNode:null,draggingNodeRect:null,droppableContainers:Re,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),bt=Re.getNodeFor((r=it.current.over)==null?void 0:r.id),qt=Y4({measure:I.dragOverlay.measure}),Je=(i=qt.nodeRef.current)!=null?i:de,ae=Ee?(o=qt.rect)!=null?o:rt:null,Xt=!!(qt.nodeRef.current&&qt.rect),Tt=V4(Xt?null:rt),ot=P1(Je?As(Je):null),pt=W4(Ee?bt??de:null),vt=J4(pt),St=T1(_,{transform:{x:he.x-Tt.x,y:he.y-Tt.y,scaleX:1,scaleY:1},activatorEvent:me,active:fe,activeNodeRect:rt,containerNodeRect:st,draggingNodeRect:ae,over:it.current.over,overlayNodeRect:qt.rect,scrollableAncestors:pt,scrollableAncestorRects:vt,windowRect:ot}),Rt=xe?Zu(xe,he):null,Yt=H4(pt),Qt=qm(Yt),nr=qm(Yt,[rt]),Zt=Zu(St,Qt),wr=ae?m4(ae,St):null,zt=fe&&wr?b({active:fe,collisionRect:wr,droppableRects:$,droppableContainers:se,pointerCoordinates:Rt}):null,sr=d4(zt,"id"),[wt,Xr]=J.useState(null),kr=Xt?St:Zu(St,nr),ei=p4(kr,(a=wt?.rect)!=null?a:null,rt),Sr=J.useRef(null),xt=J.useCallback((Er,xr)=>{let{sensor:Ft,options:pr}=xr;if(re.current==null)return;const bn=G.get(re.current);if(!bn)return;const Cr=Er.nativeEvent,qr=new Ft({active:re.current,activeNode:bn,event:Cr,options:pr,context:it,onAbort(Ct){if(!G.get(Ct))return;const{onDragAbort:er}=ye.current,vr={id:Ct};er?.(vr),M({type:"onDragAbort",event:vr})},onPending(Ct,Qr,er,vr){if(!G.get(Ct))return;const{onDragPending:Pr}=ye.current,Ur={id:Ct,constraint:Qr,initialCoordinates:er,offset:vr};Pr?.(Ur),M({type:"onDragPending",event:Ur})},onStart(Ct){const Qr=re.current;if(Qr==null)return;const er=G.get(Qr);if(!er)return;const{onDragStart:vr}=ye.current,Mr={activatorEvent:Cr,active:{id:Qr,data:er.data,rect:Y}};Cc.unstable_batchedUpdates(()=>{vr?.(Mr),pe(Ll.Initializing),L({type:gi.DragStart,initialCoordinates:Ct,active:Qr}),M({type:"onDragStart",event:Mr}),Be(Sr.current),te(Cr)})},onMove(Ct){L({type:gi.DragMove,coordinates:Ct})},onEnd:sn(gi.DragEnd),onCancel:sn(gi.DragCancel)});Sr.current=qr;function sn(Ct){return async function(){const{active:er,collisions:vr,over:Mr,scrollAdjustedTranslate:Pr}=it.current;let Ur=null;if(er&&Pr){const{cancelDrop:qn}=ye.current;Ur={activatorEvent:Cr,active:er,collisions:vr,delta:Pr,over:Mr},Ct===gi.DragEnd&&typeof qn=="function"&&await Promise.resolve(qn(Ur))&&(Ct=gi.DragCancel)}re.current=null,Cc.unstable_batchedUpdates(()=>{L({type:Ct}),pe(Ll.Uninitialized),Xr(null),Be(null),te(null),Sr.current=null;const qn=Ct===gi.DragEnd?"onDragEnd":"onDragCancel";if(Ur){const Pi=ye.current[qn];Pi?.(Ur),M({type:qn,event:Ur})}})}}},[G]),On=J.useCallback((Er,xr)=>(Ft,pr)=>{const bn=Ft.nativeEvent,Cr=G.get(pr);if(re.current!==null||!Cr||bn.dndKit||bn.defaultPrevented)return;const qr={active:Cr};Er(Ft,xr.options,qr)===!0&&(bn.dndKit={capturedBy:xr.sensor},re.current=pr,xt(Ft,xr))},[G,xt]),mr=B4(w,On);K4(w),il(()=>{rt&&oe===Ll.Initializing&&pe(Ll.Initialized)},[rt,oe]),J.useEffect(()=>{const{onDragMove:Er}=ye.current,{active:xr,activatorEvent:Ft,collisions:pr,over:bn}=it.current;if(!xr||!Ft)return;const Cr={active:xr,activatorEvent:Ft,collisions:pr,delta:{x:Zt.x,y:Zt.y},over:bn};Cc.unstable_batchedUpdates(()=>{Er?.(Cr),M({type:"onDragMove",event:Cr})})},[Zt.x,Zt.y]),J.useEffect(()=>{const{active:Er,activatorEvent:xr,collisions:Ft,droppableContainers:pr,scrollAdjustedTranslate:bn}=it.current;if(!Er||re.current==null||!xr||!bn)return;const{onDragOver:Cr}=ye.current,qr=pr.get(sr),sn=qr&&qr.rect.current?{id:qr.id,rect:qr.rect.current,data:qr.data,disabled:qr.disabled}:null,Ct={active:Er,activatorEvent:xr,collisions:Ft,delta:{x:bn.x,y:bn.y},over:sn};Cc.unstable_batchedUpdates(()=>{Xr(sn),Cr?.(Ct),M({type:"onDragOver",event:Ct})})},[sr]),il(()=>{it.current={activatorEvent:me,active:fe,activeNode:de,collisionRect:wr,collisions:zt,droppableRects:$,draggableNodes:G,draggingNode:Je,draggingNodeRect:ae,droppableContainers:Re,over:wt,scrollableAncestors:pt,scrollAdjustedTranslate:Zt},Y.current={initial:ae,translated:wr}},[fe,de,zt,wr,G,Je,ae,$,Re,wt,pt,Zt]),R4({...Oe,delta:he,draggingRect:wr,pointerCoordinates:Rt,scrollableAncestors:pt,scrollableAncestorRects:vt});const mi=J.useMemo(()=>({active:fe,activeNode:de,activeNodeRect:rt,activatorEvent:me,collisions:zt,containerNodeRect:st,dragOverlay:qt,draggableNodes:G,droppableContainers:Re,droppableRects:$,over:wt,measureDroppableContainers:X,scrollableAncestors:pt,scrollableAncestorRects:vt,measuringConfiguration:I,measuringScheduled:ie,windowRect:ot}),[fe,de,rt,me,zt,st,qt,G,Re,$,wt,X,pt,vt,I,ie,ot]),dt=J.useMemo(()=>({activatorEvent:me,activators:mr,active:fe,activeNodeRect:rt,ariaDescribedById:{draggable:be},dispatch:L,draggableNodes:G,over:wt,measureDroppableContainers:X}),[me,mr,fe,rt,L,be,G,wt,X]);return hn.createElement(y1.Provider,{value:H},hn.createElement(ad.Provider,{value:dt},hn.createElement(O1.Provider,{value:mi},hn.createElement(Wh.Provider,{value:ei},g)),hn.createElement(r_,{disabled:c?.restoreFocus===!1})),hn.createElement(a4,{...c,hiddenTextDescribedById:be}));function An(){const Er=qe?.autoScrollEnabled===!1,xr=typeof h=="object"?h.enabled===!1:h===!1,Ft=Ee&&!Er&&!xr;return typeof h=="object"?{...h,enabled:Ft}:{enabled:Ft}}}),a_=J.createContext(null),zm="button",o_="Draggable";function l_(t){let{id:e,data:r,disabled:i=!1,attributes:o}=t;const a=$h(o_),{activators:l,activatorEvent:c,active:h,activeNodeRect:g,ariaDescribedById:w,draggableNodes:b,over:N}=J.useContext(ad),{role:_=zm,roleDescription:O="draggable",tabIndex:P=0}=o??{},R=h?.id===e,L=J.useContext(R?Wh:a_),[M,H]=xh(),[oe,pe]=xh(),Ee=G4(l,e),ce=Jc(r);il(()=>(b.set(e,{id:e,key:a,node:M,activatorNode:oe,data:ce}),()=>{const he=b.get(e);he&&he.key===a&&b.delete(e)}),[b,e]);const G=J.useMemo(()=>({role:_,tabIndex:P,"aria-disabled":i,"aria-pressed":R&&_===zm?!0:void 0,"aria-roledescription":O,"aria-describedby":w.draggable}),[i,_,P,R,O,w.draggable]);return{active:h,activatorEvent:c,activeNodeRect:g,attributes:G,isDragging:R,listeners:i?void 0:Ee,node:M,over:N,setNodeRef:H,setActivatorNodeRef:pe,transform:L}}function u_(){return J.useContext(O1)}const c_="Droppable",d_={timeout:25};function R1(t){let{data:e,disabled:r=!1,id:i,resizeObserverConfig:o}=t;const a=$h(c_),{active:l,dispatch:c,over:h,measureDroppableContainers:g}=J.useContext(ad),w=J.useRef({disabled:r}),b=J.useRef(!1),N=J.useRef(null),_=J.useRef(null),{disabled:O,updateMeasurementsFor:P,timeout:R}={...d_,...o},L=Jc(P??i),M=J.useCallback(()=>{if(!b.current){b.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{g(Array.isArray(L.current)?L.current:[L.current]),_.current=null},R)},[R]),H=Vh({callback:M,disabled:O||!l}),oe=J.useCallback((G,he)=>{H&&(he&&(H.unobserve(he),b.current=!1),G&&H.observe(G))},[H]),[pe,Ee]=xh(oe),ce=Jc(e);return J.useEffect(()=>{!H||!pe.current||(H.disconnect(),b.current=!1,H.observe(pe.current))},[pe,H]),J.useEffect(()=>(c({type:gi.RegisterDroppable,element:{id:i,key:a,disabled:r,node:pe,rect:N,data:ce}}),()=>c({type:gi.UnregisterDroppable,key:a,id:i})),[i]),J.useEffect(()=>{r!==w.current.disabled&&(c({type:gi.SetDroppableDisabled,id:i,key:a,disabled:r}),w.current.disabled=r)},[i,a,r,c]),{active:l,rect:N,isOver:h?.id===i,node:pe,over:h,setNodeRef:Ee}}function h_(t){let{animation:e,children:r}=t;const[i,o]=J.useState(null),[a,l]=J.useState(null),c=_h(r);return!r&&!i&&c&&o(c),il(()=>{if(!a)return;const h=i?.key,g=i?.props.id;if(h==null||g==null){o(null);return}Promise.resolve(e(g,a)).then(()=>{o(null)})},[e,i,a]),hn.createElement(hn.Fragment,null,r,i?J.cloneElement(i,{ref:l}):null)}const f_={x:0,y:0,scaleX:1,scaleY:1};function p_(t){let{children:e}=t;return hn.createElement(ad.Provider,{value:I1},hn.createElement(Wh.Provider,{value:f_},e))}const g_={position:"fixed",touchAction:"none"},m_=t=>u0(t)?"transform 250ms ease":void 0,v_=J.forwardRef((t,e)=>{let{as:r,activatorEvent:i,adjustScale:o,children:a,className:l,rect:c,style:h,transform:g,transition:w=m_}=t;if(!c)return null;const b=o?g:{...g,scaleX:1,scaleY:1},N={...g_,width:c.width,height:c.height,top:c.top,left:c.left,transform:Yc.Transform.toString(b),transformOrigin:o&&i?u4(i,c):void 0,transition:typeof w=="function"?w(i):w,...h};return hn.createElement(r,{className:l,style:N,ref:e},a)}),y_=t=>e=>{let{active:r,dragOverlay:i}=e;const o={},{styles:a,className:l}=t;if(a!=null&&a.active)for(const[c,h]of Object.entries(a.active))h!==void 0&&(o[c]=r.node.style.getPropertyValue(c),r.node.style.setProperty(c,h));if(a!=null&&a.dragOverlay)for(const[c,h]of Object.entries(a.dragOverlay))h!==void 0&&i.node.style.setProperty(c,h);return l!=null&&l.active&&r.node.classList.add(l.active),l!=null&&l.dragOverlay&&i.node.classList.add(l.dragOverlay),function(){for(const[h,g]of Object.entries(o))r.node.style.setProperty(h,g);l!=null&&l.active&&r.node.classList.remove(l.active)}},w_=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:Yc.Transform.toString(e)},{transform:Yc.Transform.toString(r)}]},b_={duration:250,easing:"ease",keyframes:w_,sideEffects:y_({styles:{active:{opacity:"0"}}})};function x_(t){let{config:e,draggableNodes:r,droppableContainers:i,measuringConfiguration:o}=t;return zh((a,l)=>{if(e===null)return;const c=r.get(a);if(!c)return;const h=c.node.current;if(!h)return;const g=L1(l);if(!g)return;const{transform:w}=As(l).getComputedStyle(l),b=b1(w);if(!b)return;const N=typeof e=="function"?e:__(e);return j1(h,o.draggable.measure),N({active:{id:a,data:c.data,node:h,rect:o.draggable.measure(h)},draggableNodes:r,dragOverlay:{node:l,rect:o.dragOverlay.measure(g)},droppableContainers:i,measuringConfiguration:o,transform:b})})}function __(t){const{duration:e,easing:r,sideEffects:i,keyframes:o}={...b_,...t};return a=>{let{active:l,dragOverlay:c,transform:h,...g}=a;if(!e)return;const w={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},b={scaleX:h.scaleX!==1?l.rect.width*h.scaleX/c.rect.width:1,scaleY:h.scaleY!==1?l.rect.height*h.scaleY/c.rect.height:1},N={x:h.x-w.x,y:h.y-w.y,...b},_=o({...g,active:l,dragOverlay:c,transform:{initial:h,final:N}}),[O]=_,P=_[_.length-1];if(JSON.stringify(O)===JSON.stringify(P))return;const R=i?.({active:l,dragOverlay:c,...g}),L=c.node.animate(_,{duration:e,easing:r,fill:"forwards"});return new Promise(M=>{L.onfinish=()=>{R?.(),M()}})}}let $m=0;function k_(t){return J.useMemo(()=>{if(t!=null)return $m++,$m},[t])}const S_=hn.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:i,style:o,transition:a,modifiers:l,wrapperElement:c="div",className:h,zIndex:g=999}=t;const{activatorEvent:w,active:b,activeNodeRect:N,containerNodeRect:_,draggableNodes:O,droppableContainers:P,dragOverlay:R,over:L,measuringConfiguration:M,scrollableAncestors:H,scrollableAncestorRects:oe,windowRect:pe}=u_(),Ee=J.useContext(Wh),ce=k_(b?.id),G=T1(l,{activatorEvent:w,active:b,activeNodeRect:N,containerNodeRect:_,draggingNodeRect:R.rect,over:L,overlayNodeRect:R.rect,scrollableAncestors:H,scrollableAncestorRects:oe,transform:Ee,windowRect:pe}),he=p0(N),Re=x_({config:i,draggableNodes:O,droppableContainers:P,measuringConfiguration:M}),V=he?R.setRef:void 0;return hn.createElement(p_,null,hn.createElement(h_,{animation:Re},b&&ce?hn.createElement(v_,{key:ce,id:b.id,ref:V,as:c,activatorEvent:w,adjustScale:e,className:h,transition:a,rect:he,style:{zIndex:g,...o},transform:G},r):null))}),zp=({client:t})=>{const{attributes:e,listeners:r,setNodeRef:i,transform:o,isDragging:a}=l_({id:`client-${t.id}`,data:{type:"client",client:t}}),l=o?{transform:`translate3d(${o.x}px, ${o.y}px, 0)`,zIndex:a?1e3:void 0}:void 0;return v.jsxs("div",{ref:i,style:l,...r,...e,className:`
        p-3 rounded-lg border shadow-sm flex items-center gap-3 cursor-grab active:cursor-grabbing
        transition-colors duration-200 touch-none mb-2
        ${a?"bg-blue-50 border-blue-300 shadow-lg opacity-80":"bg-white hover:bg-gray-50 border-gray-200"}
      `,children:[v.jsx("div",{className:"text-gray-400",children:v.jsx(hv,{size:16})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium text-sm text-gray-900",children:t.name}),v.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[v.jsx(du,{size:12}),t.passportNumber||"No Passport Info"]})]}),v.jsx("div",{className:`
        text-xs font-semibold px-2 py-1 rounded
        ${t.gender==="Male"?"bg-blue-100 text-blue-700":"bg-pink-100 text-pink-700"}
      `,children:t.gender==="Male"?"M":"F"})]})},N_=({room:t,clients:e,onDelete:r})=>{const{isOver:i,setNodeRef:o}=R1({id:`room-${t.id}`,data:{type:"room",room:t}}),a=()=>{switch(t.capacity){case 2:return v.jsx(G2,{size:20,className:"text-gray-600"});default:return v.jsx(lv,{size:20,className:"text-gray-600"})}},l=()=>Math.round(e.length/t.capacity*100);return v.jsxs("div",{ref:o,className:`
        relative rounded-xl border-2 transition-all duration-200
        ${i?"border-primary-500 bg-primary-50 ring-2 ring-primary-200":"border-gray-200 bg-white hover:border-gray-300"}
        ${e.length>=t.capacity?"border-red-200 bg-red-50":""}
      `,children:[v.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"font-semibold text-lg text-gray-900 flex items-center gap-2",children:[a(),"Room ",t.roomNumber]}),v.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[t.type,"  Floor ",t.floorNumber]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:`
              px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1
              ${e.length>=t.capacity?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}
            `,children:[v.jsx(Bc,{size:14}),e.length,"/",t.capacity]}),r&&v.jsx("button",{onClick:c=>{c.stopPropagation(),window.confirm("      ")&&r(t.id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:" ",children:v.jsx(fh,{size:16})})]})]}),v.jsx("div",{className:"h-1 bg-gray-100 w-full overflow-hidden",children:v.jsx("div",{className:`h-full transition-all duration-500 ${e.length>=t.capacity?"bg-red-500":"bg-green-500"}`,style:{width:`${l()}%`}})}),v.jsx("div",{className:"p-4 min-h-[120px] space-y-2",children:e.length===0?v.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 text-sm py-4 border-2 border-dashed border-gray-100 rounded-lg",children:v.jsx("span",{children:"Drop clients here"})}):e.map(c=>v.jsx(zp,{client:c},c.id))})]})},A_=({onSave:t,onCancel:e})=>{const[r,i]=J.useState({hotelName:"",city:"Makkah",type:"Double",capacity:2,floorNumber:0,roomNumber:""}),o=l=>{if(l.preventDefault(),!r.hotelName||!r.roomNumber){alert("Please fill in required fields");return}t(r)},a=l=>{let c=2;l==="Triple"&&(c=3),l==="Quad"&&(c=4),l==="Quint"&&(c=5),i({...r,type:l,capacity:c})};return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden border border-gray-100 dark:border-gray-700 animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50",children:[v.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[v.jsx(Og,{className:"text-blue-600"}),"  "]}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:v.jsx(Lh,{size:24})})]}),v.jsxs("form",{onSubmit:o,className:"p-6 space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsxs("div",{className:"relative",children:[v.jsx(Og,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-gray-900 text-gray-900 dark:text-white",placeholder:":   ",value:r.hotelName,onChange:l=>i({...r,hotelName:l.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),v.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-900 p-1 rounded-xl",children:[v.jsx("button",{type:"button",onClick:()=>i({...r,city:"Makkah"}),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${r.city==="Makkah"?"bg-white dark:bg-gray-800 shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:" "}),v.jsx("button",{type:"button",onClick:()=>i({...r,city:"Madinah"}),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${r.city==="Madinah"?"bg-white dark:bg-gray-800 shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:" "})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsxs("div",{className:"relative",children:[v.jsx(X2,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-gray-900 text-gray-900 dark:text-white",placeholder:" ",value:r.roomNumber,onChange:l=>i({...r,roomNumber:l.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),v.jsxs("div",{className:"relative",children:[v.jsx(Q2,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-gray-900 text-gray-900 dark:text-white",placeholder:"",value:r.floorNumber,onChange:l=>i({...r,floorNumber:parseInt(l.target.value)||0})})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Double","Triple","Quad","Quint"].map(l=>v.jsx("button",{type:"button",onClick:()=>a(l),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-all ${r.type===l?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:border-blue-400"}`,children:l},l))})]}),v.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-400 font-medium",children:[v.jsx(Bc,{size:20})," "]}),v.jsx("span",{className:"text-2xl font-bold text-blue-800 dark:text-blue-300",children:r.capacity})]}),v.jsxs("div",{className:"pt-4 flex gap-3",children:[v.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:""}),v.jsxs("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-200 dark:shadow-none hover:bg-blue-700 transition-all flex items-center justify-center gap-2",children:[v.jsx(Ph,{size:20})," "]})]})]})]})})},j_=({children:t})=>{const{isOver:e,setNodeRef:r}=R1({id:"unassign-zone",data:{type:"unassign"}});return v.jsx("div",{ref:r,className:`flex-1 overflow-y-auto services-scrollbar transition-colors ${e?"bg-red-50 ring-2 ring-red-200 ring-inset":""}`,children:t})},E_=()=>{const[t,e]=J.useState([]),[r,i]=J.useState([]),[o,a]=J.useState(!0),[l,c]=J.useState(!1),[h,g]=J.useState(""),[w,b]=J.useState(null),[N,_]=J.useState(!1),[O,P]=J.useState("Makkah");J.useEffect(()=>{R()},[]);const R=async()=>{try{const[G,he,Re]=await Promise.all([Ns.getRooms(),Ns.getClients(),Ns.getInvoices()]),V={};[...Re].sort((re,qe)=>new Date(qe.createdAt).getTime()-new Date(re.createdAt).getTime()).forEach(re=>{re.client?.id&&!V[re.client.id]&&(re.passportNumber||re.gender)&&(V[re.client.id]={passportNumber:re.passportNumber,gender:re.gender})});const fe=he.map(re=>{const qe=re.id?V[re.id]:null;return{...re,passportNumber:re.passportNumber||qe?.passportNumber,gender:re.gender||qe?.gender}});e(G),i(fe)}catch(G){console.error("Failed to load rooming list:",G)}finally{a(!1)}},L=async G=>{c(!0);try{await Ns.createRoom(G),await R(),_(!1)}catch(he){console.error("Failed to save room:",he),alert("Failed to save room. Please try again.")}finally{c(!1)}},M=async G=>{try{await Ns.deleteRoom(G),await R()}catch(he){console.error("Failed to delete room:",he),alert("   .      .")}},H=G=>{const{active:he}=G,Re=r.find(V=>`client-${V.id}`===he.id);Re&&b(Re)},oe=async G=>{const{active:he,over:Re}=G;if(b(null),!Re)return;const V=he.data.current.client.id;if(Re.id==="unassign-zone"){const re=t.map(qe=>({...qe,assignments:qe.assignments?.filter(Be=>Be.clientId!==V)||[]}));e(re);try{await Ns.removeClientFromRoom(V)}catch(qe){console.error("Unassign failed:",qe),R()}return}const Y=Re.data.current.room.id,fe=t.map(re=>{if(re.id===Y){const qe=t.find(Be=>Be.assignments?.some(me=>me.clientId===V));return qe&&(qe.assignments=qe.assignments?.filter(Be=>Be.clientId!==V)),{...re,assignments:[...re.assignments||[],{id:"temp-"+Date.now(),roomId:Y,clientId:V,assignedAt:new Date().toISOString()}]}}return re});e(fe);try{await Ns.assignClientToRoom(Y,V)}catch(re){console.error("Drag failed:",re),R()}},pe=l4(o4(f0,{activationConstraint:{distance:8}})),Ee=new Set(t.flatMap(G=>G.assignments?.map(he=>he.clientId)||[])),ce=r.filter(G=>!Ee.has(G.id)&&(G.name.toLowerCase().includes(h.toLowerCase())||G.passportNumber?.includes(h)));return o?v.jsx(g1,{}):v.jsx(s_,{sensors:pe,onDragStart:H,onDragEnd:oe,children:v.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[v.jsxs("header",{className:"bg-white border-b px-6 py-4 flex items-center justify-between shadow-sm sticky top-0 z-20",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[v.jsx(fv,{className:"text-blue-600"}),"Unassigned Rooming List"]}),v.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[ce.length," unassigned clients  ",t.length," rooms"]})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700 font-medium transition-colors",children:[v.jsx(hh,{size:18}),"Add Room"]}),v.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-sm transition-all active:scale-95",onClick:()=>window.print(),children:[v.jsx(Ph,{size:18}),"Export List"]})]})]}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsxs("aside",{className:"w-80 bg-white border-r flex flex-col z-10 shadow-lg",children:[v.jsx("div",{className:"p-4 border-b bg-gray-50",children:v.jsxs("div",{className:"relative",children:[v.jsx(dp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{type:"text",placeholder:"Search clients...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:h,onChange:G=>g(G.target.value)})]})}),v.jsx(j_,{children:v.jsxs("div",{className:"p-4 space-y-2",children:[v.jsxs("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3",children:["Unassigned (",ce.length,")"]}),ce.map(G=>v.jsx(zp,{client:G},G.id))]})})]}),v.jsxs("main",{className:"flex-1 overflow-y-auto p-8",children:[v.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 p-1.5 rounded-2xl mb-8 w-fit mx-auto shadow-inner",children:[v.jsx("button",{onClick:()=>P("Makkah"),className:`flex items-center gap-2 px-8 py-3 rounded-xl font-bold transition-all duration-300 ${O==="Makkah"?"bg-white dark:bg-gray-700 shadow-xl text-blue-600 scale-105":"text-gray-500 hover:text-gray-700"}`,children:"  "}),v.jsx("button",{onClick:()=>P("Madinah"),className:`flex items-center gap-2 px-8 py-3 rounded-xl font-bold transition-all duration-300 ${O==="Madinah"?"bg-white dark:bg-gray-700 shadow-xl text-blue-600 scale-105":"text-gray-500 hover:text-gray-700"}`,children:"  "})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-20",children:[t.filter(G=>G.city===O).map(G=>v.jsx(N_,{room:G,clients:r.filter(he=>G.assignments?.some(Re=>Re.clientId===he.id)),onDelete:M},G.id)),v.jsxs("button",{onClick:()=>_(!0),className:"h-full min-h-[300px] border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-blue-400 hover:text-blue-500 hover:bg-blue-50 transition-all group",children:[v.jsx("div",{className:"p-4 rounded-full bg-gray-100 group-hover:bg-blue-100 mb-4 transition-colors",children:v.jsx(hh,{size:32})}),v.jsx("span",{className:"font-medium",children:"Add New Room"})]})]})]})]}),v.jsx(S_,{children:w?v.jsx("div",{className:"opacity-90 scale-105 rotate-2 transform cursor-grabbing",children:v.jsx(zp,{client:w})}):null}),N&&v.jsx(A_,{onSave:L,onCancel:()=>_(!1)}),v.jsxs("div",{id:"printable-rooming-report",className:"hidden print:block p-8 bg-white",dir:"rtl",children:[v.jsx("style",{children:`
                        @media print {
                            body * { visibility: hidden; }
                            #printable-rooming-report, #printable-rooming-report * { visibility: visible; }
                            #printable-rooming-report { 
                                position: absolute; 
                                left: 0; 
                                top: 0; 
                                width: 100%;
                                display: block !important;
                            }
                            @page { size: A4; margin: 1cm; }
                            .no-print { display: none !important; }
                        }
                    `}),v.jsxs("div",{className:"flex justify-between items-center border-b-4 border-blue-600 pb-4 mb-8",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["   - ",O==="Makkah"?" ":" "]}),v.jsx("p",{className:"text-blue-600 font-medium mt-1",children:"Beausejour Voyage"})]}),v.jsx("div",{className:"text-left",dir:"ltr",children:v.jsxs("p",{className:"text-sm text-gray-500",children:[": ",new Date().toLocaleDateString("ar-MA")]})})]}),v.jsx("div",{className:"space-y-8",children:t.filter(G=>G.city===O).map(G=>{const he=r.filter(Re=>G.assignments?.some(V=>V.clientId===Re.id));return v.jsxs("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden break-inside-avoid",children:[v.jsxs("div",{className:"bg-gray-100 px-4 py-3 flex justify-between items-center border-b-2 border-gray-200",children:[v.jsxs("h3",{className:"text-lg font-bold",children:[" : ",v.jsx("span",{className:"text-blue-700",children:G.roomNumber||"---"}),v.jsxs("span",{className:"mr-2 text-sm text-gray-500 font-normal",children:["(",G.type==="Double"?"":G.type==="Triple"?"":G.type==="Quad"?"":"",")"]})]}),v.jsxs("span",{className:"text-sm font-medium",children:[": ",G.hotelName||"---"]})]}),v.jsxs("table",{className:"w-full text-inner",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[v.jsx("th",{className:"px-4 py-2 text-right text-sm text-gray-600",children:"  "}),v.jsx("th",{className:"px-4 py-2 text-right text-sm text-gray-600",children:" "}),v.jsx("th",{className:"px-4 py-2 text-right text-sm text-gray-600",children:""})]})}),v.jsx("tbody",{children:he.length===0?v.jsx("tr",{children:v.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-400 italic",children:"   "})}):he.map(Re=>v.jsxs("tr",{className:"border-b border-gray-100",children:[v.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900",children:Re.name}),v.jsx("td",{className:"px-4 py-3 text-gray-700",children:Re.passportNumber||"---"}),v.jsx("td",{className:"px-4 py-3 text-gray-700",children:Re.gender==="Male"?"":Re.gender==="Female"?"":"---"})]},Re.id))})]})]},G.id)})}),v.jsxs("div",{className:"mt-12 pt-4 border-t border-gray-200 text-center text-gray-400 text-xs",children:["      Beausejour Voyage  ",new Date().getFullYear()]})]})]})})},C_=()=>v.jsx(K3,{children:v.jsx(u5,{children:v.jsx(F3,{children:v.jsx(R2,{children:v.jsxs("div",{className:"relative",children:[v.jsx(H3,{}),v.jsxs(h2,{children:[v.jsx(Ec,{path:"/",element:v.jsx(Pg,{to:"/portal",replace:!0})}),v.jsx(Ec,{path:"/portal",element:v.jsx(W3,{})}),v.jsx(Ec,{path:"/portal/rooming",element:v.jsx(E_,{})}),v.jsx(Ec,{path:"*",element:v.jsx(Pg,{to:"/portal",replace:!0})})]})]})})})})});function P_(){return v.jsx(C_,{})}_y.createRoot(document.getElementById("root")).render(v.jsx(J.StrictMode,{children:v.jsx(P_,{})}));export{en as _,py as c,Vm as g};
